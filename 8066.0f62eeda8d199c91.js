(self.webpackChunkscales_doc_site=self.webpackChunkscales_doc_site||[]).push([[8066],{6708:ut=>{var nt,rt,V,Je;nt={},rt=function(S){var b=nt[S];if(void 0===b)throw"module ["+S+"] was undefined";return void 0===b.instance&&function(S){for(var b=nt[S],h=b.deps,a=b.defn,t=h.length,m=new Array(t),n=0;n<t;++n)m[n]=rt(h[n]);var u=a.apply(null,m);if(void 0===u)throw"module ["+S+"] returned undefined";b.instance=u}(S),b.instance},Je=function(S,b){V(S,[],function(){return b})},(V=function(S,b,h){if("string"!=typeof S)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+S;if(void 0===h)throw"no definition function for "+S;nt[S]={deps:b,defn:h,instance:void 0}})("tinymce.core.geom.Rect",[],function(){"use strict";var S=Math.min,b=Math.max,h=Math.round;function a(i,c,v){var k,y,p,g,d,l;return k=c.x,y=c.y,p=i.w,g=i.h,d=c.w,l=c.h,"b"===(v=(v||"").split(""))[0]&&(y+=l),"r"===v[1]&&(k+=d),"c"===v[0]&&(y+=h(l/2)),"c"===v[1]&&(k+=h(d/2)),"b"===v[3]&&(y-=g),"r"===v[4]&&(k-=p),"c"===v[3]&&(y-=h(g/2)),"c"===v[4]&&(k-=h(p/2)),s(k,y,p,g)}function s(i,c,v,k){return{x:i,y:c,w:v,h:k}}return{inflate:function m(i,c,v){return s(i.x-c,i.y-v,i.w+2*c,i.h+2*v)},relativePosition:a,findBestRelativePosition:function t(i,c,v,k){var y,p;for(p=0;p<k.length;p++)if((y=a(i,c,k[p])).x>=v.x&&y.x+y.w<=v.w+v.x&&y.y>=v.y&&y.y+y.h<=v.h+v.y)return k[p];return null},intersect:function n(i,c){var v,k,y,p;return v=b(i.x,c.x),k=b(i.y,c.y),y=S(i.x+i.w,c.x+c.w),p=S(i.y+i.h,c.y+c.h),y-v<0||p-k<0?null:s(v,k,y-v,p-k)},clamp:function u(i,c,v){var k,y,p,g,d,l,r,o,E,e;return l=i.y,r=i.x+i.w,o=i.y+i.h,E=c.x+c.w,e=c.y+c.h,k=b(0,c.x-(d=i.x)),y=b(0,c.y-l),p=b(0,r-E),g=b(0,o-e),d+=k,l+=y,v&&(r+=k,o+=y,d-=p,l-=g),s(d,l,(r-=p)-d,(o-=g)-l)},create:s,fromClientRect:function f(i){return s(i.left,i.top,i.width,i.height)}}}),V("tinymce.core.util.Promise",[],function(){if(window.Promise)return window.Promise;var S=a.immediateFn||"function"==typeof setImmediate&&setImmediate||function(i){setTimeout(i,1)};function b(i,c){return function(){i.apply(c,arguments)}}var h=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function a(i){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof i)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(i,b(m,this),b(n,this))}function t(i){var c=this;null!==this._state?S(function(){var v=c._state?i.onFulfilled:i.onRejected;if(null!==v){var k;try{k=v(c._value)}catch(y){return void i.reject(y)}i.resolve(k)}else(c._state?i.resolve:i.reject)(c._value)}):this._deferreds.push(i)}function m(i){try{if(i===this)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void f(b(c,i),b(m,this),b(n,this))}this._state=!0,this._value=i,u.call(this)}catch(v){n.call(this,v)}}function n(i){this._state=!1,this._value=i,u.call(this)}function u(){for(var i=0,c=this._deferreds.length;i<c;i++)t.call(this,this._deferreds[i]);this._deferreds=null}function s(i,c,v,k){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof c?c:null,this.resolve=v,this.reject=k}function f(i,c,v){var k=!1;try{i(function(y){k||(k=!0,c(y))},function(y){k||(k=!0,v(y))})}catch(y){if(k)return;k=!0,v(y)}}return a.prototype.catch=function(i){return this.then(null,i)},a.prototype.then=function(i,c){var v=this;return new a(function(k,y){t.call(v,new s(i,c,k,y))})},a.all=function(){var i=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new a(function(c,v){if(0===i.length)return c([]);var k=i.length;function y(g,d){try{if(d&&("object"==typeof d||"function"==typeof d)){var l=d.then;if("function"==typeof l)return void l.call(d,function(r){y(g,r)},v)}i[g]=d,0==--k&&c(i)}catch(r){v(r)}}for(var p=0;p<i.length;p++)y(p,i[p])})},a.resolve=function(i){return i&&"object"==typeof i&&i.constructor===a?i:new a(function(c){c(i)})},a.reject=function(i){return new a(function(c,v){v(i)})},a.race=function(i){return new a(function(c,v){for(var k=0,y=i.length;k<y;k++)i[k].then(c,v)})},a}),V("tinymce.core.util.Delay",["tinymce.core.util.Promise"],function(S){var b;function a(s,f){return"number"!=typeof f&&(f=0),setTimeout(s,f)}function t(s,f){return"number"!=typeof f&&(f=1),setInterval(s,f)}function u(s,f){var i,c;return c=function(){var v=arguments;clearTimeout(i),i=a(function(){s.apply(this,v)},f)},c.stop=function(){clearTimeout(i)},c}return{requestAnimationFrame:function(s,f){b?b.then(s):b=new S(function(i){f||(f=document.body),function h(s,f){var i,c=window.requestAnimationFrame,v=["ms","moz","webkit"];for(i=0;i<v.length&&!c;i++)c=window[v[i]+"RequestAnimationFrame"];c||(c=function k(y){window.setTimeout(y,0)}),c(s,f)}(i,f)}).then(s)},setTimeout:a,setInterval:t,setEditorTimeout:function(s,f,i){return a(function(){s.removed||f()},i)},setEditorInterval:function(s,f,i){var c;return c=t(function(){s.removed?clearInterval(c):f()},i)},debounce:u,throttle:u,clearInterval:function n(s){return clearInterval(s)},clearTimeout:function m(s){return clearTimeout(s)}}}),V("tinymce.core.Env",[],function(){var h,a,t,m,n,u,s,f,i,c,v,k,y,S=navigator,b=S.userAgent;function p(d){return"matchMedia"in window&&matchMedia(d).matches}return h=window.opera&&window.opera.buildNumber,i=/Android/.test(b),t=(t=!(a=/WebKit/.test(b))&&!h&&/MSIE/gi.test(b)&&/Explorer/gi.test(S.appName))&&/MSIE (\w+)\./.exec(b)[1],m=-1!=b.indexOf("Trident/")&&(-1!=b.indexOf("rv:")||-1!=S.appName.indexOf("Netscape"))&&11,n=-1!=b.indexOf("Edge/")&&!t&&!m&&12,t=t||m||n,u=!a&&!m&&/Gecko/.test(b),s=-1!=b.indexOf("Mac"),f=/(iPad|iPhone)/.test(b),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,v=p("only screen and (max-device-width: 480px)")&&(i||f),k=p("only screen and (min-width: 800px)")&&(i||f),y=-1!=b.indexOf("Windows Phone"),n&&(a=!1),{opera:h,webkit:a,ie:t,gecko:u,mac:s,iOS:f,android:i,contentEditable:!f||c||b.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=t,range:window.getSelection&&"Range"in window,documentMode:t&&!n?document.documentMode||7:10,fileApi:c,ceFalse:!1===t||t>8,canHaveCSP:!1===t||t>11,desktop:!v&&!k,windowsPhone:y}}),V("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],function(S,b){"use strict";var h="mce-data-",a=/^(?:mouse|contextmenu)|click/,t={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},m=function(y){return y.isDefaultPrevented===u||y.isDefaultPrevented===n},n=function(){return!1},u=function(){return!0};function s(y,p,g,d){y.addEventListener?y.addEventListener(p,g,d||!1):y.attachEvent&&y.attachEvent("on"+p,g)}function f(y,p,g,d){y.removeEventListener?y.removeEventListener(p,g,d||!1):y.detachEvent&&y.detachEvent("on"+p,g)}function c(y,p){var g,l,d=p||{};for(g in y)t[g]||(d[g]=y[g]);if(d.target||(d.target=d.srcElement||document),b.experimentalShadowDom&&(d.target=function i(y,p){var g,d=p;return(g=y.path)&&g.length>0&&(d=g[0]),y.deepPath&&(g=y.deepPath())&&g.length>0&&(d=g[0]),d}(y,d.target)),y&&a.test(y.type)&&y.pageX===l&&y.clientX!==l){var r=d.target.ownerDocument||document,o=r.documentElement,E=r.body;d.pageX=y.clientX+(o&&o.scrollLeft||E&&E.scrollLeft||0)-(o&&o.clientLeft||E&&E.clientLeft||0),d.pageY=y.clientY+(o&&o.scrollTop||E&&E.scrollTop||0)-(o&&o.clientTop||E&&E.clientTop||0)}return d.preventDefault=function(){d.isDefaultPrevented=u,y&&(y.preventDefault?y.preventDefault():y.returnValue=!1)},d.stopPropagation=function(){d.isPropagationStopped=u,y&&(y.stopPropagation?y.stopPropagation():y.cancelBubble=!0)},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=u,d.stopPropagation()},!1===m(d)&&(d.isDefaultPrevented=n,d.isPropagationStopped=n,d.isImmediatePropagationStopped=n),typeof d.metaKey>"u"&&(d.metaKey=!1),d}function v(y,p,g){var d=y.document,l={type:"ready"};function r(){return"complete"===d.readyState||"interactive"===d.readyState&&d.body}function o(){g.domLoaded||(g.domLoaded=!0,p(l))}g.domLoaded?p(l):(!d.addEventListener||b.ie&&b.ie<11?(s(d,"readystatechange",function E(){r()&&(f(d,"readystatechange",E),o())}),d.documentElement.doScroll&&y.self===y.top&&function e(){try{d.documentElement.doScroll("left")}catch{return void S.setTimeout(e)}o()}()):r()?o():s(y,"DOMContentLoaded",o),s(y,"load",o))}function k(){var g,d,l,r,o,y=this,p={};function E(e,C){var w,x,T,N,_=p[C];if(w=_&&_[e.type])for(x=0,T=w.length;x<T;x++)if((N=w[x])&&!1===N.func.call(N.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}d=h+(+new Date).toString(32),r="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},g=1,y.domLoaded=!1,y.events=p,y.bind=function(e,C,w,x){var T,N,_,A,F,O,R,M=window;function U(P){E(c(P||M.event),T)}if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[d]?T=e[d]:(T=g++,e[d]=T,p[T]={}),x=x||e,_=(C=C.split(" ")).length;_--;)O=U,F=R=!1,"DOMContentLoaded"===(A=C[_])&&(A="ready"),y.domLoaded&&"ready"===A&&"complete"==e.readyState?w.call(x,c({type:A})):(r||(F=o[A])&&(O=function(P){var B,L;if(B=P.currentTarget,(L=P.relatedTarget)&&B.contains)L=B.contains(L);else for(;L&&L!==B;)L=L.parentNode;L||((P=c(P||M.event)).type="mouseout"===P.type?"mouseleave":"mouseenter",P.target=B,E(P,T))}),!l&&("focusin"===A||"focusout"===A)&&(R=!0,F="focusin"===A?"focus":"blur",O=function(P){(P=c(P||M.event)).type="focus"===P.type?"focusin":"focusout",E(P,T)}),(N=p[T][A])?"ready"===A&&y.domLoaded?w({type:A}):N.push({func:w,scope:x}):(p[T][A]=N=[{func:w,scope:x}],N.fakeName=F,N.capture=R,N.nativeHandler=O,"ready"===A?v(e,O,y):s(e,F||A,O,R)));return e=N=0,w}},y.unbind=function(e,C,w){var x,T,N,_,A,F;if(!e||3===e.nodeType||8===e.nodeType)return y;if(x=e[d]){if(F=p[x],C){for(N=(C=C.split(" ")).length;N--;)if(T=F[A=C[N]]){if(w)for(_=T.length;_--;)if(T[_].func===w){var O=T.nativeHandler,R=T.fakeName,M=T.capture;(T=T.slice(0,_).concat(T.slice(_+1))).nativeHandler=O,T.fakeName=R,T.capture=M,F[A]=T}(!w||0===T.length)&&(delete F[A],f(e,T.fakeName||A,T.nativeHandler,T.capture))}}else{for(A in F)f(e,(T=F[A]).fakeName||A,T.nativeHandler,T.capture);F={}}for(A in F)return y;delete p[x];try{delete e[d]}catch{e[d]=null}}return y},y.fire=function(e,C,w){var x;if(!e||3===e.nodeType||8===e.nodeType)return y;(w=c(null,w)).type=C,w.target=e;do{(x=e[d])&&E(w,x),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!w.isPropagationStopped());return y},y.clean=function(e){var C,w,x=y.unbind;if(!e||3===e.nodeType||8===e.nodeType)return y;if(e[d]&&x(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(x(e),C=(w=e.getElementsByTagName("*")).length;C--;)(e=w[C])[d]&&x(e);return y},y.destroy=function(){p={}},y.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}return(k.Event=new k).bind(window,"ready",function(){}),k}),V("tinymce.core.dom.Sizzle",[],function(){var S,b,h,a,t,m,n,u,s,f,i,c,v,k,y,p,g,d,l,r="sizzle"+-new Date,o=window.document,E=0,e=0,C=be(),w=be(),x=be(),T=function(D,H){return D===H&&(i=!0),0},N="undefined",_=1<<31,A={}.hasOwnProperty,F=[],O=F.pop,R=F.push,M=F.push,U=F.slice,P=F.indexOf||function(D){for(var H=0,W=this.length;H<W;H++)if(this[H]===D)return H;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+L+"*("+z+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+L+"*\\]",ee=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",ue=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),ae=new RegExp("^"+L+"*,"+L+"*"),ne=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),he=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),Ee=new RegExp(ee),me=new RegExp("^"+z+"$"),$={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+ee),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,ie=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ke=/[+~]/,ye=/'|\\/g,oe=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),K=function(D,H,W){var j="0x"+H-65536;return j!=j||W?H:j<0?String.fromCharCode(j+65536):String.fromCharCode(j>>10|55296,1023&j|56320)};try{M.apply(F=U.call(o.childNodes),o.childNodes)}catch{M={apply:F.length?function(H,W){R.apply(H,U.call(W))}:function(H,W){for(var j=H.length,X=0;H[j++]=W[X++];);H.length=j-1}}}function se(D,H,W,j){var X,Q,J,ce,te,Se,_e,Re,Fe,Oe;if((H?H.ownerDocument||H:o)!==v&&c(H),W=W||[],!D||"string"!=typeof D)return W;if(1!==(ce=(H=H||v).nodeType)&&9!==ce)return[];if(y&&!j){if(X=ie.exec(D))if(J=X[1]){if(9===ce){if(!(Q=H.getElementById(J))||!Q.parentNode)return W;if(Q.id===J)return W.push(Q),W}else if(H.ownerDocument&&(Q=H.ownerDocument.getElementById(J))&&l(H,Q)&&Q.id===J)return W.push(Q),W}else{if(X[2])return M.apply(W,H.getElementsByTagName(D)),W;if((J=X[3])&&b.getElementsByClassName)return M.apply(W,H.getElementsByClassName(J)),W}if(b.qsa&&(!p||!p.test(D))){if(Re=_e=r,Fe=H,Oe=9===ce&&D,1===ce&&"object"!==H.nodeName.toLowerCase()){for(Se=m(D),(_e=H.getAttribute("id"))?Re=_e.replace(ye,"\\$&"):H.setAttribute("id",Re),Re="[id='"+Re+"'] ",te=Se.length;te--;)Se[te]=Re+Ae(Se[te]);Fe=ke.test(D)&&fe(H.parentNode)||H,Oe=Se.join(",")}if(Oe)try{return M.apply(W,Fe.querySelectorAll(Oe)),W}catch{}finally{_e||H.removeAttribute("id")}}}return u(D.replace(ue,"$1"),H,W,j)}function be(){var D=[];return function H(W,j){return D.push(W+" ")>h.cacheLength&&delete H[D.shift()],H[W+" "]=j}}function we(D){return D[r]=!0,D}function De(D){var H=v.createElement("div");try{return!!D(H)}catch{return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function ve(D,H){for(var W=D.split("|"),j=D.length;j--;)h.attrHandle[W[j]]=H}function Ue(D,H){var W=H&&D,j=W&&1===D.nodeType&&1===H.nodeType&&(~H.sourceIndex||_)-(~D.sourceIndex||_);if(j)return j;if(W)for(;W=W.nextSibling;)if(W===H)return-1;return D?1:-1}function qe(D){return function(H){return"input"===H.nodeName.toLowerCase()&&H.type===D}}function Te(D){return function(H){var W=H.nodeName.toLowerCase();return("input"===W||"button"===W)&&H.type===D}}function re(D){return we(function(H){return H=+H,we(function(W,j){for(var X,Q=D([],W.length,H),J=Q.length;J--;)W[X=Q[J]]&&(W[X]=!(j[X]=W[X]))})})}function fe(D){return D&&typeof D.getElementsByTagName!==N&&D}for(S in b=se.support={},t=se.isXML=function(D){var H=D&&(D.ownerDocument||D).documentElement;return!!H&&"HTML"!==H.nodeName},c=se.setDocument=function(D){var H,W=D?D.ownerDocument||D:o,j=W.defaultView;return W!==v&&9===W.nodeType&&W.documentElement?(v=W,k=W.documentElement,y=!t(W),j&&j!==function X(Q){try{return Q.top}catch{}return null}(j)&&(j.addEventListener?j.addEventListener("unload",function(){c()},!1):j.attachEvent&&j.attachEvent("onunload",function(){c()})),b.attributes=De(function(Q){return Q.className="i",!Q.getAttribute("className")}),b.getElementsByTagName=De(function(Q){return Q.appendChild(W.createComment("")),!Q.getElementsByTagName("*").length}),b.getElementsByClassName=Y.test(W.getElementsByClassName),b.getById=De(function(Q){return k.appendChild(Q).id=r,!W.getElementsByName||!W.getElementsByName(r).length}),b.getById?(h.find.ID=function(Q,J){if(typeof J.getElementById!==N&&y){var ce=J.getElementById(Q);return ce&&ce.parentNode?[ce]:[]}},h.filter.ID=function(Q){var J=Q.replace(oe,K);return function(ce){return ce.getAttribute("id")===J}}):(delete h.find.ID,h.filter.ID=function(Q){var J=Q.replace(oe,K);return function(ce){var te=typeof ce.getAttributeNode!==N&&ce.getAttributeNode("id");return te&&te.value===J}}),h.find.TAG=b.getElementsByTagName?function(Q,J){if(typeof J.getElementsByTagName!==N)return J.getElementsByTagName(Q)}:function(Q,J){var ce,te=[],Se=0,_e=J.getElementsByTagName(Q);if("*"===Q){for(;ce=_e[Se++];)1===ce.nodeType&&te.push(ce);return te}return _e},h.find.CLASS=b.getElementsByClassName&&function(Q,J){if(y)return J.getElementsByClassName(Q)},g=[],p=[],(b.qsa=Y.test(W.querySelectorAll))&&(De(function(Q){Q.innerHTML="<select msallowcapture=''><option selected=''></option></select>",Q.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+L+"*(?:''|\"\")"),Q.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+B+")"),Q.querySelectorAll(":checked").length||p.push(":checked")}),De(function(Q){var J=W.createElement("input");J.setAttribute("type","hidden"),Q.appendChild(J).setAttribute("name","D"),Q.querySelectorAll("[name=d]").length&&p.push("name"+L+"*[*^$|!~]?="),Q.querySelectorAll(":enabled").length||p.push(":enabled",":disabled"),Q.querySelectorAll("*,:x"),p.push(",.*:")})),(b.matchesSelector=Y.test(d=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&De(function(Q){b.disconnectedMatch=d.call(Q,"div"),d.call(Q,"[s!='']:x"),g.push("!=",ee)}),p=p.length&&new RegExp(p.join("|")),g=g.length&&new RegExp(g.join("|")),H=Y.test(k.compareDocumentPosition),l=H||Y.test(k.contains)?function(Q,J){var ce=9===Q.nodeType?Q.documentElement:Q,te=J&&J.parentNode;return Q===te||!(!te||1!==te.nodeType||!(ce.contains?ce.contains(te):Q.compareDocumentPosition&&16&Q.compareDocumentPosition(te)))}:function(Q,J){if(J)for(;J=J.parentNode;)if(J===Q)return!0;return!1},T=H?function(Q,J){if(Q===J)return i=!0,0;var ce=!Q.compareDocumentPosition-!J.compareDocumentPosition;return ce||(1&(ce=(Q.ownerDocument||Q)===(J.ownerDocument||J)?Q.compareDocumentPosition(J):1)||!b.sortDetached&&J.compareDocumentPosition(Q)===ce?Q===W||Q.ownerDocument===o&&l(o,Q)?-1:J===W||J.ownerDocument===o&&l(o,J)?1:f?P.call(f,Q)-P.call(f,J):0:4&ce?-1:1)}:function(Q,J){if(Q===J)return i=!0,0;var ce,te=0,Se=Q.parentNode,_e=J.parentNode,Re=[Q],Fe=[J];if(!Se||!_e)return Q===W?-1:J===W?1:Se?-1:_e?1:f?P.call(f,Q)-P.call(f,J):0;if(Se===_e)return Ue(Q,J);for(ce=Q;ce=ce.parentNode;)Re.unshift(ce);for(ce=J;ce=ce.parentNode;)Fe.unshift(ce);for(;Re[te]===Fe[te];)te++;return te?Ue(Re[te],Fe[te]):Re[te]===o?-1:Fe[te]===o?1:0},W):v},se.matches=function(D,H){return se(D,null,null,H)},se.matchesSelector=function(D,H){if((D.ownerDocument||D)!==v&&c(D),H=H.replace(he,"='$1']"),b.matchesSelector&&y&&(!g||!g.test(H))&&(!p||!p.test(H)))try{var W=d.call(D,H);if(W||b.disconnectedMatch||D.document&&11!==D.document.nodeType)return W}catch{}return se(H,v,null,[D]).length>0},se.contains=function(D,H){return(D.ownerDocument||D)!==v&&c(D),l(D,H)},se.attr=function(D,H){(D.ownerDocument||D)!==v&&c(D);var W=h.attrHandle[H.toLowerCase()],j=W&&A.call(h.attrHandle,H.toLowerCase())?W(D,H,!y):void 0;return void 0!==j?j:b.attributes||!y?D.getAttribute(H):(j=D.getAttributeNode(H))&&j.specified?j.value:null},se.error=function(D){throw new Error("Syntax error, unrecognized expression: "+D)},se.uniqueSort=function(D){var H,W=[],j=0,X=0;if(i=!b.detectDuplicates,f=!b.sortStable&&D.slice(0),D.sort(T),i){for(;H=D[X++];)H===D[X]&&(j=W.push(X));for(;j--;)D.splice(W[j],1)}return f=null,D},a=se.getText=function(D){var H,W="",j=0,X=D.nodeType;if(X){if(1===X||9===X||11===X){if("string"==typeof D.textContent)return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)W+=a(D)}else if(3===X||4===X)return D.nodeValue}else for(;H=D[j++];)W+=a(H);return W},(h=se.selectors={cacheLength:50,createPseudo:we,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(oe,K),D[3]=(D[3]||D[4]||D[5]||"").replace(oe,K),"~="===D[2]&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),"nth"===D[1].slice(0,3)?(D[3]||se.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*("even"===D[3]||"odd"===D[3])),D[5]=+(D[7]+D[8]||"odd"===D[3])):D[3]&&se.error(D[0]),D},PSEUDO:function(D){var H,W=!D[6]&&D[2];return $.CHILD.test(D[0])?null:(D[3]?D[2]=D[4]||D[5]||"":W&&Ee.test(W)&&(H=m(W,!0))&&(H=W.indexOf(")",W.length-H)-W.length)&&(D[0]=D[0].slice(0,H),D[2]=W.slice(0,H)),D.slice(0,3))}},filter:{TAG:function(D){var H=D.replace(oe,K).toLowerCase();return"*"===D?function(){return!0}:function(W){return W.nodeName&&W.nodeName.toLowerCase()===H}},CLASS:function(D){var H=C[D+" "];return H||(H=new RegExp("(^|"+L+")"+D+"("+L+"|$)"))&&C(D,function(W){return H.test("string"==typeof W.className&&W.className||typeof W.getAttribute!==N&&W.getAttribute("class")||"")})},ATTR:function(D,H,W){return function(j){var X=se.attr(j,D);return null==X?"!="===H:!H||(X+="","="===H?X===W:"!="===H?X!==W:"^="===H?W&&0===X.indexOf(W):"*="===H?W&&X.indexOf(W)>-1:"$="===H?W&&X.slice(-W.length)===W:"~="===H?(" "+X+" ").indexOf(W)>-1:"|="===H&&(X===W||X.slice(0,W.length+1)===W+"-"))}},CHILD:function(D,H,W,j,X){var Q="nth"!==D.slice(0,3),J="last"!==D.slice(-4),ce="of-type"===H;return 1===j&&0===X?function(te){return!!te.parentNode}:function(te,Se,_e){var Re,Fe,Oe,de,Ne,xe,pe=Q!==J?"nextSibling":"previousSibling",le=te.parentNode,ge=ce&&te.nodeName.toLowerCase(),Pe=!_e&&!ce;if(le){if(Q){for(;pe;){for(Oe=te;Oe=Oe[pe];)if(ce?Oe.nodeName.toLowerCase()===ge:1===Oe.nodeType)return!1;xe=pe="only"===D&&!xe&&"nextSibling"}return!0}if(xe=[J?le.firstChild:le.lastChild],J&&Pe){for(de=(Re=(Fe=le[r]||(le[r]={}))[D]||[])[0]===E&&Re[2],Oe=(Ne=Re[0]===E&&Re[1])&&le.childNodes[Ne];Oe=++Ne&&Oe&&Oe[pe]||(de=Ne=0)||xe.pop();)if(1===Oe.nodeType&&++de&&Oe===te){Fe[D]=[E,Ne,de];break}}else if(Pe&&(Re=(te[r]||(te[r]={}))[D])&&Re[0]===E)de=Re[1];else for(;(Oe=++Ne&&Oe&&Oe[pe]||(de=Ne=0)||xe.pop())&&((ce?Oe.nodeName.toLowerCase()!==ge:1!==Oe.nodeType)||!++de||(Pe&&((Oe[r]||(Oe[r]={}))[D]=[E,de]),Oe!==te)););return(de-=X)===j||de%j==0&&de/j>=0}}},PSEUDO:function(D,H){var W,j=h.pseudos[D]||h.setFilters[D.toLowerCase()]||se.error("unsupported pseudo: "+D);return j[r]?j(H):j.length>1?(W=[D,D,"",H],h.setFilters.hasOwnProperty(D.toLowerCase())?we(function(X,Q){for(var J,ce=j(X,H),te=ce.length;te--;)X[J=P.call(X,ce[te])]=!(Q[J]=ce[te])}):function(X){return j(X,0,W)}):j}},pseudos:{not:we(function(D){var H=[],W=[],j=n(D.replace(ue,"$1"));return j[r]?we(function(X,Q,J,ce){for(var te,Se=j(X,null,ce,[]),_e=X.length;_e--;)(te=Se[_e])&&(X[_e]=!(Q[_e]=te))}):function(X,Q,J){return H[0]=X,j(H,null,J,W),!W.pop()}}),has:we(function(D){return function(H){return se(D,H).length>0}}),contains:we(function(D){return D=D.replace(oe,K),function(H){return(H.textContent||H.innerText||a(H)).indexOf(D)>-1}}),lang:we(function(D){return me.test(D||"")||se.error("unsupported lang: "+D),D=D.replace(oe,K).toLowerCase(),function(H){var W;do{if(W=y?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return(W=W.toLowerCase())===D||0===W.indexOf(D+"-")}while((H=H.parentNode)&&1===H.nodeType);return!1}}),target:function(D){var H=window.location&&window.location.hash;return H&&H.slice(1)===D.id},root:function(D){return D===k},focus:function(D){return D===v.activeElement&&(!v.hasFocus||v.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:function(D){return!1===D.disabled},disabled:function(D){return!0===D.disabled},checked:function(D){var H=D.nodeName.toLowerCase();return"input"===H&&!!D.checked||"option"===H&&!!D.selected},selected:function(D){return!0===D.selected},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeType<6)return!1;return!0},parent:function(D){return!h.pseudos.empty(D)},header:function(D){return Z.test(D.nodeName)},input:function(D){return G.test(D.nodeName)},button:function(D){var H=D.nodeName.toLowerCase();return"input"===H&&"button"===D.type||"button"===H},text:function(D){var H;return"input"===D.nodeName.toLowerCase()&&"text"===D.type&&(null==(H=D.getAttribute("type"))||"text"===H.toLowerCase())},first:re(function(){return[0]}),last:re(function(D,H){return[H-1]}),eq:re(function(D,H,W){return[W<0?W+H:W]}),even:re(function(D,H){for(var W=0;W<H;W+=2)D.push(W);return D}),odd:re(function(D,H){for(var W=1;W<H;W+=2)D.push(W);return D}),lt:re(function(D,H,W){for(var j=W<0?W+H:W;--j>=0;)D.push(j);return D}),gt:re(function(D,H,W){for(var j=W<0?W+H:W;++j<H;)D.push(j);return D})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[S]=qe(S);for(S in{submit:!0,reset:!0})h.pseudos[S]=Te(S);function Ce(){}function Ae(D){for(var H=0,W=D.length,j="";H<W;H++)j+=D[H].value;return j}function Me(D,H,W){var j=H.dir,X=W&&"parentNode"===j,Q=e++;return H.first?function(J,ce,te){for(;J=J[j];)if(1===J.nodeType||X)return D(J,ce,te)}:function(J,ce,te){var Se,_e,Re=[E,Q];if(te){for(;J=J[j];)if((1===J.nodeType||X)&&D(J,ce,te))return!0}else for(;J=J[j];)if(1===J.nodeType||X){if((Se=(_e=J[r]||(J[r]={}))[j])&&Se[0]===E&&Se[1]===Q)return Re[2]=Se[2];if(_e[j]=Re,Re[2]=D(J,ce,te))return!0}}}function Le(D){return D.length>1?function(H,W,j){for(var X=D.length;X--;)if(!D[X](H,W,j))return!1;return!0}:D[0]}function Ke(D,H,W,j,X){for(var Q,J=[],ce=0,te=D.length,Se=null!=H;ce<te;ce++)(Q=D[ce])&&(!W||W(Q,j,X))&&(J.push(Q),Se&&H.push(ce));return J}function je(D,H,W,j,X,Q){return j&&!j[r]&&(j=je(j)),X&&!X[r]&&(X=je(X,Q)),we(function(J,ce,te,Se){var _e,Re,Fe,Oe=[],de=[],Ne=ce.length,xe=J||function Ye(D,H,W){for(var j=0,X=H.length;j<X;j++)se(D,H[j],W);return W}(H||"*",te.nodeType?[te]:te,[]),pe=!D||!J&&H?xe:Ke(xe,Oe,D,te,Se),le=W?X||(J?D:Ne||j)?[]:ce:pe;if(W&&W(pe,le,te,Se),j)for(_e=Ke(le,de),j(_e,[],te,Se),Re=_e.length;Re--;)(Fe=_e[Re])&&(le[de[Re]]=!(pe[de[Re]]=Fe));if(J){if(X||D){if(X){for(_e=[],Re=le.length;Re--;)(Fe=le[Re])&&_e.push(pe[Re]=Fe);X(null,le=[],_e,Se)}for(Re=le.length;Re--;)(Fe=le[Re])&&(_e=X?P.call(J,Fe):Oe[Re])>-1&&(J[_e]=!(ce[_e]=Fe))}}else le=Ke(le===ce?le.splice(Ne,le.length):le),X?X(null,ce,le,Se):M.apply(ce,le)})}function Xe(D){for(var H,W,j,X=D.length,Q=h.relative[D[0].type],J=Q||h.relative[" "],ce=Q?1:0,te=Me(function(Re){return Re===H},J,!0),Se=Me(function(Re){return P.call(H,Re)>-1},J,!0),_e=[function(Re,Fe,Oe){return!Q&&(Oe||Fe!==s)||((H=Fe).nodeType?te(Re,Fe,Oe):Se(Re,Fe,Oe))}];ce<X;ce++)if(W=h.relative[D[ce].type])_e=[Me(Le(_e),W)];else{if((W=h.filter[D[ce].type].apply(null,D[ce].matches))[r]){for(j=++ce;j<X&&!h.relative[D[j].type];j++);return je(ce>1&&Le(_e),ce>1&&Ae(D.slice(0,ce-1).concat({value:" "===D[ce-2].type?"*":""})).replace(ue,"$1"),W,ce<j&&Xe(D.slice(ce,j)),j<X&&Xe(D=D.slice(j)),j<X&&Ae(D))}_e.push(W)}return Le(_e)}return Ce.prototype=h.filters=h.pseudos,h.setFilters=new Ce,m=se.tokenize=function(D,H){var W,j,X,Q,J,ce,te,Se=w[D+" "];if(Se)return H?0:Se.slice(0);for(J=D,ce=[],te=h.preFilter;J;){for(Q in(!W||(j=ae.exec(J)))&&(j&&(J=J.slice(j[0].length)||J),ce.push(X=[])),W=!1,(j=ne.exec(J))&&(W=j.shift(),X.push({value:W,type:j[0].replace(ue," ")}),J=J.slice(W.length)),h.filter)(j=$[Q].exec(J))&&(!te[Q]||(j=te[Q](j)))&&(W=j.shift(),X.push({value:W,type:Q,matches:j}),J=J.slice(W.length));if(!W)break}return H?J.length:J?se.error(D):w(D,ce).slice(0)},n=se.compile=function(D,H){var W,j=[],X=[],Q=x[D+" "];if(!Q){for(H||(H=m(D)),W=H.length;W--;)(Q=Xe(H[W]))[r]?j.push(Q):X.push(Q);Q=x(D,function it(D,H){var W=H.length>0,j=D.length>0,X=function(Q,J,ce,te,Se){var _e,Re,Fe,Oe=0,de="0",Ne=Q&&[],xe=[],pe=s,le=Q||j&&h.find.TAG("*",Se),ge=E+=null==pe?1:Math.random()||.1,Pe=le.length;for(Se&&(s=J!==v&&J);de!==Pe&&null!=(_e=le[de]);de++){if(j&&_e){for(Re=0;Fe=D[Re++];)if(Fe(_e,J,ce)){te.push(_e);break}Se&&(E=ge)}W&&((_e=!Fe&&_e)&&Oe--,Q&&Ne.push(_e))}if(Oe+=de,W&&de!==Oe){for(Re=0;Fe=H[Re++];)Fe(Ne,xe,J,ce);if(Q){if(Oe>0)for(;de--;)Ne[de]||xe[de]||(xe[de]=O.call(te));xe=Ke(xe)}M.apply(te,xe),Se&&!Q&&xe.length>0&&Oe+H.length>1&&se.uniqueSort(te)}return Se&&(E=ge,s=pe),Ne};return W?we(X):X}(X,j)),Q.selector=D}return Q},u=se.select=function(D,H,W,j){var X,Q,J,ce,te,Se="function"==typeof D&&D,_e=!j&&m(D=Se.selector||D);if(W=W||[],1===_e.length){if((Q=_e[0]=_e[0].slice(0)).length>2&&"ID"===(J=Q[0]).type&&b.getById&&9===H.nodeType&&y&&h.relative[Q[1].type]){if(!(H=(h.find.ID(J.matches[0].replace(oe,K),H)||[])[0]))return W;Se&&(H=H.parentNode),D=D.slice(Q.shift().value.length)}for(X=$.needsContext.test(D)?0:Q.length;X--&&!h.relative[ce=(J=Q[X]).type];)if((te=h.find[ce])&&(j=te(J.matches[0].replace(oe,K),ke.test(Q[0].type)&&fe(H.parentNode)||H))){if(Q.splice(X,1),!(D=j.length&&Ae(Q)))return M.apply(W,j),W;break}}return(Se||n(D,_e))(j,H,!y,W,ke.test(D)&&fe(H.parentNode)||H),W},b.sortStable=r.split("").sort(T).join("")===r,b.detectDuplicates=!!i,c(),b.sortDetached=De(function(D){return 1&D.compareDocumentPosition(v.createElement("div"))}),De(function(D){return D.innerHTML="<a href='#'></a>","#"===D.firstChild.getAttribute("href")})||ve("type|href|height|width",function(D,H,W){if(!W)return D.getAttribute(H,"type"===H.toLowerCase()?1:2)}),(!b.attributes||!De(function(D){return D.innerHTML="<input/>",D.firstChild.setAttribute("value",""),""===D.firstChild.getAttribute("value")}))&&ve("value",function(D,H,W){if(!W&&"input"===D.nodeName.toLowerCase())return D.defaultValue}),De(function(D){return null==D.getAttribute("disabled")})||ve(B,function(D,H,W){var j;if(!W)return!0===D[H]?H.toLowerCase():(j=D.getAttributeNode(H))&&j.specified?j.value:null}),se}),V("tinymce.core.util.Arr",[],function(){var S=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function h(i,c,v){var k,y;if(!i)return 0;if(v=v||i,void 0!==i.length){for(k=0,y=i.length;k<y;k++)if(!1===c.call(v,i[k],k,i))return 0}else for(k in i)if(i.hasOwnProperty(k)&&!1===c.call(v,i[k],k,i))return 0;return 1}function u(i,c,v){var k,y;for(k=0,y=i.length;k<y;k++)if(c.call(v,i[k],k,i))return k;return-1}return{isArray:S,toArray:function b(i){var v,k,c=i;if(!S(i))for(c=[],v=0,k=i.length;v<k;v++)c[v]=i[v];return c},each:h,map:function a(i,c){var v=[];return h(i,function(k,y){v.push(c(k,y,i))}),v},filter:function t(i,c){var v=[];return h(i,function(k,y){(!c||c(k,y,i))&&v.push(k)}),v},indexOf:function m(i,c){var v,k;if(i)for(v=0,k=i.length;v<k;v++)if(i[v]===c)return v;return-1},reduce:function n(i,c,v,k){var y=0;for(arguments.length<3&&(v=i[0]);y<i.length;y++)v=c.call(k,v,i[y],y);return v},findIndex:u,find:function s(i,c,v){var k=u(i,c,v);if(-1!==k)return i[k]},last:function f(i){return i[i.length-1]}}}),V("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],function(S,b){var h=/^\s*|\s*$/g;function a(y){return null==y?"":(""+y).replace(h,"")}function t(y,p){return p?!("array"!=p||!b.isArray(y))||typeof y==p:void 0!==y}return{trim:a,isArray:b.isArray,is:t,toArray:b.toArray,makeMap:function m(y,p,g){var d;for(p=p||",","string"==typeof(y=y||[])&&(y=y.split(p)),g=g||{},d=y.length;d--;)g[y[d]]={};return g},each:b.each,map:b.map,grep:b.filter,inArray:b.indexOf,hasOwn:function n(y,p){return Object.prototype.hasOwnProperty.call(y,p)},extend:function s(y,p){var g,d,l,o,r=arguments;for(g=1,d=r.length;g<d;g++)for(l in p=r[g])p.hasOwnProperty(l)&&void 0!==(o=p[l])&&(y[l]=o);return y},create:function u(y,p,g){var l,r,o,E,e,d=this,C=0;if(y=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(y),o=y[3].match(/(^|\.)(\w+)$/i)[2],!(r=d.createNS(y[3].replace(/\.\w+$/,""),g))[o]){if("static"==y[2])return r[o]=p,void(this.onCreate&&this.onCreate(y[2],y[3],r[o]));p[o]||(p[o]=function(){},C=1),r[o]=p[o],d.extend(r[o].prototype,p),y[5]&&(l=d.resolve(y[5]).prototype,E=y[5].match(/\.(\w+)$/i)[1],e=r[o],r[o]=C?function(){return l[E].apply(this,arguments)}:function(){return this.parent=l[E],e.apply(this,arguments)},r[o].prototype[o]=r[o],d.each(l,function(w,x){r[o].prototype[x]=l[x]}),d.each(p,function(w,x){l[x]?r[o].prototype[x]=function(){return this.parent=l[x],w.apply(this,arguments)}:x!=o&&(r[o].prototype[x]=w)})),d.each(p.static,function(w,x){r[o][x]=w})}},walk:function f(y,p,g,d){d=d||this,y&&(g&&(y=y[g]),b.each(y,function(l,r){if(!1===p.call(d,l,r,g))return!1;f(l,p,g,d)}))},createNS:function i(y,p){var g,d;for(p=p||window,y=y.split("."),g=0;g<y.length;g++)p[d=y[g]]||(p[d]={}),p=p[d];return p},resolve:function c(y,p){var g,d;for(p=p||window,g=0,d=(y=y.split(".")).length;g<d&&(p=p[y[g]]);g++);return p},explode:function v(y,p){return!y||t(y,"array")?y:b.map(y.split(p||","),a)},_addCacheSuffix:function k(y){var p=S.cacheSuffix;return p&&(y+=(-1===y.indexOf("?")?"?":"&")+p),y}}}),V("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],function(S,b,h,a){var f,t=document,m=Array.prototype.push,n=Array.prototype.slice,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,s=S.Event,i=h.makeMap("children,contents,next,prev");function c(P){return typeof P<"u"}function v(P){return"string"==typeof P}function y(P,B){var L,z,q;for(q=(B=B||t).createElement("div"),L=B.createDocumentFragment(),q.innerHTML=P;z=q.firstChild;)L.appendChild(z);return L}function p(P,B,L,z){var q;if(v(B))B=y(B,F(P[0]));else if(B.length&&!B.nodeType){if(B=w.makeArray(B),z)for(q=B.length-1;q>=0;q--)p(P,B[q],L,z);else for(q=0;q<B.length;q++)p(P,B[q],L,z);return P}if(B.nodeType)for(q=P.length;q--;)L.call(P[q],B);return P}function g(P,B){return P&&B&&-1!==(" "+P.className+" ").indexOf(" "+B+" ")}function d(P,B,L){var z,q;return B=w(B)[0],P.each(function(){var ee=this;(!L||z!=ee.parentNode)&&(z=ee.parentNode,q=B.cloneNode(!1),ee.parentNode.insertBefore(q,ee)),q.appendChild(ee)}),P}var l=h.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),r=h.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),o={for:"htmlFor",class:"className",readonly:"readOnly"},E={float:"cssFloat"},e={},C={};function w(P,B){return new w.fn.init(P,B)}var T=/^\s*|\s*$/g;function N(P){return null===P||P===f?"":(""+P).replace(T,"")}function _(P,B){var L,z,q,ue;if(P)if(void 0===(L=P.length)){for(z in P)if(P.hasOwnProperty(z)&&!1===B.call(ue=P[z],z,ue))break}else for(q=0;q<L&&!1!==B.call(ue=P[q],q,ue);q++);return P}function A(P,B){var L=[];return _(P,function(z,q){B(q,z)&&L.push(q)}),L}function F(P){return P?9==P.nodeType?P:P.ownerDocument:t}function O(P,B,L){var z=[],q=P[B];for("string"!=typeof L&&L instanceof w&&(L=L[0]);q&&9!==q.nodeType&&(void 0===L||!(q===L||"string"==typeof L&&w(q).is(L)));)1===q.nodeType&&z.push(q),q=q[B];return z}function R(P,B,L,z){var q=[];for(z instanceof w&&(z=z[0]);P;P=P[B])if(!L||P.nodeType===L){if(void 0!==z&&(P===z||"string"==typeof z&&w(P).is(z)))break;q.push(P)}return q}function M(P,B,L){for(P=P[B];P;P=P[B])if(P.nodeType==L)return P;return null}function U(P,B,L){_(L,function(z,q){P[z]=P[z]||{},P[z][B]=q})}return w.fn=w.prototype={constructor:w,selector:"",context:null,length:0,init:function(P,B){var z,q,L=this;if(!P)return L;if(P.nodeType)return L.context=L[0]=P,L.length=1,L;if(B&&B.nodeType)L.context=B;else{if(B)return w(P).attr(B);L.context=B=document}if(v(P)){if(L.selector=P,!(z="<"===P.charAt(0)&&">"===P.charAt(P.length-1)&&P.length>=3?[null,P,null]:u.exec(P)))return w(B).find(P);if(z[1])for(q=y(P,F(B)).firstChild;q;)m.call(L,q),q=q.nextSibling;else{if(!(q=F(B).getElementById(z[2])))return L;if(q.id!==z[2])return L.find(P);L.length=1,L[0]=q}}else this.add(P,!1);return L},toArray:function(){return h.toArray(this)},add:function(P,B){var z,q,L=this;if(v(P))return L.add(w(P));if(!1!==B)for(z=w.unique(L.toArray().concat(w.makeArray(P))),L.length=z.length,q=0;q<z.length;q++)L[q]=z[q];else m.apply(L,w.makeArray(P));return L},attr:function(P,B){var z,L=this;if("object"==typeof P)_(P,function(q,ee){L.attr(q,ee)});else{if(!c(B)){if(L[0]&&1===L[0].nodeType){if((z=e[P])&&z.get)return z.get(L[0],P);if(r[P])return L.prop(P)?P:f;null===(B=L[0].getAttribute(P,2))&&(B=f)}return B}this.each(function(){var q;if(1===this.nodeType){if((q=e[P])&&q.set)return void q.set(this,B);null===B?this.removeAttribute(P,2):this.setAttribute(P,B,2)}})}return L},removeAttr:function(P){return this.attr(P,null)},prop:function(P,B){var L=this;if("object"==typeof(P=o[P]||P))_(P,function(z,q){L.prop(z,q)});else{if(!c(B))return L[0]&&L[0].nodeType&&P in L[0]?L[0][P]:B;this.each(function(){1==this.nodeType&&(this[P]=B)})}return L},css:function(P,B){var z,q,L=this;function ee(ae){return ae.replace(/-(\D)/g,function(ne,he){return he.toUpperCase()})}function ue(ae){return ae.replace(/[A-Z]/g,function(ne){return"-"+ne})}if("object"==typeof P)_(P,function(ae,ne){L.css(ae,ne)});else if(c(B))P=ee(P),"number"==typeof B&&!l[P]&&(B+="px"),L.each(function(){var ae=this.style;if((q=C[P])&&q.set)q.set(this,B);else{try{this.style[E[P]||P]=B}catch{}(null===B||""===B)&&(ae.removeProperty?ae.removeProperty(ue(P)):ae.removeAttribute(P))}});else{if(z=L[0],(q=C[P])&&q.get)return q.get(z);if(z.ownerDocument.defaultView)try{return z.ownerDocument.defaultView.getComputedStyle(z,null).getPropertyValue(ue(P))}catch{return f}else if(z.currentStyle)return z.currentStyle[ee(P)]}return L},remove:function(){for(var B,L=this.length;L--;)s.clean(B=this[L]),B.parentNode&&B.parentNode.removeChild(B);return this},empty:function(){for(var B,L=this.length;L--;)for(B=this[L];B.firstChild;)B.removeChild(B.firstChild);return this},html:function(P){var L,B=this;if(c(P)){L=B.length;try{for(;L--;)B[L].innerHTML=P}catch{w(B[L]).empty().append(P)}return B}return B[0]?B[0].innerHTML:""},text:function(P){var L,B=this;if(c(P)){for(L=B.length;L--;)"innerText"in B[L]?B[L].innerText=P:B[0].textContent=P;return B}return B[0]?B[0].innerText||B[0].textContent:""},append:function(){return p(this,arguments,function(P){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(P)})},prepend:function(){return p(this,arguments,function(P){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(P,this.firstChild)},!0)},before:function(){var P=this;return P[0]&&P[0].parentNode?p(P,arguments,function(B){this.parentNode.insertBefore(B,this)}):P},after:function(){var P=this;return P[0]&&P[0].parentNode?p(P,arguments,function(B){this.parentNode.insertBefore(B,this.nextSibling)},!0):P},appendTo:function(P){return w(P).append(this),this},prependTo:function(P){return w(P).prepend(this),this},replaceWith:function(P){return this.before(P).remove()},wrap:function(P){return d(this,P)},wrapAll:function(P){return d(this,P,!0)},wrapInner:function(P){return this.each(function(){w(this).contents().wrapAll(P)}),this},unwrap:function(){return this.parent().each(function(){w(this).replaceWith(this.childNodes)})},clone:function(){var P=[];return this.each(function(){P.push(this.cloneNode(!0))}),w(P)},addClass:function(P){return this.toggleClass(P,!0)},removeClass:function(P){return this.toggleClass(P,!1)},toggleClass:function(P,B){var L=this;return"string"!=typeof P||(-1!==P.indexOf(" ")?_(P.split(" "),function(){L.toggleClass(this,B)}):L.each(function(z,q){var ee,ue;(ue=g(q,P))!==B&&(ee=q.className,ue?q.className=N((" "+ee+" ").replace(" "+P+" "," ")):q.className+=ee?" "+P:P)})),L},hasClass:function(P){return g(this[0],P)},each:function(P){return _(this,P)},on:function(P,B){return this.each(function(){s.bind(this,P,B)})},off:function(P,B){return this.each(function(){s.unbind(this,P,B)})},trigger:function(P){return this.each(function(){"object"==typeof P?s.fire(this,P.type,P):s.fire(this,P)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new w(n.apply(this,arguments))},eq:function(P){return-1===P?this.slice(P):this.slice(P,+P+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(P){var B,L,z=[];for(B=0,L=this.length;B<L;B++)w.find(P,this[B],z);return w(z)},filter:function(P){return w("function"==typeof P?A(this.toArray(),function(B,L){return P(L,B)}):w.filter(P,this.toArray()))},closest:function(P){var B=[];return P instanceof w&&(P=P[0]),this.each(function(L,z){for(;z;){if("string"==typeof P&&w(z).is(P)){B.push(z);break}if(z==P){B.push(z);break}z=z.parentNode}}),w(B)},offset:function(P){var B,L,z,ue,q=0,ee=0;return P?this.css(P):((B=this[0])&&(z=(L=B.ownerDocument).documentElement,B.getBoundingClientRect&&(q=(ue=B.getBoundingClientRect()).left+(z.scrollLeft||L.body.scrollLeft)-z.clientLeft,ee=ue.top+(z.scrollTop||L.body.scrollTop)-z.clientTop)),{left:q,top:ee})},push:m,sort:[].sort,splice:[].splice},h.extend(w,{extend:h.extend,makeArray:function(P){return function k(P){return P&&P==P.window}(P)||P.nodeType?[P]:h.toArray(P)},inArray:function x(P,B){var L;if(B.indexOf)return B.indexOf(P);for(L=B.length;L--;)if(B[L]===P)return L;return-1},isArray:h.isArray,each:_,trim:N,grep:A,find:b,expr:b.selectors,unique:b.uniqueSort,text:b.getText,contains:b.contains,filter:function(P,B,L){var z=B.length;for(L&&(P=":not("+P+")");z--;)1!=B[z].nodeType&&B.splice(z,1);return 1===B.length?w.find.matchesSelector(B[0],P)?[B[0]]:[]:w.find.matches(P,B)}}),_({parent:function(P){var B=P.parentNode;return B&&11!==B.nodeType?B:null},parents:function(P){return O(P,"parentNode")},next:function(P){return M(P,"nextSibling",1)},prev:function(P){return M(P,"previousSibling",1)},children:function(P){return R(P.firstChild,"nextSibling",1)},contents:function(P){return h.toArray(("iframe"===P.nodeName?P.contentDocument||P.contentWindow.document:P).childNodes)}},function(P,B){w.fn[P]=function(L){var q=[];return this.each(function(){var ee=B.call(q,this,L,q);ee&&(w.isArray(ee)?q.push.apply(q,ee):q.push(ee))}),this.length>1&&(i[P]||(q=w.unique(q)),0===P.indexOf("parents")&&(q=q.reverse())),q=w(q),L?q.filter(L):q}}),_({parentsUntil:function(P,B){return O(P,"parentNode",B)},nextUntil:function(P,B){return R(P,"nextSibling",1,B).slice(1)},prevUntil:function(P,B){return R(P,"previousSibling",1,B).slice(1)}},function(P,B){w.fn[P]=function(L,z){var ee=[];return this.each(function(){var ue=B.call(ee,this,L,ee);ue&&(w.isArray(ue)?ee.push.apply(ee,ue):ee.push(ue))}),this.length>1&&(ee=w.unique(ee),(0===P.indexOf("parents")||"prevUntil"===P)&&(ee=ee.reverse())),ee=w(ee),z?ee.filter(z):ee}}),w.fn.is=function(P){return!!P&&this.filter(P).length>0},w.fn.init.prototype=w.fn,w.overrideDefaults=function(P){var B;function L(z,q){return B=B||P(),0===arguments.length&&(z=B.element),q||(q=B.context),new L.fn.init(z,q)}return w.extend(L,this),L},a.ie&&a.ie<8&&(U(e,"get",{maxlength:function(P){var B=P.maxLength;return 2147483647===B?f:B},size:function(P){var B=P.size;return 20===B?f:B},class:function(P){return P.className},style:function(P){var B=P.style.cssText;return 0===B.length?f:B}}),U(e,"set",{class:function(P,B){P.className=B},style:function(P,B){P.style.cssText=B}})),a.ie&&a.ie<9&&(E.float="styleFloat",U(C,"set",{opacity:function(P,B){var L=P.style;null===B||""===B?L.removeAttribute("filter"):(L.zoom=1,L.filter="alpha(opacity="+100*B+")")}})),w.attrHooks=e,w.cssHooks=C,w}),V("tinymce.core.html.Styles",[],function(){return function(S,b){var n,s,f,i,h=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,t=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,u={};for(S=S||{},b&&(f=b.getValidStyles(),i=b.getInvalidStyles()),s="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<s.length;n++)u[s[n]]="\ufeff"+n,u["\ufeff"+n]=s[n];function v(k,y,p,g){function d(l){return(l=parseInt(l,10).toString(16)).length>1?l:"0"+l}return"#"+d(y)+d(p)+d(g)}return{toHex:function(k){return k.replace(h,v)},parse:function(k){var p,g,d,l,y={},r=S.url_converter,o=S.url_converter_scope||this;function E(A,F,O){var R,M,U,P;if((R=y[A+"-top"+F])&&(M=y[A+"-right"+F])&&(U=y[A+"-bottom"+F])&&(P=y[A+"-left"+F])){var B=[R,M,U,P];for(n=B.length-1;n--&&B[n]===B[n+1];);n>-1&&O||(y[A+F]=-1==n?B[0]:B.join(" "),delete y[A+"-top"+F],delete y[A+"-right"+F],delete y[A+"-bottom"+F],delete y[A+"-left"+F])}}function e(A){var O,F=y[A];if(F){for(O=(F=F.split(" ")).length;O--;)if(F[O]!==F[0])return!1;return y[A]=F[0],!0}}function w(A){return l=!0,u[A]}function x(A,F){return l&&(A=A.replace(/\uFEFF[0-9]/g,function(O){return u[O]})),F||(A=A.replace(/\\([\'\";:])/g,"$1")),A}function T(A){return String.fromCharCode(parseInt(A.slice(1),16))}function N(A){return A.replace(/\\[0-9a-f]+/gi,T)}function _(A,F,O,R,M,U){if(M=M||U)return"'"+(M=x(M)).replace(/\'/g,"\\'")+"'";if(F=x(F||O||R),!S.allow_script_urls){var P=F.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(P)||!S.allow_svg_data_urls&&/^data:image\/svg/i.test(P))return""}return r&&(F=r.call(o,F,"style")),"url('"+F.replace(/\'/g,"\\'")+"')"}if(k){for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(A){return A.replace(/[;:]/g,w)});p=t.exec(k);)if(t.lastIndex=p.index+p[0].length,g=p[1].replace(m,"").toLowerCase(),d=p[2].replace(m,""),g&&d){if(g=N(g),d=N(d),-1!==g.indexOf("\ufeff")||-1!==g.indexOf('"')||!S.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===g&&"700"===d?d="bold":("color"===g||"background-color"===g)&&(d=d.toLowerCase()),d=(d=d.replace(h,v)).replace(a,_),y[g]=l?x(d,!0):d}E("border","",!0),E("border","-width"),E("border","-color"),E("border","-style"),E("padding",""),E("margin",""),function C(A,F,O,R){e(F)&&e(O)&&e(R)&&(y[A]=y[F]+" "+y[O]+" "+y[R],delete y[F],delete y[O],delete y[R])}("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(k,y){var g,d,o,e,p="";function l(o){var E,e,C,w;if(E=f[o])for(e=0,C=E.length;e<C;e++)(w=k[o=E[e]])&&(p+=(p.length>0?" ":"")+o+": "+w+";")}if(y&&f)l("*"),l(y);else for(g in k)(d=k[g])&&(!i||(o=g,e=void 0,!((e=i["*"])&&e[o]||(e=i[y],e&&e[o]))))&&(p+=(p.length>0?" ":"")+g+": "+d+";");return p}}}}),V("tinymce.core.dom.TreeWalker",[],function(){return function(S,b){var h=S;function a(m,n,u,s){var f,i;if(m){if(!s&&m[n])return m[n];if(m!=b){if(f=m[u])return f;for(i=m.parentNode;i&&i!=b;i=i.parentNode)if(f=i[u])return f}}}this.current=function(){return h},this.next=function(m){return h=a(h,"firstChild","nextSibling",m)},this.prev=function(m){return h=a(h,"lastChild","previousSibling",m)},this.prev2=function(m){return h=function t(m,n,u,s){var f,i,c;if(m){if(f=m[u],b&&f===b)return;if(f){if(!s)for(c=f[n];c;c=c[n])if(!c[n])return c;return f}if((i=m.parentNode)&&i!==b)return i}}(h,"lastChild","previousSibling",m),h}}}),V("tinymce.core.html.Entities",["tinymce.core.util.Tools"],function(S){var h,a,t,b=S.makeMap,m=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,s=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,f={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function c(k,y){var p,g,d,l={};if(k){for(k=k.split(","),y=y||10,p=0;p<k.length;p+=2)g=String.fromCharCode(parseInt(k[p],y)),a[g]||(l[g]=d="&"+k[p+1]+";",l[d]=g);return l}}a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},t={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},h=c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var v={encodeRaw:function(k,y){return k.replace(y?m:n,function(p){return a[p]||p})},encodeAllRaw:function(k){return(""+k).replace(u,function(y){return a[y]||y})},encodeNumeric:function(k,y){return k.replace(y?m:n,function(p){return p.length>1?"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";":a[p]||"&#"+p.charCodeAt(0)+";"})},encodeNamed:function(k,y,p){return p=p||h,k.replace(y?m:n,function(g){return a[g]||p[g]||g})},getEncodeFunc:function(k,y){return y=c(y)||h,(k=b(k.replace(/\+/g,","))).named&&k.numeric?function p(d,l){return d.replace(l?m:n,function(r){return void 0!==a[r]?a[r]:void 0!==y[r]?y[r]:r.length>1?"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";":"&#"+r.charCodeAt(0)+";"})}:k.named?y?function g(d,l){return v.encodeNamed(d,l,y)}:v.encodeNamed:k.numeric?v.encodeNumeric:v.encodeRaw},decode:function(k){return k.replace(s,function(y,p){return p?(p="x"===p.charAt(0).toLowerCase()?parseInt(p.substr(1),16):parseInt(p,10))>65535?(p-=65536,String.fromCharCode(55296+(p>>10),56320+(1023&p))):f[p]||String.fromCharCode(p):t[y]||h[y]||function i(k){var y;return(y=document.createElement("div")).innerHTML=k,y.textContent||y.innerText||k}(y)})}};return v}),V("tinymce.core.dom.Range",["tinymce.core.util.Tools"],function(S){function b(h){var a=this,t=h.doc,n=1,u=2,s=!0,f=!1,i="startOffset",c="startContainer",v="endContainer",k="endOffset",y=S.extend,p=h.nodeIndex;function g(){return t.createDocumentFragment()}function d($,G){B(s,$,G)}function l($,G){B(f,$,G)}function r($){d($.parentNode,p($))}function e($){l($.parentNode,p($)+1)}function A(){return L(n)}function M($,G){var Z;if(3==$.nodeType||G<0)return $;for(Z=$.firstChild;Z&&G>0;)--G,Z=Z.nextSibling;return Z||$}function P($,G,Z,Y){var ie,ke,ye,oe,K,se;if($==Z)return G==Y?0:G<Y?-1:1;for(ie=Z;ie&&ie.parentNode!=$;)ie=ie.parentNode;if(ie){for(ke=0,ye=$.firstChild;ye!=ie&&ke<G;)ke++,ye=ye.nextSibling;return G<=ke?-1:1}for(ie=$;ie&&ie.parentNode!=Z;)ie=ie.parentNode;if(ie){for(ke=0,ye=Z.firstChild;ye!=ie&&ke<Y;)ke++,ye=ye.nextSibling;return ke<Y?-1:1}for(oe=h.findCommonAncestor($,Z),K=$;K&&K.parentNode!=oe;)K=K.parentNode;for(K||(K=oe),se=Z;se&&se.parentNode!=oe;)se=se.parentNode;if(se||(se=oe),K==se)return 0;for(ye=oe.firstChild;ye;){if(ye==K)return-1;if(ye==se)return 1;ye=ye.nextSibling}}function B($,G,Z){var Y,ie;for($?(a[c]=G,a[i]=Z):(a[v]=G,a[k]=Z),Y=a[v];Y.parentNode;)Y=Y.parentNode;for(ie=a[c];ie.parentNode;)ie=ie.parentNode;ie==Y?P(a[c],a[i],a[v],a[k])>0&&a.collapse($):a.collapse($),a.collapsed=function U(){return a[c]==a[v]&&a[i]==a[k]}(),a.commonAncestorContainer=h.findCommonAncestor(a[c],a[v])}function L($){var G,ie,ke,ye,oe,K,se,Z=0,Y=0;if(a[c]==a[v])return function z($){var G,Y,ie,ke,ye,oe,K,se;if($!=u&&(G=g()),a[i]==a[k])return G;if(3==a[c].nodeType)return Y=a[c].nodeValue.substring(a[i],a[k]),$!=n&&(ie=a[c],se=a[k]-a[i],0===(K=a[i])&&se>=ie.nodeValue.length-1?ie.parentNode.removeChild(ie):ie.deleteData(K,se),a.collapse(s)),$==u?void 0:(Y.length>0&&G.appendChild(t.createTextNode(Y)),G);for(ie=M(a[c],a[i]),ke=a[k]-a[i];ie&&ke>0;)ye=ie.nextSibling,oe=Ee(ie,$),G&&G.appendChild(oe),--ke,ie=ye;return $!=n&&a.collapse(s),G}($);for(ie=(G=a[v]).parentNode;ie;G=ie,ie=ie.parentNode){if(ie==a[c])return q(G,$);++Z}for(ie=(G=a[c]).parentNode;ie;G=ie,ie=ie.parentNode){if(ie==a[v])return ee(G,$);++Y}for(ke=Y-Z,ye=a[c];ke>0;)ye=ye.parentNode,ke--;for(oe=a[v];ke<0;)oe=oe.parentNode,ke++;for(K=ye.parentNode,se=oe.parentNode;K!=se;K=K.parentNode,se=se.parentNode)ye=K,oe=se;return function ue($,G,Z){var Y,ie,ke,oe,K,se;for(Z!=u&&(ie=g()),Y=ne($,Z),ie&&ie.appendChild(Y),ke=p($),oe=p(G)-++ke,K=$.nextSibling;oe>0;)se=K.nextSibling,Y=Ee(K,Z),ie&&ie.appendChild(Y),K=se,--oe;return Y=ae(G,Z),ie&&ie.appendChild(Y),Z!=n&&(a.setStartAfter($),a.collapse(s)),ie}(ye,oe,$)}function q($,G){var Z,Y,ke,ye,oe;if(G!=u&&(Z=g()),Y=ae($,G),Z&&Z.appendChild(Y),(ke=p($)-a[i])<=0)return G!=n&&(a.setEndBefore($),a.collapse(f)),Z;for(Y=$.previousSibling;ke>0;)ye=Y.previousSibling,oe=Ee(Y,G),Z&&Z.insertBefore(oe,Z.firstChild),--ke,Y=ye;return G!=n&&(a.setEndBefore($),a.collapse(f)),Z}function ee($,G){var Z,Y,ie,ke,ye,oe;for(G!=u&&(Z=g()),ie=ne($,G),Z&&Z.appendChild(ie),Y=p($),++Y,ke=a[k]-Y,ie=$.nextSibling;ie&&ke>0;)ye=ie.nextSibling,oe=Ee(ie,G),Z&&Z.appendChild(oe),--ke,ie=ye;return G!=n&&(a.setStartAfter($),a.collapse(s)),Z}function ae($,G){var Y,ie,ke,ye,oe,Z=M(a[v],a[k]-1),K=Z!=a[v];if(Z==$)return he(Z,K,f,G);for(ie=he(Y=Z.parentNode,f,f,G);Y;){for(;Z;)ke=Z.previousSibling,ye=he(Z,K,f,G),G!=u&&ie.insertBefore(ye,ie.firstChild),K=s,Z=ke;if(Y==$)return ie;Z=Y.previousSibling,oe=he(Y=Y.parentNode,f,f,G),G!=u&&oe.appendChild(ie),ie=oe}}function ne($,G){var ie,ke,ye,oe,K,Z=M(a[c],a[i]),Y=Z!=a[c];if(Z==$)return he(Z,Y,s,G);for(ke=he(ie=Z.parentNode,f,s,G);ie;){for(;Z;)ye=Z.nextSibling,oe=he(Z,Y,s,G),G!=u&&ke.appendChild(oe),Y=s,Z=ye;if(ie==$)return ke;Z=ie.nextSibling,K=he(ie=ie.parentNode,f,s,G),G!=u&&K.appendChild(ke),ke=K}}function he($,G,Z,Y){var ie,ke,ye,oe,K;return G?Ee($,Y):3==$.nodeType?(ie=$.nodeValue,Z?(ke=ie.substring(oe=a[i]),ye=ie.substring(0,oe)):(ke=ie.substring(0,oe=a[k]),ye=ie.substring(oe)),Y!=n&&($.nodeValue=ye),Y==u?void 0:((K=h.clone($,f)).nodeValue=ke,K)):Y!=u?h.clone($,f):void 0}function Ee($,G){if(G!=u)return G==n?h.clone($,s):$;$.parentNode.removeChild($)}return y(a,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:s,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:l,setStartBefore:r,setStartAfter:function o($){d($.parentNode,p($)+1)},setEndBefore:function E($){l($.parentNode,p($))},setEndAfter:e,collapse:function C($){$?(a[v]=a[c],a[k]=a[i]):(a[c]=a[v],a[i]=a[k]),a.collapsed=s},selectNode:function w($){r($),e($)},selectNodeContents:function x($){d($,0),l($,1===$.nodeType?$.childNodes.length:$.nodeValue.length)},compareBoundaryPoints:function T($,G){var Z=a[c],Y=a[i],ie=a[v],ke=a[k],ye=G.startContainer,oe=G.startOffset,K=G.endContainer,se=G.endOffset;return 0===$?P(Z,Y,ye,oe):1===$?P(ie,ke,ye,oe):2===$?P(ie,ke,K,se):3===$?P(Z,Y,K,se):void 0},deleteContents:function N(){L(u)},extractContents:function _(){return L(0)},cloneContents:A,insertNode:function F($){var Y,ie,G=this[c],Z=this[i];3!==G.nodeType&&4!==G.nodeType||!G.nodeValue?(G.childNodes.length>0&&(ie=G.childNodes[Z]),ie?G.insertBefore($,ie):3==G.nodeType?h.insertAfter($,G):G.appendChild($)):Z?Z>=G.nodeValue.length?h.insertAfter($,G):(Y=G.splitText(Z),G.parentNode.insertBefore($,Y)):G.parentNode.insertBefore($,G)},surroundContents:function O($){var G=a.extractContents();a.insertNode($),$.appendChild(G),a.selectNode($)},cloneRange:function R(){return y(new b(h),{startContainer:a[c],startOffset:a[i],endContainer:a[v],endOffset:a[k],collapsed:a.collapsed,commonAncestorContainer:a.commonAncestorContainer})},toStringIE:function me(){return h.create("body",null,A()).outerText}}),a}return b.prototype.toString=function(){return this.toStringIE()},b}),Je("global!Array",Array),Je("global!Error",Error),V("ephox.katamari.api.Fun",["global!Array","global!Error"],function(S,b){var t=function(y){return function(){return y}},v=t(!1),k=t(!0);return{noop:function(){},compose:function(y,p){return function(){return y(p.apply(null,arguments))}},constant:t,identity:function(y){return y},tripleEquals:function(y,p){return y===p},curry:function(y){for(var p=new S(arguments.length-1),g=1;g<arguments.length;g++)p[g-1]=arguments[g];return function(){for(var d=new S(arguments.length),l=0;l<d.length;l++)d[l]=arguments[l];var r=p.concat(d);return y.apply(null,r)}},not:function(y){return function(){return!y.apply(null,arguments)}},die:function(y){return function(){throw new b(y)}},apply:function(y){return y()},call:function(y){y()},never:v,always:k}}),Je("global!Object",Object),V("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(S,b){var s,f,i,v,h=S.never,a=S.always,t=function(){return m},m=(v={fold:function(k,y){return k()},is:h,isSome:h,isNone:a,getOr:i=function(k){return k},getOrThunk:f=function(k){return k()},getOrDie:function(k){throw new Error(k||"error: getOrDie called on none.")},or:i,orThunk:f,map:t,ap:t,each:function(){},bind:t,flatten:t,exists:h,forall:a,filter:t,equals:s=function(k){return k.isNone()},equals_:s,toArray:function(){return[]},toString:S.constant("none()")},b.freeze&&b.freeze(v),v),n=function(s){var f=function(){return s},i=function(){return k},v=function(y){return y(s)},k={fold:function(y,p){return p(s)},is:function(y){return s===y},isSome:a,isNone:h,getOr:f,getOrThunk:f,getOrDie:f,or:i,orThunk:i,map:function(y){return n(y(s))},ap:function(y){return y.fold(t,function(p){return n(p(s))})},each:function(y){y(s)},bind:v,flatten:f,exists:v,forall:v,filter:function(y){return y(s)?k:m},equals:function(y){return y.is(s)},equals_:function(y,p){return y.fold(h,function(g){return p(s,g)})},toArray:function(){return[s]},toString:function(){return"some("+s+")"}};return k};return{some:n,none:t,from:function(s){return null==s?m:n(s)}}}),Je("global!String",String),V("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(S,b,h,a){var R,t=void 0===(R=b.prototype.indexOf)?function(P,B){return o(P,B)}:function(P,B){return R.call(P,B)},n=function(R,M){return t(R,M)>-1},i=function(R,M){for(var U=R.length,P=new b(U),B=0;B<U;B++)P[B]=M(R[B],B,R);return P},c=function(R,M){for(var U=0,P=R.length;U<P;U++)M(R[U],U,R)},v=function(R,M){for(var U=R.length-1;U>=0;U--)M(R[U],U,R)},y=function(R,M){for(var U=[],P=0,B=R.length;P<B;P++){var L=R[P];M(L,P,R)&&U.push(L)}return U},r=function(R,M){for(var U=0,P=R.length;U<P;U++)if(M(R[U],U,R))return S.some(U);return S.none()},o=function(R,M){for(var U=0,P=R.length;U<P;++U)if(R[U]===M)return U;return-1},E=b.prototype.push,e=function(R){for(var M=[],U=0,P=R.length;U<P;++U){if(!b.prototype.isPrototypeOf(R[U]))throw new h("Arr.flatten item "+U+" was not an array, input: "+R);E.apply(M,R[U])}return M},w=function(R,M){for(var U=0,P=R.length;U<P;++U)if(!0!==M(R[U],U,R))return!1;return!0},T=b.prototype.slice;return{map:i,each:c,eachr:v,partition:function(R,M){for(var U=[],P=[],B=0,L=R.length;B<L;B++){var z=R[B];(M(z,B,R)?U:P).push(z)}return{pass:U,fail:P}},filter:y,groupBy:function(R,M){if(0===R.length)return[];for(var U=M(R[0]),P=[],B=[],L=0,z=R.length;L<z;L++){var q=R[L],ee=M(q);ee!==U&&(P.push(B),B=[]),U=ee,B.push(q)}return 0!==B.length&&P.push(B),P},indexOf:function(R,M){var U=t(R,M);return-1===U?S.none():S.some(U)},foldr:function(R,M,U){return v(R,function(P){U=M(U,P)}),U},foldl:function(R,M,U){return c(R,function(P){U=M(U,P)}),U},find:function(R,M){for(var U=0,P=R.length;U<P;U++){var B=R[U];if(M(B,U,R))return S.some(B)}return S.none()},findIndex:r,flatten:e,bind:function(R,M){var U=i(R,M);return e(U)},forall:w,exists:function(R,M){return r(R,M).isSome()},contains:n,equal:function(R,M){return R.length===M.length&&w(R,function(U,P){return U===M[P]})},reverse:function(R){var M=T.call(R,0);return M.reverse(),M},chunk:function(R,M){for(var U=[],P=0;P<R.length;P+=M){var B=R.slice(P,P+M);U.push(B)}return U},difference:function(R,M){return y(R,function(U){return!n(M,U)})},mapToObject:function(R,M){for(var U={},P=0,B=R.length;P<B;P++){var L=R[P];U[a(L)]=M(L,P)}return U},pure:function(R){return[R]},sort:function(R,M){var U=T.call(R,0);return U.sort(M),U},range:function(R,M){for(var U=[],P=0;P<R;P++)U.push(M(P));return U}}}),Je("global!setTimeout",setTimeout),V("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(S,b,h){var a=function(m){var n=b.none(),u=[],f=function(y){c()?k(y):u.push(y)},c=function(){return n.isSome()},k=function(y){n.each(function(p){h(function(){y(p)},0)})};return m(function(y){n=b.some(y),function(y){S.each(y,k)}(u),u=[]}),{get:f,map:function(y){return a(function(p){f(function(g){p(y(g))})})},isReady:c}};return{nu:a,pure:function(m){return a(function(n){n(m)})}}}),V("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(S,b){return{bounce:function(a){return function(){var t=S.prototype.slice.call(arguments),m=this;b(function(){a.apply(m,t)},0)}}}}),V("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(S,b){var h=function(t){var m=function(i){t(b.bounce(i))};return{map:function(i){return h(function(c){m(function(v){var k=i(v);c(k)})})},bind:function(i){return h(function(c){m(function(v){i(v).get(c)})})},anonBind:function(i){return h(function(c){m(function(v){i.get(c)})})},toLazy:function(){return S.nu(m)},get:m}};return{nu:h,pure:function(t){return h(function(m){m(t)})}}}),V("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(S){return{par:function(h,a){return a(function(t){var m=[],n=0;0===h.length?t([]):S.each(h,function(s,f){s.get(function(s){return function(f){m[s]=f,++n>=h.length&&t(m)}}(f))})})}}}),V("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(S,b,h){var a=function(n){return h.par(n,b.nu)};return{par:a,mapM:function(n,u){var s=S.map(n,u);return a(s)},compose:function(n,u){return function(s){return u(s).bind(n)}}}}),V("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(S,b){var h=function(t){return{is:function(p){return t===p},isValue:S.constant(!0),isError:S.constant(!1),getOr:S.constant(t),getOrThunk:S.constant(t),getOrDie:S.constant(t),or:function(p){return h(t)},orThunk:function(p){return h(t)},fold:function(p,g){return g(t)},map:function(p){return h(p(t))},each:function(p){p(t)},bind:function(p){return p(t)},exists:function(p){return p(t)},forall:function(p){return p(t)},toOption:function(){return b.some(t)}}},a=function(t){return{is:S.constant(!1),isValue:S.constant(!1),isError:S.constant(!0),getOr:S.identity,getOrThunk:function(v){return v()},getOrDie:function(){return S.die(t)()},or:function(v){return v},orThunk:function(v){return v()},fold:function(v,k){return v(t)},map:function(v){return a(t)},each:S.noop,bind:function(v){return a(t)},exists:S.constant(!1),forall:S.constant(!0),toOption:b.none}};return{value:h,error:a}}),V("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n){"use strict";return function(u,s){var c,f=0,i={};function v(d){u.getElementsByTagName("head")[0].appendChild(d)}function k(d,l,r){var o,E,e,C;function w(){for(var F=C.passed,O=F.length;O--;)F[O]();C.status=2,C.passed=[],C.failed=[]}function x(){for(var F=C.failed,O=F.length;O--;)F[O]();C.status=3,C.passed=[],C.failed=[]}function N(F,O){F()||((new Date).getTime()-e<c?m.setTimeout(O):x())}function _(){N(function(){for(var O,M,F=u.styleSheets,R=F.length;R--;)if((M=(O=F[R]).ownerNode?O.ownerNode:O.owningElement)&&M.id===o.id)return w(),!0},_)}if(d=n._addCacheSuffix(d),i[d]?C=i[d]:i[d]=C={passed:[],failed:[]},l&&C.passed.push(l),r&&C.failed.push(r),1!=C.status){if(2==C.status)return void w();if(3==C.status)return void x();if(C.status=1,(o=u.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+f++,o.async=!1,o.defer=!1,e=(new Date).getTime(),"onload"in o&&!function T(){var F=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(F&&F[1]<536)}())o.onload=_,o.onerror=x;else{if(navigator.userAgent.indexOf("Firefox")>0)return(E=u.createElement("style")).textContent='@import "'+d+'"',function A(){N(function(){try{var F=E.sheet.cssRules;return w(),!!F}catch{}},A)}(),void v(E);_()}v(o),o.href=d}}c=(s=s||{}).maxLoadTime||5e3;var y=function(d){return h.nu(function(l){k(d,b.compose(l,b.constant(t.value(d))),b.compose(l,b.constant(t.error(d))))})},p=function(d){return d.fold(b.identity,b.identity)};return{load:k,loadAll:function(d,l,r){a.par(S.map(d,y)).get(function(o){var E=S.partition(o,function(e){return e.isValue()});E.fail.length>0?r(E.fail.map(p)):l(E.pass.map(p))})}}}}),V("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(S){var b={},h={},a=S.makeMap,t=S.each,m=S.extend,n=S.explode,u=S.inArray;function s(c,v){return(c=S.trim(c))?c.split(v||" "):[]}function i(c,v){var k;return c&&(k={},"string"==typeof c&&(c={"*":c}),t(c,function(y,p){k[p]=k[p.toUpperCase()]="map"==v?a(y,/[, ]/):n(y,/[, ]/)})),k}return function(c){var g,d,l,r,o,E,e,C,w,x,T,N,_,v=this,k={},y={},p=[],A={},F={};function O(z,q,ee){var ue=c[z];return ue?ue=a(ue,/[, ]/,a(ue.toUpperCase(),/[, ]/)):(ue=b[z])||(ue=a(q," ",a(q.toUpperCase()," ")),ue=m(ue,ee),b[z]=ue),ue}function R(z){return new RegExp("^"+z.replace(/([?+*])/g,".$1")+"$")}function M(z){var q,ee,ue,ae,ne,he,Ee,me,$,G,Z,Y,ie,ke,ye,oe,K,se,be,we=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,De=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ve=/[*?+]/;if(z)for(z=s(z,","),k["@"]&&(oe=k["@"].attributes,K=k["@"].attributesOrder),q=0,ee=z.length;q<ee;q++)if(ne=we.exec(z[q])){if($=ne[2],ye=ne[3],me=ne[5],he={attributes:Y={},attributesOrder:ie=[]},"#"===(ke=ne[1])&&(he.paddEmpty=!0),"-"===ke&&(he.removeEmpty=!0),"!"===ne[4]&&(he.removeEmptyAttrs=!0),oe){for(se in oe)Y[se]=oe[se];ie.push.apply(ie,K)}if(me)for(ue=0,ae=(me=s(me,"|")).length;ue<ae;ue++)if(ne=De.exec(me[ue])){if(Ee={},Z=ne[1],G=ne[2].replace(/::/g,":"),ke=ne[3],be=ne[4],"!"===Z&&(he.attributesRequired=he.attributesRequired||[],he.attributesRequired.push(G),Ee.required=!0),"-"===Z){delete Y[G],ie.splice(u(ie,G),1);continue}ke&&("="===ke&&(he.attributesDefault=he.attributesDefault||[],he.attributesDefault.push({name:G,value:be}),Ee.defaultValue=be),":"===ke&&(he.attributesForced=he.attributesForced||[],he.attributesForced.push({name:G,value:be}),Ee.forcedValue=be),"<"===ke&&(Ee.validValues=a(be,"?"))),ve.test(G)?(he.attributePatterns=he.attributePatterns||[],Ee.pattern=R(G),he.attributePatterns.push(Ee)):(Y[G]||ie.push(G),Y[G]=Ee)}!oe&&"@"==$&&(oe=Y,K=ie),ye&&(he.outputName=$,k[ye]=he),ve.test($)?(he.pattern=R($),p.push(he)):k[$]=he}}function U(z){k={},p=[],M(z),t(l,function(q,ee){y[ee]=q.children})}function P(z){var q=/^(~)?(.+)$/;z&&(b.text_block_elements=b.block_elements=null,t(s(z,","),function(ee){var ue=q.exec(ee),ae="~"===ue[1],ne=ae?"span":"div",he=ue[2];if(y[he]=y[ne],A[he]=ne,ae||(w[he.toUpperCase()]={},w[he]={}),!k[he]){var Ee=k[ne];delete(Ee=m({},Ee)).removeEmptyAttrs,delete Ee.removeEmpty,k[he]=Ee}t(y,function(me,$){me[ne]&&(y[$]=me=m({},y[$]),me[he]=me[ne])})}))}function B(z){var q=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b[c.schema]=null,z&&t(s(z,","),function(ee){var ae,ne,ue=q.exec(ee);ue&&(ae=(ne=ue[1])?y[ue[2]]:y[ue[2]]={"#comment":{}},ae=y[ue[2]],t(s(ue[3],"|"),function(he){"-"===ne?delete ae[he]:ae[he]={}}))})}function L(z){var ee,q=k[z];if(q)return q;for(ee=p.length;ee--;)if((q=p[ee]).pattern.test(z))return q}l=function f(c){var k,y,p,g,d,l,v={};function r(E,e,C){var w,x,T;function N(_,A){var O,R,F={};for(O=0,R=_.length;O<R;O++)F[_[O]]=A||{};return F}for(e=e||"","string"==typeof(C=C||[])&&(C=s(C)),w=(E=s(E)).length;w--;)T={attributes:N(x=s([k,e].join(" "))),attributesOrder:x,children:N(C,h)},v[E[w]]=T}function o(E,e){var C,w,x,T;for(C=(E=s(E)).length,e=s(e);C--;)for(w=v[E[C]],x=0,T=e.length;x<T;x++)w.attributes[e[x]]={},w.attributesOrder.push(e[x])}return b[c]?b[c]:(k="id accesskey class dir lang style tabindex title role",y="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",p="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=c&&(k+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",y+=" article aside details dialog figure header footer hgroup section nav",p+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=c&&(k+=" xml:lang",p=[p,l="acronym applet basefont big font strike tt"].join(" "),t(s(l),function(E){r(E,"",p)}),y=[y,d="center dir isindex noframes"].join(" "),g=[y,p].join(" "),t(s(d),function(E){r(E,"",g)})),g=g||[y,p].join(" "),r("html","manifest","head body"),r("head","","base command link meta noscript script style title"),r("title hr noscript br"),r("base","href target"),r("link","href rel media hreflang type sizes hreflang"),r("meta","name http-equiv content charset"),r("style","media type scoped"),r("script","src async defer type charset"),r("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",g),r("address dt dd div caption","",g),r("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",p),r("blockquote","cite",g),r("ol","reversed start type","li"),r("ul","","li"),r("li","value",g),r("dl","","dt dd"),r("a","href target rel media hreflang type",p),r("q","cite",p),r("ins del","cite datetime",g),r("img","src sizes srcset alt usemap ismap width height"),r("iframe","src name width height",g),r("embed","src type width height"),r("object","data type typemustmatch name usemap form width height",[g,"param"].join(" ")),r("param","name value"),r("map","name",[g,"area"].join(" ")),r("area","alt coords shape href target rel media hreflang type"),r("table","border","caption colgroup thead tfoot tbody tr"+("html4"==c?" col":"")),r("colgroup","span","col"),r("col","span"),r("tbody thead tfoot","","tr"),r("tr","","td th"),r("td","colspan rowspan headers",g),r("th","colspan rowspan headers scope abbr",g),r("form","accept-charset action autocomplete enctype method name novalidate target",g),r("fieldset","disabled form name",[g,"legend"].join(" ")),r("label","form for",p),r("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),r("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==c?g:p),r("select","disabled form multiple name required size","option optgroup"),r("optgroup","disabled label","option"),r("option","disabled label selected value"),r("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),r("menu","type label",[g,"li"].join(" ")),r("noscript","",g),"html4"!=c&&(r("wbr"),r("ruby","",[p,"rt rp"].join(" ")),r("figcaption","",g),r("mark rt rp summary bdi","",p),r("canvas","width height",g),r("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[g,"track source"].join(" ")),r("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[g,"track source"].join(" ")),r("picture","","img source"),r("source","src srcset type media sizes"),r("track","kind src srclang label default"),r("datalist","",[p,"option"].join(" ")),r("article section nav aside header footer","",g),r("hgroup","","h1 h2 h3 h4 h5 h6"),r("figure","",[g,"figcaption"].join(" ")),r("time","datetime",p),r("dialog","open",g),r("command","type label icon disabled checked radiogroup command"),r("output","for form name",p),r("progress","value max",p),r("meter","value min max low high optimum",p),r("details","open",[g,"summary"].join(" ")),r("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=c&&(o("script","language xml:space"),o("style","xml:space"),o("object","declare classid code codebase codetype archive standby align border hspace vspace"),o("embed","align name hspace vspace"),o("param","valuetype type"),o("a","charset name rev shape coords"),o("br","clear"),o("applet","codebase archive code object alt name width height align hspace vspace"),o("img","name longdesc align border hspace vspace"),o("iframe","longdesc frameborder marginwidth marginheight scrolling align"),o("font basefont","size color face"),o("input","usemap align"),o("select","onchange"),o("textarea"),o("h1 h2 h3 h4 h5 h6 div p legend caption","align"),o("ul","type compact"),o("li","type"),o("ol dl menu dir","compact"),o("pre","width xml:space"),o("hr","align noshade size width"),o("isindex","prompt"),o("table","summary width frame rules cellspacing cellpadding align bgcolor"),o("col","width align char charoff valign"),o("colgroup","width align char charoff valign"),o("thead","align char charoff valign"),o("tr","align char charoff valign bgcolor"),o("th","axis align char charoff valign nowrap bgcolor width height"),o("form","accept"),o("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),o("tfoot","align char charoff valign"),o("tbody","align char charoff valign"),o("area","nohref"),o("body","background bgcolor text link vlink alink")),"html4"!=c&&(o("input button select textarea","autofocus"),o("input textarea","placeholder"),o("a","download"),o("link script img","crossorigin"),o("iframe","sandbox seamless allowfullscreen")),t(s("a form meter progress dfn"),function(E){v[E]&&delete v[E].children[E]}),delete v.caption.children.table,delete v.script,b[c]=v,v)}((c=c||{}).schema),!1===c.verify_html&&(c.valid_elements="*[*]"),g=i(c.valid_styles),d=i(c.invalid_styles,"map"),C=i(c.valid_classes,"map"),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),E=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),e=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),x=O("non_empty_elements","td th iframe video audio object script pre code",E),T=O("move_caret_before_on_enter_elements","table",x),N=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",N),_=O("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),t((c.special||"script noscript style textarea").split(" "),function(z){F[z]=new RegExp("</"+z+"[^>]*>","gi")}),c.valid_elements?U(c.valid_elements):(t(l,function(z,q){k[q]={attributes:z.attributes,attributesOrder:z.attributesOrder},y[q]=z.children}),"html5"!=c.schema&&t(s("strong/b em/i"),function(z){z=s(z,"/"),k[z[1]].outputName=z[0]}),t(s("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(z){k[z]&&(k[z].removeEmpty=!0)}),t(s("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(z){k[z].paddEmpty=!0}),t(s("span"),function(z){k[z].removeEmptyAttrs=!0})),P(c.custom_elements),B(c.valid_children),M(c.extended_valid_elements),B("+ol[ul|ol],+ul[ul|ol]"),t({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(z,q){k[q]&&(k[q].parentsRequired=s(z))}),c.invalid_elements&&t(n(c.invalid_elements),function(z){k[z]&&delete k[z]}),L("span")||M("span[!data-mce-type|*]"),v.children=y,v.getValidStyles=function(){return g},v.getInvalidStyles=function(){return d},v.getValidClasses=function(){return C},v.getBoolAttrs=function(){return e},v.getBlockElements=function(){return w},v.getTextBlockElements=function(){return N},v.getTextInlineElements=function(){return _},v.getShortEndedElements=function(){return E},v.getSelfClosingElements=function(){return o},v.getNonEmptyElements=function(){return x},v.getMoveCaretBeforeOnEnterElements=function(){return T},v.getWhiteSpaceElements=function(){return r},v.getSpecialElements=function(){return F},v.isValidChild=function(z,q){var ee=y[z.toLowerCase()];return!(!ee||!ee[q.toLowerCase()])},v.isValid=function(z,q){var ee,ue,ae=L(z);if(ae){if(!q)return!0;if(ae.attributes[q])return!0;if(ee=ae.attributePatterns)for(ue=ee.length;ue--;)if(ee[ue].pattern.test(z))return!0}return!1},v.getElementRule=L,v.getCustomElements=function(){return A},v.addValidElements=M,v.setValidElements=U,v.addCustomElements=P,v.addValidChildren=B,v.elements=k}}),V("tinymce.core.dom.DOMUtils",["tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Range","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n,u,s,f,i){var c=i.each,v=i.is,k=i.grep,y=i.trim,p=n.ie,g=/^([a-z0-9],?)+$/i,d=/^[ \t\r\n]*$/;function r(e,C){var w=C.attr("style");(w=e.serializeStyle(e.parseStyle(w),C[0].nodeName))||(w=null),C.attr("data-mce-style",w)}function o(e,C){var x,T,w=0;if(e)for(x=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)T=e.nodeType,(!C||3!=T||T!=x&&e.nodeValue.length)&&(w++,x=T);return w}function E(e,C){var x,w=this;w.doc=e,w.win=window,w.files={},w.counter=0,w.stdMode=!p||e.documentMode>=8,w.boxModel=!p||"CSS1Compat"==e.compatMode||w.stdMode,w.styleSheetLoader=new t(e),w.boundEvents=[],w.settings=C=C||{},w.schema=C.schema?C.schema:new s({}),w.styles=new f({url_converter:C.url_converter,url_converter_scope:C.url_converter_scope},C.schema),w.fixDoc(e),w.events=C.ownEvents?new b(C.proxy):b.Event,w.attrHooks=function l(e,C){var w={},x=C.keep_values;return w={style:{set:function(N,_){null===_||"object"!=typeof _?(x&&N.attr("data-mce-style",_),N.attr("style",_)):N.css(_)},get:function(N){var _=N.attr("data-mce-style")||N.attr("style");return e.serializeStyle(e.parseStyle(_),N[0].nodeName)}}},x&&(w.href=w.src={set:function(N,_,A){C.url_converter&&(_=C.url_converter.call(C.url_converter_scope||e,_,A,N[0])),N.attr("data-mce-"+A,_).attr(A,_)},get:function(N,_){return N.attr("data-mce-"+_)||N.attr(_)}}),w}(w,C),x=C.schema?C.schema.getBlockElements():{},w.$=S.overrideDefaults(function(){return{context:e,element:w.getRoot()}}),w.isBlock=function(T){if(!T)return!1;var N=T.nodeType;return N?!(1!==N||!x[T.nodeName]):!!x[T]}}return E.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var w,C=this.settings;if(p&&C.schema)for(w in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(x){e.createElement(x)}),C.schema.getCustomElements())e.createElement(w)},clone:function(e,C){var x,w=this;return!p||1!==e.nodeType||C?e.cloneNode(C):C?x.firstChild:(x=w.doc.createElement(e.nodeName),c(w.getAttribs(e),function(N){w.setAttrib(x,N.nodeName,w.getAttrib(e,N.nodeName))}),x)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var C,w;return C=(e=e||this.win).document,w=this.boxModel?C.documentElement:C.body,{x:e.pageXOffset||w.scrollLeft,y:e.pageYOffset||w.scrollTop,w:e.innerWidth||w.clientWidth,h:e.innerHeight||w.clientHeight}},getRect:function(e){var w,x,C=this;return e=C.get(e),w=C.getPos(e),x=C.getSize(e),{x:w.x,y:w.y,w:x.w,h:x.h}},getSize:function(e){var w,x,C=this;return e=C.get(e),w=C.getStyle(e,"width"),x=C.getStyle(e,"height"),-1===w.indexOf("px")&&(w=0),-1===x.indexOf("px")&&(x=0),{w:parseInt(w,10)||e.offsetWidth||e.clientWidth,h:parseInt(x,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,C,w){return this.getParents(e,C,w,!1)},getParents:function(e,C,w,x){var N,T=this,_=[];for(e=T.get(e),x=void 0===x,w=w||("BODY"!=T.getRoot().nodeName?T.getRoot().parentNode:null),v(C,"string")&&(N=C,C="*"===C?function(A){return 1==A.nodeType}:function(A){return T.is(A,N)});e&&e!=w&&e.nodeType&&9!==e.nodeType;){if(!C||C(e)){if(!x)return e;_.push(e)}e=e.parentNode}return x?_:null},get:function(e){var C;return e&&this.doc&&"string"==typeof e&&(C=e,(e=this.doc.getElementById(e))&&e.id!==C)?this.doc.getElementsByName(C)[1]:e},getNext:function(e,C){return this._findSib(e,C,"nextSibling")},getPrev:function(e,C){return this._findSib(e,C,"previousSibling")},select:function(e,C){var w=this;return a(e,w.get(C)||w.settings.root_element||w.doc,[])},is:function(e,C){var w;if(!e)return!1;if(void 0===e.length){if("*"===C)return 1==e.nodeType;if(g.test(C)){for(C=C.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),w=C.length-1;w>=0;w--)if(C[w]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var x=e.nodeType?[e]:e;return a(C,x[0].ownerDocument||x[0],null,x).length>0},add:function(e,C,w,x,T){var N=this;return this.run(e,function(_){var A;return A=v(C,"string")?N.doc.createElement(C):C,N.setAttribs(A,w),x&&(x.nodeType?A.appendChild(x):N.setHTML(A,x)),T?A:_.appendChild(A)})},create:function(e,C,w){return this.add(this.doc.createElement(e),e,C,w,1)},createHTML:function(e,C,w){var T,x="";for(T in x+="<"+e,C)C.hasOwnProperty(T)&&null!==C[T]&&typeof C[T]<"u"&&(x+=" "+T+'="'+this.encode(C[T])+'"');return typeof w<"u"?x+">"+w+"</"+e+">":x+" />"},createFragment:function(e){var C,w,T,x=this.doc;for(T=x.createElement("div"),C=x.createDocumentFragment(),e&&(T.innerHTML=e);w=T.firstChild;)C.appendChild(w);return C},remove:function(e,C){return e=this.$$(e),C?e.each(function(){for(var w;w=this.firstChild;)3==w.nodeType&&0===w.data.length?this.removeChild(w):this.parentNode.insertBefore(w,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,C,w){e=this.$$(e).css(C,w),this.settings.update_styles&&r(this,e)},getStyle:function(e,C,w){return e=this.$$(e),w?e.css(C):("float"==(C=C.replace(/-(\D)/g,function(x,T){return T.toUpperCase()}))&&(C=n.ie&&n.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[C]:void 0)},setStyles:function(e,C){e=this.$$(e).css(C),this.settings.update_styles&&r(this,e)},removeAllAttribs:function(e){return this.run(e,function(C){var w,x=C.attributes;for(w=x.length-1;w>=0;w--)C.removeAttributeNode(x.item(w))})},setAttrib:function(e,C,w){var T,N,x=this,_=x.settings;""===w&&(w=null),T=(e=x.$$(e)).attr(C),e.length&&((N=x.attrHooks[C])&&N.set?N.set(e,w,C):e.attr(C,w),T!=w&&_.onSetAttrib&&_.onSetAttrib({attrElm:e,attrName:C,attrValue:w}))},setAttribs:function(e,C){var w=this;w.$$(e).each(function(x,T){c(C,function(N,_){w.setAttrib(T,_,N)})})},getAttrib:function(e,C,w){var T,N;return(e=this.$$(e)).length&&(N=(T=this.attrHooks[C])&&T.get?T.get(e,C):e.attr(C)),typeof N>"u"&&(N=w||""),N},getPos:function(e,C){var N,F,w=this,x=0,T=0,_=w.doc,A=_.body;if(C=C||A,e=w.get(e)){if(C===A&&e.getBoundingClientRect&&"static"===S(A).css("position"))return{x:x=(F=e.getBoundingClientRect()).left+(_.documentElement.scrollLeft||A.scrollLeft)-(C=w.boxModel?_.documentElement:A).clientLeft,y:T=F.top+(_.documentElement.scrollTop||A.scrollTop)-C.clientTop};for(N=e;N&&N!=C&&N.nodeType;)x+=N.offsetLeft||0,T+=N.offsetTop||0,N=N.offsetParent;for(N=e.parentNode;N&&N!=C&&N.nodeType;)x-=N.scrollLeft||0,T-=N.scrollTop||0,N=N.parentNode}return{x,y:T}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,C){return this.styles.serialize(e,C)},addStyle:function(e){var x,T,w=this.doc;if(this!==E.DOM&&w===document){var N=E.DOM.addedStyles;if((N=N||[])[e])return;N[e]=!0,E.DOM.addedStyles=N}(T=w.getElementById("mceDefaultStyles"))||((T=w.createElement("style")).id="mceDefaultStyles",T.type="text/css",(x=w.getElementsByTagName("head")[0]).firstChild?x.insertBefore(T,x.firstChild):x.appendChild(T)),T.styleSheet?T.styleSheet.cssText+=e:T.appendChild(w.createTextNode(e))},loadCSS:function(e){var x,C=this,w=C.doc;C===E.DOM||w!==document?(e||(e=""),x=w.getElementsByTagName("head")[0],c(e.split(","),function(T){var N;T=i._addCacheSuffix(T),!C.files[T]&&(C.files[T]=!0,N=C.create("link",{rel:"stylesheet",href:T}),p&&w.documentMode&&w.recalc&&(N.onload=function(){w.recalc&&w.recalc(),N.onload=null}),x.appendChild(N))})):E.DOM.loadCSS(e)},addClass:function(e,C){this.$$(e).addClass(C)},removeClass:function(e,C){this.toggleClass(e,C,!1)},hasClass:function(e,C){return this.$$(e).hasClass(C)},toggleClass:function(e,C,w){this.$$(e).toggleClass(C,w).each(function(){""===this.className&&S(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,C){e=this.$$(e),p?e.each(function(w,x){if(!1!==x.canHaveHTML){for(;x.firstChild;)x.removeChild(x.firstChild);try{x.innerHTML="<br>"+C,x.removeChild(x.firstChild)}catch{S("<div></div>").html("<br>"+C).contents().slice(1).appendTo(x)}return C}}):e.html(C)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:S("<div></div>").append(S(e).clone()).html()},setOuterHTML:function(e,C){var w=this;w.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=C)}catch{}w.remove(S(this).html(C),!0)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(e,C){return C=this.get(C),this.run(e,function(w){var x,T;return x=C.parentNode,(T=C.nextSibling)?x.insertBefore(w,T):x.appendChild(w),w})},replace:function(e,C,w){return this.run(C,function(T){return v(T,"array")&&(e=e.cloneNode(!0)),w&&c(k(T.childNodes),function(N){e.appendChild(N)}),T.parentNode.replaceChild(e,T)})},rename:function(e,C){var x,w=this;return e.nodeName!=C.toUpperCase()&&(x=w.create(C),c(w.getAttribs(e),function(T){w.setAttrib(x,T.nodeName,w.getAttrib(e,T.nodeName))}),w.replace(x,e,1)),x||e},findCommonAncestor:function(e,C){for(var x,w=e;w;){for(x=C;x&&w!=x;)x=x.parentNode;if(w==x)break;w=w.parentNode}return!w&&e.ownerDocument?e.ownerDocument.documentElement:w},toHex:function(e){return this.styles.toHex(i.trim(e))},run:function(e,C,w){var T,x=this;return"string"==typeof e&&(e=x.get(e)),!!e&&(w=w||this,e.nodeType||!e.length&&0!==e.length?C.call(w,e):(T=[],c(e,function(N,_){N&&("string"==typeof N&&(N=x.get(N)),T.push(C.call(w,N,_)))}),T))},getAttribs:function(e){var C;return(e=this.get(e))?p?(C=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&C.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(x){C.push({specified:1,nodeName:x})}),C)):e.attributes:[]},isEmpty:function(e,C){var x,T,N,_,A,F,w=this,O=0;if(e=e.firstChild){A=new m(e,e.parentNode),C=C||(w.schema?w.schema.getNonEmptyElements():null),_=w.schema?w.schema.getWhiteSpaceElements():{};do{if(1===(N=e.nodeType)){var R=e.getAttribute("data-mce-bogus");if(R){e=A.next("all"===R);continue}if(F=e.nodeName.toLowerCase(),C&&C[F]){if("br"===F){O++,e=A.next();continue}return!1}for(x=(T=w.getAttribs(e)).length;x--;)if("name"===(F=T[x].nodeName)||"data-mce-bookmark"===F)return!1}if(8==N||3===N&&!d.test(e.nodeValue)||3===N&&e.parentNode&&_[e.parentNode.nodeName]&&d.test(e.nodeValue))return!1;e=A.next()}while(e)}return O<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new h(this)},nodeIndex:o,split:function(e,C,w){var N,_,A,x=this,T=x.createRng();function F(O){var R,M=O.childNodes,U=O.nodeType;if(1!=U||"bookmark"!=O.getAttribute("data-mce-type")){for(R=M.length-1;R>=0;R--)F(M[R]);if(9!=U){if(3==U&&O.nodeValue.length>0){var B=y(O.nodeValue).length;if(!x.isBlock(O.parentNode)||B>0||0===B&&function P(L){return L.previousSibling&&"SPAN"==L.previousSibling.nodeName&&L.nextSibling&&"SPAN"==L.nextSibling.nodeName}(O))return}else if(1==U&&(1==(M=O.childNodes).length&&M[0]&&1==M[0].nodeType&&"bookmark"==M[0].getAttribute("data-mce-type")&&O.parentNode.insertBefore(M[0],O),M.length||/^(br|hr|input|img)$/i.test(O.nodeName)))return;x.remove(O)}return O}}if(e&&C)return T.setStart(e.parentNode,x.nodeIndex(e)),T.setEnd(C.parentNode,x.nodeIndex(C)),N=T.extractContents(),(T=x.createRng()).setStart(C.parentNode,x.nodeIndex(C)+1),T.setEnd(e.parentNode,x.nodeIndex(e)+1),_=T.extractContents(),(A=e.parentNode).insertBefore(F(N),e),A.insertBefore(w||C,e),A.insertBefore(F(_),e),x.remove(e),w||C},bind:function(e,C,w,x){var T=this;if(i.isArray(e)){for(var N=e.length;N--;)e[N]=T.bind(e[N],C,w,x);return e}return T.settings.collect&&(e===T.doc||e===T.win)&&T.boundEvents.push([e,C,w,x]),T.events.bind(e,C,w,x||T)},unbind:function(e,C,w){var T,x=this;if(i.isArray(e)){for(T=e.length;T--;)e[T]=x.unbind(e[T],C,w);return e}if(x.boundEvents&&(e===x.doc||e===x.win))for(T=x.boundEvents.length;T--;){var N=x.boundEvents[T];e==N[0]&&(!C||C==N[1])&&(!w||w==N[2])&&this.events.unbind(N[0],N[1],N[2])}return this.events.unbind(e,C,w)},fire:function(e,C,w){return this.events.fire(e,C,w)},getContentEditable:function(e){var C;return e&&1==e.nodeType?(C=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==C?C:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var C=this.getRoot(),w=null;e&&e!==C&&null===(w=this.getContentEditable(e));e=e.parentNode);return w},destroy:function(){var e=this;if(e.boundEvents){for(var C=e.boundEvents.length;C--;){var w=e.boundEvents[C];this.events.unbind(w[0],w[1],w[2])}e.boundEvents=null}a.setDocument&&a.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,C){for(;e;){if(C===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,C,w){var x=this,T=C;if(e)for("string"==typeof T&&(T=function(N){return x.is(N,C)}),e=e[w];e;e=e[w])if(T(e))return e;return null}},E.DOM=new E(document),E.nodeIndex=o,E}),V("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(S,b){var h=S.DOM,a=b.each,t=b.grep,m=function(u){return"function"==typeof u};function n(){var g,c={},v=[],k={},y=[],p=0;this.isDone=function(l){return 2==c[l]},this.markDone=function(l){c[l]=2},this.add=this.load=function(l,r,o,E){c[l]==g&&(v.push(l),c[l]=0),r&&(k[l]||(k[l]=[]),k[l].push({success:r,failure:E,scope:o||this}))},this.remove=function(l){delete c[l],delete k[l]},this.loadQueue=function(l,r,o){this.loadScripts(v,l,r,o)},this.loadScripts=function(l,r,o,E){var e,C=[];function w(x,T){a(k[T],function(N){m(N[x])&&N[x].call(N.scope)}),k[T]=g}y.push({success:r,failure:E,scope:o||this}),e=function(){var x=t(l);l.length=0,a(x,function(T){2!==c[T]?3!==c[T]?1!==c[T]&&(c[T]=1,p++,function d(l,r,o){var e,C,E=h;function w(){E.remove(C),e&&(e.onreadystatechange=e.onload=e=null),r()}C=E.uniqueId(),(e=document.createElement("script")).id=C,e.type="text/javascript",e.src=b._addCacheSuffix(l),"onreadystatechange"in e?e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&w()}:e.onload=w,e.onerror=function x(){m(o)?o():typeof console<"u"&&console.log&&console.log("Failed to load script: "+l)},(document.getElementsByTagName("head")[0]||document.body).appendChild(e)}(T,function(){c[T]=2,p--,w("success",T),e()},function(){c[T]=3,p--,C.push(T),w("failure",T),e()})):w("failure",T):w("success",T)}),p||(a(y,function(T){0===C.length?m(T.success)&&T.success.call(T.scope):m(T.failure)&&T.failure.call(T.scope,C)}),y.length=0)},e()}}return n.ScriptLoader=new n,n}),V("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(S,b){var h=b.each;function a(){var t=this;t.items=[],t.urls={},t.lookup={}}return a.prototype={get:function(t){if(this.lookup[t])return this.lookup[t].instance},dependencies:function(t){var m;return this.lookup[t]&&(m=this.lookup[t].dependencies),m||[]},requireLangPack:function(t,m){var n=a.language;if(n&&!1!==a.languageLoad){if(m)if(-1!=(m=","+m+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==m.indexOf(","+n+","))return;S.ScriptLoader.add(this.urls[t]+"/langs/"+n+".js")}},add:function(t,m,n){return this.items.push(m),this.lookup[t]={instance:m,dependencies:n},m},remove:function(t){delete this.urls[t],delete this.lookup[t]},createUrl:function(t,m){return"object"==typeof m?m:{prefix:t.prefix,resource:m,suffix:t.suffix}},addComponents:function(t,m){var n=this.urls[t];h(m,function(u){S.ScriptLoader.add(n+"/"+u)})},load:function(t,m,n,u,s){var f=this,i=m;function c(){var v=f.dependencies(t);h(v,function(k){var y=f.createUrl(m,k);f.load(y.resource,y,void 0,void 0)}),n&&n.call(u||S)}f.urls[t]||("object"==typeof m&&(i=m.prefix+m.resource+m.suffix),0!==i.indexOf("/")&&-1==i.indexOf("://")&&(i=a.baseURL+"/"+i),f.urls[t]=i.substring(0,i.lastIndexOf("/")),f.lookup[t]?c():S.ScriptLoader.add(i,c,u,s))}},a.PluginManager=new a,a.ThemeManager=new a,a}),V("tinymce.core.dom.NodeType",[],function(){function S(f){return function(i){return!!i&&i.nodeType==f}}var b=S(1);function h(f){return f=f.toLowerCase().split(" "),function(i){var c,v;if(i&&i.nodeType)for(v=i.nodeName.toLowerCase(),c=0;c<f.length;c++)if(v===f[c])return!0;return!1}}function s(f){return function(i){return!(!b(i)||i.contentEditable!==f&&i.getAttribute("data-mce-contenteditable")!==f)}}return{isText:S(3),isElement:b,isComment:S(8),isBr:h("br"),isContentEditableTrue:s("true"),isContentEditableFalse:s("false"),matchNodeNames:h,hasPropValue:function t(f,i){return function(c){return b(c)&&c[f]===i}},hasAttribute:function m(f,i){return function(c){return b(c)&&c.hasAttribute(f)}},hasAttributeValue:function n(f,i){return function(c){return b(c)&&c.getAttribute(f)===i}},matchStyleValues:function a(f,i){return i=i.toLowerCase().split(" "),function(c){var v;if(b(c))for(v=0;v<i.length;v++)if(c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(f)===i[v])return!0;return!1}},isBogus:function u(f){return b(f)&&f.hasAttribute("data-mce-bogus")}}}),V("tinymce.core.text.Zwsp",[],function(){return{isZwsp:function(a){return"\ufeff"===a},ZWSP:"\ufeff",trim:function(a){return a.replace(new RegExp("\ufeff","g"),"")}}}),V("tinymce.core.caret.CaretContainer",["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(S,b){var h=S.isElement,a=S.isText;function t(r){return a(r)&&(r=r.parentNode),h(r)&&r.hasAttribute("data-mce-caret")}function m(r){return a(r)&&b.isZwsp(r.data)}function n(r){return t(r)||m(r)}function p(r){return a(r)&&r.data[0]==b.ZWSP}function g(r){return a(r)&&r.data[r.data.length-1]==b.ZWSP}return{isCaretContainer:n,isCaretContainerBlock:t,isCaretContainerInline:m,showCaretContainerBlock:function l(r){return r&&r.hasAttribute("data-mce-caret")?(function d(r){var o=r.getElementsByTagName("br"),E=o[o.length-1];S.isBogus(E)&&E.parentNode.removeChild(E)}(r),r.removeAttribute("data-mce-caret"),r.removeAttribute("data-mce-bogus"),r.removeAttribute("style"),r.removeAttribute("_moz_abspos"),r):null},insertInline:function s(r,o){var e,C,w;if(C=r.ownerDocument.createTextNode(b.ZWSP),w=r.parentNode,o){if(a(e=r.previousSibling)){if(n(e))return e;if(g(e))return e.splitText(e.data.length-1)}w.insertBefore(C,r)}else{if(a(e=r.nextSibling)){if(n(e))return e;if(p(e))return e.splitText(1),e}r.nextSibling?w.insertBefore(C,r.nextSibling):w.appendChild(C)}return C},prependInline:function(r){if(S.isText(r)){var o=r.data;return o.length>0&&o.charAt(0)!==b.ZWSP&&r.insertData(0,b.ZWSP),r}return null},appendInline:function(r){if(S.isText(r)){var o=r.data;return o.length>0&&o.charAt(o.length-1)!==b.ZWSP&&r.insertData(o.length,b.ZWSP),r}return null},isBeforeInline:function(r){return r&&S.isText(r.container())&&r.container().data.charAt(r.offset())===b.ZWSP},isAfterInline:function(r){return r&&S.isText(r.container())&&r.container().data.charAt(r.offset()-1)===b.ZWSP},insertBlock:function y(r,o,E){var C,w;return(C=o.ownerDocument.createElement(r)).setAttribute("data-mce-caret",E?"before":"after"),C.setAttribute("data-mce-bogus","all"),C.appendChild(function k(){var r=document.createElement("br");return r.setAttribute("data-mce-bogus","1"),r}()),w=o.parentNode,E?w.insertBefore(C,o):o.nextSibling?w.insertBefore(C,o.nextSibling):w.appendChild(C),C},hasContent:function(r){return r.firstChild!==r.lastChild||!S.isBr(r.firstChild)},startsWithCaretContainer:p,endsWithCaretContainer:g}}),V("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],function(S,b,h,a,t){var m=S.each,n=h.isContentEditableTrue,u=h.isContentEditableFalse,s=t.isCaretContainer;function f(r){return n(r)||u(r)}function c(r,o,E){for(;r&&r!==o;){if(E(r))return r;r=r.parentNode}return null}function v(r,o,E){return null!==c(r,o,E)}function k(r,o,E){return v(r,o,function(e){return e.nodeName===E})}function y(r){return"_mce_caret"===r.id}function p(r,o){return s(r)&&!1===v(r,o,y)}function g(r){this.walk=function(o,E){var T,N,_,A,F,O,R,e=o.startContainer,C=o.startOffset,w=o.endContainer,x=o.endOffset;if((R=r.select("td[data-mce-selected],th[data-mce-selected]")).length>0)m(R,function(L){E([L])});else{if(1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[C]),1==w.nodeType&&w.hasChildNodes()&&(w=function i(r,o){var E=r.childNodes;return--o>E.length-1?o=E.length-1:o<0&&(o=0),E[o]||r}(w,x)),e==w)return E(M([e]));for(T=r.findCommonAncestor(e,w),A=e;A;A=A.parentNode){if(A===w)return B(e,T,!0);if(A===T)break}for(A=w;A;A=A.parentNode){if(A===e)return B(w,T);if(A===T)break}N=P(e,T)||e,_=P(w,T)||w,B(e,N,!0),(O=U(N==e?N:N.nextSibling,"nextSibling",_==w?_.nextSibling:_)).length&&E(M(O)),B(w,_)}function M(L){var z;return 3===(z=L[0]).nodeType&&z===e&&C>=z.nodeValue.length&&L.splice(0,1),z=L[L.length-1],0===x&&L.length>0&&z===w&&3===z.nodeType&&L.splice(L.length-1,1),L}function U(L,z,q){for(var ee=[];L&&L!=q;L=L[z])ee.push(L);return ee}function P(L,z){do{if(L.parentNode==z)return L;L=L.parentNode}while(L)}function B(L,z,q){var ee=q?"nextSibling":"previousSibling";for(F=(A=L).parentNode;A&&A!=z;A=F)F=A.parentNode,(O=U(A==L?A:A[ee],ee)).length&&(q||O.reverse(),E(M(O)))}},this.split=function(o){var E=o.startContainer,e=o.startOffset,C=o.endContainer,w=o.endOffset;function x(T,N){return T.splitText(N)}return E==C&&3==E.nodeType?e>0&&e<E.nodeValue.length&&(E=(C=x(E,e)).previousSibling,w>e?(E=C=x(C,w-=e).previousSibling,w=C.nodeValue.length,e=0):w=0):(3==E.nodeType&&e>0&&e<E.nodeValue.length&&(E=x(E,e),e=0),3==C.nodeType&&w>0&&w<C.nodeValue.length&&(w=(C=x(C,w).previousSibling).nodeValue.length)),{startContainer:E,startOffset:e,endContainer:C,endOffset:w}},this.normalize=function(o){var e,E=!1;function C(w){var x,T,N,A,F,O,R,z,_=r.getRoot();function U(z,q){for(var ee=new b(z,r.getParent(z.parentNode,r.isBlock)||_);z=ee[q?"prev":"next"]();)if("BR"===z.nodeName)return!0}function L(z,q){var ee,ue,ae;if(ae=r.getParent((q=q||x).parentNode,r.isBlock)||_,z&&"BR"==q.nodeName&&R&&r.isEmpty(ae))return x=q.parentNode,T=r.nodeIndex(q),void(E=!0);for(ee=new b(q,ae);A=ee[z?"prev":"next"]();){if("false"===r.getContentEditableParent(A)||p(A,r.getRoot()))return;if(3===A.nodeType&&A.nodeValue.length>0)return void(!1===k(A,_,"A")&&(x=A,T=z?A.nodeValue.length:0,E=!0));if(r.isBlock(A)||F[A.nodeName.toLowerCase()])return;ue=A}e&&ue&&(x=ue,E=!0,T=0)}if(T=o[(w?"start":"end")+"Offset"],R=1==(x=o[(w?"start":"end")+"Container"]).nodeType&&T===x.childNodes.length,F=r.schema.getNonEmptyElements(),O=w,!s(x)){if(1==x.nodeType&&T>x.childNodes.length-1&&(O=!1),9===x.nodeType&&(x=r.getRoot(),T=0),x===_){if(O&&(A=x.childNodes[T>0?T-1:0])&&(s(A)||F[A.nodeName]||"TABLE"==A.nodeName))return;if(x.hasChildNodes()){if(T=Math.min(!O&&T>0?T-1:T,x.childNodes.length-1),x=x.childNodes[T],T=0,!e&&x===_.lastChild&&"TABLE"===x.nodeName||function P(z){for(;z&&z!=_;){if(u(z))return!0;z=z.parentNode}return!1}(x)||s(x))return;if(x.hasChildNodes()&&!/TABLE/.test(x.nodeName)){A=x,N=new b(x,_);do{if(u(A)||s(A)){E=!1;break}if(3===A.nodeType&&A.nodeValue.length>0){T=O?0:A.nodeValue.length,x=A,E=!0;break}if(F[A.nodeName.toLowerCase()]&&(!(z=A)||!/^(TD|TH|CAPTION)$/.test(z.nodeName))){T=r.nodeIndex(A),x=A.parentNode,"IMG"==A.nodeName&&!O&&T++,E=!0;break}}while(A=O?N.next():N.prev())}}}e&&(3===x.nodeType&&0===T&&L(!0),1===x.nodeType&&((A=x.childNodes[T])||(A=x.childNodes[T-1]),A&&"BR"===A.nodeName&&!function B(z,q){return z.previousSibling&&z.previousSibling.nodeName==q}(A,"A")&&!U(A)&&!U(A,!0)&&L(!0,A))),O&&!e&&3===x.nodeType&&T===x.nodeValue.length&&L(!1),E&&o["set"+(w?"Start":"End")](x,T)}}return e=o.collapsed,C(!0),e||C(),E&&e&&o.collapse(!0),E}}return g.compareRanges=function(r,o){if(r&&o){if(!r.item&&!r.duplicate)return r.startContainer==o.startContainer&&r.startOffset==o.startOffset;if(r.item&&o.item&&r.item(0)===o.item(0)||r.isEqual&&o.isEqual&&o.isEqual(r))return!0}return!1},g.getCaretRangeFromPoint=function(r,o,E){var e,C;if(E.caretPositionFromPoint)C=E.caretPositionFromPoint(r,o),(e=E.createRange()).setStart(C.offsetNode,C.offset),e.collapse(!0);else if(E.caretRangeFromPoint)e=E.caretRangeFromPoint(r,o);else if(E.body.createTextRange){e=E.body.createTextRange();try{e.moveToPoint(r,o),e.collapse(!0)}catch{e=function d(r,o,E){var e,C,w;if(e=E.elementFromPoint(r,o),C=E.body.createTextRange(),(!e||"HTML"==e.tagName)&&(e=E.body),C.moveToElementText(e),(w=(w=S.toArray(C.getClientRects())).sort(function(x,T){return(x=Math.abs(Math.max(x.top-o,x.bottom-o)))-Math.abs(Math.max(T.top-o,T.bottom-o))})).length>0){o=(w[0].bottom+w[0].top)/2;try{return C.moveToPoint(r,o),C.collapse(!0),C}catch{}}return null}(r,o,E)}return function l(r,o){var E=r&&r.parentElement?r.parentElement():null;return u(c(E,o,f))?null:r}(e,E.body)}return e},g.getSelectedNode=function(r){var o=r.startContainer,E=r.startOffset;return o.hasChildNodes()&&r.endOffset==E+1?o.childNodes[E]:null},g.getNode=function(r,o){return 1==r.nodeType&&r.hasChildNodes()&&(o>=r.childNodes.length&&(o=r.childNodes.length-1),r=r.childNodes[o]),r},g}),V("tinymce.core.html.Node",[],function(){var S=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function h(t,m,n){var u,s,f=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[f])return t[f];if(t!==m){if(u=t[i])return u;for(s=t.parent;s&&s!==m;s=s.parent)if(u=s[i])return u}}function a(t,m){this.name=t,this.type=m,1===m&&(this.attributes=[],this.attributes.map={})}return a.prototype={replace:function(t){var m=this;return t.parent&&t.remove(),m.insert(t,m),m.remove(),m},attr:function(t,m){var u,s,n=this;if("string"!=typeof t){for(s in t)n.attr(s,t[s]);return n}if(u=n.attributes){if(void 0!==m){if(null===m){if(t in u.map)for(delete u.map[t],s=u.length;s--;)if(u[s].name===t)return u=u.splice(s,1),n;return n}if(t in u.map){for(s=u.length;s--;)if(u[s].name===t){u[s].value=m;break}}else u.push({name:t,value:m});return u.map[t]=m,n}return u.map[t]}},clone:function(){var n,u,s,f,i,t=this,m=new a(t.name,t.type);if(s=t.attributes){for((i=[]).map={},n=0,u=s.length;n<u;n++)"id"!==(f=s[n]).name&&(i[i.length]={name:f.name,value:f.value},i.map[f.name]=f.value);m.attributes=i}return m.value=t.value,m.shortEnded=t.shortEnded,m},wrap:function(t){var m=this;return m.parent.insert(t,m),t.append(m),m},unwrap:function(){var m,n,t=this;for(m=t.firstChild;m;)n=m.next,t.insert(m,t,!0),m=n;t.remove()},remove:function(){var t=this,m=t.parent,n=t.next,u=t.prev;return m&&(m.firstChild===t?(m.firstChild=n,n&&(n.prev=null)):u.next=n,m.lastChild===t?(m.lastChild=u,u&&(u.next=null)):n.prev=u,t.parent=t.next=t.prev=null),t},append:function(t){var n,m=this;return t.parent&&t.remove(),(n=m.lastChild)?(n.next=t,t.prev=n,m.lastChild=t):m.lastChild=m.firstChild=t,t.parent=m,t},insert:function(t,m,n){var u;return t.parent&&t.remove(),u=m.parent||this,n?(m===u.firstChild?u.firstChild=t:m.prev.next=t,t.prev=m.prev,t.next=m,m.prev=t):(m===u.lastChild?u.lastChild=t:m.next.prev=t,t.next=m.next,t.prev=m,m.next=t),t.parent=u,t},getAll:function(t){var n,u=[];for(n=this.firstChild;n;n=h(n,this))n.name===t&&u.push(n);return u},empty:function(){var m,n,u,t=this;if(t.firstChild){for(m=[],u=t.firstChild;u;u=h(u,t))m.push(u);for(n=m.length;n--;)(u=m[n]).parent=u.firstChild=u.lastChild=u.next=u.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t,m){var s,f,u=this.firstChild;if(m=m||{},u)do{if(1===u.type){if(u.attributes.map["data-mce-bogus"])continue;if(t[u.name])return!1;for(s=u.attributes.length;s--;)if("name"===(f=u.attributes[s].name)||0===f.indexOf("data-mce-bookmark"))return!1}if(8===u.type||3===u.type&&!S.test(u.value)||3===u.type&&u.parent&&m[u.parent.name]&&S.test(u.value))return!1}while(u=h(u,this));return!0},walk:function(t){return h(this,null,t)}},a.create=function(t,m){var n,u;if(n=new a(t,b[t]||1),m)for(u in m)n.attr(u,m[u]);return n},a}),V("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(S,b,h){var a=h.each,t=function(u){return 0===u.indexOf("data-")||0===u.indexOf("aria-")};function m(u,s,f){var c,v,k,y,i=1;for(y=u.getShortEndedElements(),(k=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=c=f;v=k.exec(s);){if(c=k.lastIndex,"/"===v[1])i--;else if(!v[1]){if(v[2]in y)continue;i++}if(0===i)break}return c}function n(u,s){var f=this;function i(){}u=u||{},f.schema=s=s||new S,!1!==u.fix_self_closing&&(u.fix_self_closing=!0),a("comment cdata text start end pi doctype".split(" "),function(c){c&&(f[c]=u[c]||i)}),f.parse=function(c){var k,p,g,l,r,o,E,e,C,w,x,T,N,_,A,F,O,R,M,U,P,B,L,q,ee,ue,ae,ne,me,v=this,y=0,d=[],he=0,Ee=b.decode,$=h.makeMap("src,href,data,background,formaction,poster"),G=/((java|vb)script|mhtml):/i,Z=/^data:/i;function Y(ke){var ye,oe;for(ye=d.length;ye--&&d[ye].name!==ke;);if(ye>=0){for(oe=d.length-1;oe>=ye;oe--)(ke=d[oe]).valid&&v.end(ke.name);d.length=ye}}function ie(ke,ye,oe,K,se){var be,we;if(oe=(ye=ye.toLowerCase())in x?ye:Ee(oe||K||se||""),N&&!e&&!1===t(ye)){if(!(be=R[ye])&&M){for(we=M.length;we--&&!(be=M[we]).pattern.test(ye););-1===we&&(be=null)}if(!be||be.validValues&&!(oe in be.validValues))return}if($[ye]&&!u.allow_script_urls){var ve=oe.replace(/[\s\u0000-\u001F]+/g,"");try{ve=decodeURIComponent(ve)}catch{ve=unescape(ve)}if(G.test(ve)||!u.allow_html_data_urls&&Z.test(ve)&&!/^data:image\//i.test(ve))return}l.map[ye]=oe,l.push({name:ye,value:oe})}for(ee=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ue=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=s.getShortEndedElements(),q=u.self_closing_elements||s.getSelfClosingElements(),x=s.getBoolAttrs(),N=u.validate,C=u.remove_internals,me=u.fix_self_closing,ae=s.getSpecialElements(),L=c+">";k=ee.exec(L);){if(y<k.index&&v.text(Ee(c.substr(y,k.index-y))),p=k[6])":"===(p=p.toLowerCase()).charAt(0)&&(p=p.substr(1)),Y(p);else if(p=k[7]){if(k.index+k[0].length>c.length){v.text(Ee(c.substr(k.index))),y=k.index+k[0].length;continue}if(":"===(p=p.toLowerCase()).charAt(0)&&(p=p.substr(1)),T=p in w,me&&q[p]&&d.length>0&&d[d.length-1].name===p&&Y(p),!N||(_=s.getElementRule(p))){if(A=!0,N&&(R=_.attributes,M=_.attributePatterns),(O=k[8])?((e=-1!==O.indexOf("data-mce-type"))&&C&&(A=!1),(l=[]).map={},O.replace(ue,ie)):(l=[]).map={},N&&!e){if(U=_.attributesRequired,P=_.attributesDefault,_.removeEmptyAttrs&&!l.length&&(A=!1),B=_.attributesForced)for(r=B.length;r--;)"{$uid}"===(ne=(F=B[r]).value)&&(ne="mce_"+he++),l.map[E=F.name]=ne,l.push({name:E,value:ne});if(P)for(r=P.length;r--;)(E=(F=P[r]).name)in l.map||("{$uid}"===(ne=F.value)&&(ne="mce_"+he++),l.map[E]=ne,l.push({name:E,value:ne}));if(U){for(r=U.length;r--&&!(U[r]in l.map););-1===r&&(A=!1)}if(F=l.map["data-mce-bogus"]){if("all"===F){y=m(s,c,ee.lastIndex),ee.lastIndex=y;continue}A=!1}}A&&v.start(p,l,T)}else A=!1;if(g=ae[p]){g.lastIndex=y=k.index+k[0].length,(k=g.exec(c))?(A&&(o=c.substr(y,k.index-y)),y=k.index+k[0].length):(o=c.substr(y),y=c.length),A&&(o.length>0&&v.text(o,!0),v.end(p)),ee.lastIndex=y;continue}T||(O&&O.indexOf("/")==O.length-1?A&&v.end(p):d.push({name:p,valid:A}))}else(p=k[1])?(">"===p.charAt(0)&&(p=" "+p),!u.allow_conditional_comments&&"[if"===p.substr(0,3).toLowerCase()&&(p=" "+p),v.comment(p)):(p=k[2])?v.cdata(p):(p=k[3])?v.doctype(p):(p=k[4])&&v.pi(p,k[5]);y=k.index+k[0].length}for(y<c.length&&v.text(Ee(c.substr(y))),r=d.length-1;r>=0;r--)(p=d[r]).valid&&v.end(p.name)}}return n.findEndTag=m,n}),V("tinymce.core.html.DomParser",["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],function(S,b,h,a){var t=a.makeMap,m=a.each,n=a.explode,u=a.extend,s=function(i,c){i.padd_empty_with_br?c.empty().append(new S("br","1")).shortEnded=!0:c.empty().append(new S("#text","3")).value="\xa0"},f=function(i,c){return i&&i.firstChild===i.lastChild&&i.firstChild.name===c};return function(i,c){var v=this,k={},y=[],p={},g={};(i=i||{}).validate=!("validate"in i)||i.validate,i.root_name=i.root_name||"body",v.schema=c=c||new b,v.filterNode=function(l){var r,o,E;for((o in k&&((E=p[o])?E.push(l):p[o]=[l]),r=y.length);r--;)(o=y[r].name)in l.attributes.map&&((E=g[o])?E.push(l):g[o]=[l]);return l},v.addNodeFilter=function(l,r){m(n(l),function(o){var E=k[o];E||(k[o]=E=[]),E.push(r)})},v.addAttributeFilter=function(l,r){m(n(l),function(o){var E;for(E=0;E<y.length;E++)if(y[E].name===o)return void y[E].callbacks.push(r);y.push({name:o,callbacks:[r]})})},v.parse=function(l,r){var o,E,e,C,w,x,T,N,_,A,F,O,R,U,P,B,L,z,q,ee,ue,M=[];function ne(me,$){var Z,G=new S(me,$);return me in k&&((Z=p[me])?Z.push(G):p[me]=[G]),G}function he(me){var $,G,Z,Y,ie=c.getBlockElements();for($=me.prev;$&&3===$.type;){if((Z=$.value.replace(P,"")).length>0)return void($.value=Z);if(G=$.next){if(3==G.type&&G.value.length){$=$.prev;continue}if(!ie[G.name]&&"script"!=G.name&&"style"!=G.name){$=$.prev;continue}}Y=$.prev,$.remove(),$=Y}}if(r=r||{},p={},g={},O=u(t("script,style,head,html,body,title,meta,param"),c.getBlockElements()),ee=c.getNonEmptyElements(),q=c.children,F=i.validate,ue="forced_root_block"in r?r.forced_root_block:i.forced_root_block,z=c.getWhiteSpaceElements(),R=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,B=/[ \t\r\n]+/g,L=/^[ \t\r\n]+$/,o=new h({validate:F,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:function Ee(me){var $,G={};for($ in me)"li"!==$&&"p"!=$&&(G[$]=me[$]);return G}(c.getSelfClosingElements()),cdata:function(me){e.append(ne("#cdata",4)).value=me},text:function(me,$){var G;U||(me=me.replace(B," "),e.lastChild&&O[e.lastChild.name]&&(me=me.replace(R,""))),0!==me.length&&((G=ne("#text",3)).raw=!!$,e.append(G).value=me)},comment:function(me){e.append(ne("#comment",8)).value=me},pi:function(me,$){e.append(ne(me,7)).value=$,he(e)},doctype:function(me){e.append(ne("#doctype",10)).value=me,he(e)},start:function(me,$,G){var Z,Y,ie,ke,ye;if(ie=F?c.getElementRule(me):{}){for((Z=ne(ie.outputName||me,1)).attributes=$,Z.shortEnded=G,e.append(Z),(ye=q[e.name])&&q[Z.name]&&!ye[Z.name]&&M.push(Z),Y=y.length;Y--;)(ke=y[Y].name)in $.map&&((_=g[ke])?_.push(Z):g[ke]=[Z]);O[me]&&he(Z),G||(e=Z),!U&&z[me]&&(U=!0)}},end:function(me){var $,G,Z,Y,ie;if(G=F?c.getElementRule(me):{}){if(O[me]&&!U){if(($=e.firstChild)&&3===$.type)if((Z=$.value.replace(R,"")).length>0)$.value=Z,$=$.next;else for(Y=$.next,$.remove(),$=Y;$&&3===$.type;)Y=$.next,(0===(Z=$.value).length||L.test(Z))&&($.remove(),$=Y),$=Y;if(($=e.lastChild)&&3===$.type)if((Z=$.value.replace(P,"")).length>0)$.value=Z,$=$.prev;else for(Y=$.prev,$.remove(),$=Y;$&&3===$.type;)Y=$.prev,(0===(Z=$.value).length||L.test(Z))&&($.remove(),$=Y),$=Y}if(U&&z[me]&&(U=!1),(G.removeEmpty||G.paddEmpty)&&e.isEmpty(ee,z))if(G.paddEmpty)s(i,e);else if(!e.attributes.map.name&&!e.attributes.map.id)return ie=e.parent,O[e.name]?e.empty().remove():e.unwrap(),void(e=ie);e=e.parent}}},c),E=e=new S(r.context||i.root_name,11),o.parse(l),F&&M.length&&(r.context?r.invalid=!0:function d(l){var r,o,E,e,C,w,x,T,N,_,A,F,O,R,M,U;for(F=t("tr,td,th,tbody,thead,tfoot,table"),_=c.getNonEmptyElements(),A=c.getWhiteSpaceElements(),O=c.getTextBlockElements(),R=c.getSpecialElements(),r=0;r<l.length;r++)if((o=l[r]).parent&&!o.fixed){if(O[o.name]&&"li"==o.parent.name){for(M=o.next;M&&O[M.name];)M.name="li",M.fixed=!0,o.parent.insert(M,o.parent),M=M.next;o.unwrap(o);continue}for(e=[o],E=o.parent;E&&!c.isValidChild(E.name,o.name)&&!F[E.name];E=E.parent)e.push(E);if(E&&e.length>1){for(e.reverse(),C=w=v.filterNode(e[0].clone()),N=0;N<e.length-1;N++){for(c.isValidChild(w.name,e[N].name)?(x=v.filterNode(e[N].clone()),w.append(x)):x=w,T=e[N].firstChild;T&&T!=e[N+1];)U=T.next,x.append(T),T=U;w=x}C.isEmpty(_,A)?E.insert(o,e[0],!0):(E.insert(C,e[0],!0),E.insert(o,C)),((E=e[0]).isEmpty(_,A)||f(E,"br"))&&E.empty().remove()}else if(o.parent){if("li"===o.name){if((M=o.prev)&&("ul"===M.name||"ul"===M.name)){M.append(o);continue}if((M=o.next)&&("ul"===M.name||"ul"===M.name)){M.insert(o,M.firstChild,!0);continue}o.wrap(v.filterNode(new S("ul",1)));continue}c.isValidChild(o.parent.name,"div")&&c.isValidChild("div",o.name)?o.wrap(v.filterNode(new S("div",1))):R[o.name]?o.empty().remove():o.unwrap()}}}(M)),ue&&("body"==E.name||r.isRootContent)&&function ae(){var $,G,me=E.firstChild;function Z(Y){Y&&((me=Y.firstChild)&&3==me.type&&(me.value=me.value.replace(R,"")),(me=Y.lastChild)&&3==me.type&&(me.value=me.value.replace(P,"")))}if(c.isValidChild(E.name,ue.toLowerCase())){for(;me;)$=me.next,3==me.type||1==me.type&&"p"!==me.name&&!O[me.name]&&!me.attr("data-mce-type")?(G||((G=ne(ue,1)).attr(i.forced_root_block_attrs),E.insert(G,me)),G.append(me)):(Z(G),G=null),me=$;Z(G)}}(),!r.invalid){for(A in p){for(_=k[A],T=(C=p[A]).length;T--;)C[T].parent||C.splice(T,1);for(w=0,x=_.length;w<x;w++)_[w](C,A,r)}for(w=0,x=y.length;w<x;w++)if((_=y[w]).name in g){for(T=(C=g[_.name]).length;T--;)C[T].parent||C.splice(T,1);for(T=0,N=_.callbacks.length;T<N;T++)_.callbacks[T](C,_.name,r)}}return E},i.remove_trailing_brs&&v.addNodeFilter("br",function(l){var r,E,w,x,T,N,A,F,o=l.length,e=u({},c.getBlockElements()),C=c.getNonEmptyElements(),_=c.getNonEmptyElements();for(e.body=1,r=0;r<o;r++)if(w=(E=l[r]).parent,e[E.parent.name]&&E===w.lastChild){for(T=E.prev;T;){if("span"!==(N=T.name)||"bookmark"!==T.attr("data-mce-type")){if("br"!==N)break;if("br"===N){E=null;break}}T=T.prev}E&&(E.remove(),w.isEmpty(C,_)&&(A=c.getElementRule(w.name))&&(A.removeEmpty?w.remove():A.paddEmpty&&s(i,w)))}else{for(x=E;w&&w.firstChild===x&&w.lastChild===x&&(x=w,!e[w.name]);)w=w.parent;x===w&&!0!==i.padd_empty_with_br&&((F=new S("#text",3)).value="\xa0",E.replace(F))}}),i.allow_unsafe_link_target||v.addAttributeFilter("href",function(l){for(var o,r=l.length;r--;)"a"===(o=l[r]).name&&"_blank"===o.attr("target")&&o.attr("rel",(void 0,w=(C=o.attr("rel"))?a.trim(C):"",/\b(noopener)\b/g.test(w)?w:function(C){return C.split(" ").filter(function(x){return x.length>0}).concat(["noopener"]).join(" ")}(w)));var C,w}),i.allow_html_in_named_anchor||v.addAttributeFilter("id,name",function(l){for(var o,E,e,C,r=l.length;r--;)if("a"===(C=l[r]).name&&C.firstChild&&!C.attr("href")){e=C.parent,o=C.lastChild;do{E=o.prev,e.insert(o,C),o=E}while(o)}}),i.fix_list_elements&&v.addNodeFilter("ul,ol",function(l){for(var o,E,r=l.length;r--;)if("ul"===(E=(o=l[r]).parent).name||"ol"===E.name)if(o.prev&&"li"===o.prev.name)o.prev.append(o);else{var e=new S("li",1);e.attr("style","list-style-type: none"),o.wrap(e)}}),i.validate&&c.getValidClasses()&&v.addAttributeFilter("class",function(l){for(var o,E,e,C,w,T,N,r=l.length,x=c.getValidClasses();r--;){for(E=(o=l[r]).attr("class").split(" "),w="",e=0;e<E.length;e++)C=E[e],N=!1,(T=x["*"])&&T[C]&&(N=!0),T=x[o.name],!N&&T&&T[C]&&(N=!0),N&&(w&&(w+=" "),w+=C);w.length||(w=null),o.attr("class",w)}})}}),V("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(S,b){var h=b.makeMap;return function(a){var m,n,u,s,f,t=[];return m=(a=a||{}).indent,n=h(a.indent_before||""),u=h(a.indent_after||""),s=S.getEncodeFunc(a.entity_encoding||"raw",a.entities),f="html"==a.element_format,{start:function(i,c,v){var k,y,p,g;if(m&&n[i]&&t.length>0&&(g=t[t.length-1]).length>0&&"\n"!==g&&t.push("\n"),t.push("<",i),c)for(k=0,y=c.length;k<y;k++)t.push(" ",(p=c[k]).name,'="',s(p.value,!0),'"');t[t.length]=!v||f?">":" />",v&&m&&u[i]&&t.length>0&&(g=t[t.length-1]).length>0&&"\n"!==g&&t.push("\n")},end:function(i){var c;t.push("</",i,">"),m&&u[i]&&t.length>0&&(c=t[t.length-1]).length>0&&"\n"!==c&&t.push("\n")},text:function(i,c){i.length>0&&(t[t.length]=c?i:s(i))},cdata:function(i){t.push("<![CDATA[",i,"]]>")},comment:function(i){t.push("\x3c!--",i,"--\x3e")},pi:function(i,c){c?t.push("<?",i," ",s(c),"?>"):t.push("<?",i,"?>"),m&&t.push("\n")},doctype:function(i){t.push("<!DOCTYPE",i,">",m?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}}),V("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(S,b){return function(h,a){var t=this,m=new S(h);(h=h||{}).validate=!("validate"in h)||h.validate,t.schema=a=a||new b,t.writer=m,t.serialize=function(n){var u,s;function f(i){var v,k,y,p,g,d,l,r,o,c=u[i.type];if(c)c(i);else{if(v=i.name,k=i.shortEnded,y=i.attributes,s&&y&&y.length>1&&((d=[]).map={},o=a.getElementRule(i.name))){for(l=0,r=o.attributesOrder.length;l<r;l++)(p=o.attributesOrder[l])in y.map&&(d.map[p]=g=y.map[p],d.push({name:p,value:g}));for(l=0,r=y.length;l<r;l++)(p=y[l].name)in d.map||(d.map[p]=g=y.map[p],d.push({name:p,value:g}));y=d}if(m.start(i.name,y,k),!k){if(i=i.firstChild)do{f(i)}while(i=i.next);m.end(v)}}}return s=h.validate,u={3:function(i){m.text(i.value,i.raw)},8:function(i){m.comment(i.value)},7:function(i){m.pi(i.name,i.value)},10:function(i){m.doctype(i.value)},4:function(i){m.cdata(i.value)},11:function(i){if(i=i.firstChild)do{f(i)}while(i=i.next)}},m.reset(),1!=n.type||h.inner?u[11](n):f(n),m.getContent()}}}),V("tinymce.core.dom.Serializer",["tinymce.core.dom.DOMUtils","tinymce.core.html.DomParser","tinymce.core.html.SaxParser","tinymce.core.html.Entities","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.text.Zwsp"],function(S,b,h,a,t,m,n,u,s,f){var i=s.each,c=s.trim,v=S.DOM;return function(y,p){var g,d,l,r=["data-mce-selected"];function o(w){var x=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+r.join("|")+')="[^"]+"'].join("|"),"gi");return f.trim(w.replace(x,""))}function E(w){var N,_,A,F,O,x=w,T=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,R=p.schema;for(x=o(x),O=R.getShortEndedElements();F=T.exec(x);)_=T.lastIndex,A=F[0].length,N=O[F[1]]?_:h.findEndTag(R,x,_),x=x.substring(0,_-A)+x.substring(N),T.lastIndex=_-A;return x}return p&&(g=p.dom,d=p.schema),g=g||v,d=d||new n(y),y.entity_encoding=y.entity_encoding||"named",y.remove_trailing_brs=!("remove_trailing_brs"in y)||y.remove_trailing_brs,(l=new b(y,d)).addAttributeFilter("data-mce-tabindex",function(w,x){for(var N,T=w.length;T--;)(N=w[T]).attr("tabindex",N.attributes.map["data-mce-tabindex"]),N.attr(x,null)}),l.addAttributeFilter("src,href,style",function(w,x){for(var N,_,T=w.length,A="data-mce-"+x,F=y.url_converter,O=y.url_converter_scope;T--;)void 0!==(_=(N=w[T]).attributes.map[A])?(N.attr(x,_.length>0?_:null),N.attr(A,null)):(_=N.attributes.map[x],"style"===x?_=g.serializeStyle(g.parseStyle(_),N.name):F&&(_=F.call(O,_,x,N.name)),N.attr(x,_.length>0?_:null))}),l.addAttributeFilter("class",function(w){for(var T,N,x=w.length;x--;)(N=(T=w[x]).attr("class"))&&(N=T.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),T.attr("class",N.length>0?N:null))}),l.addAttributeFilter("data-mce-type",function(w,x,T){for(var _,N=w.length;N--;)"bookmark"===(_=w[N]).attributes.map["data-mce-type"]&&!T.cleanup&&_.remove()}),l.addNodeFilter("noscript",function(w){for(var T,x=w.length;x--;)(T=w[x].firstChild)&&(T.value=a.decode(T.value))}),l.addNodeFilter("script,style",function(w,x){var N,_,A,T=w.length;function F(O){return O.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(;T--;)_=(N=w[T]).firstChild?N.firstChild.value:"","script"===x?((A=N.attr("type"))&&N.attr("type","mce-no/type"==A?null:A.replace(/^mce\-/,"")),_.length>0&&(N.firstChild.value="// <![CDATA[\n"+F(_)+"\n// ]]>")):_.length>0&&(N.firstChild.value="\x3c!--\n"+F(_)+"\n--\x3e")}),l.addNodeFilter("#comment",function(w){for(var T,x=w.length;x--;)0===(T=w[x]).value.indexOf("[CDATA[")?(T.name="#cdata",T.type=4,T.value=T.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===T.value.indexOf("mce:protected ")&&(T.name="#text",T.type=3,T.raw=!0,T.value=unescape(T.value).substr(14))}),l.addNodeFilter("xml:namespace,input",function(w,x){for(var N,T=w.length;T--;)7===(N=w[T]).type?N.remove():1===N.type&&"input"===x&&!("type"in N.attributes.map)&&N.attr("type","text")}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(w,x){for(var T=w.length;T--;)w[T].attr(x,null)}),{schema:d,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(w,x){var N,_,A,F,O,R;return u.ie&&g.select("script,style,select,map").length>0?(O=w.innerHTML,w=w.cloneNode(!1),g.setHTML(w,O)):w=w.cloneNode(!0),(N=document.implementation).createHTMLDocument&&(_=N.createHTMLDocument(""),i("BODY"==w.nodeName?w.childNodes:[w],function(M){_.body.appendChild(_.importNode(M,!0))}),w="BODY"!=w.nodeName?_.body.firstChild:_.body,A=g.doc,g.doc=_),(x=x||{}).format=x.format||"html",x.selection&&(x.forced_root_block=""),x.no_events||(x.node=w,this.onPreProcess(x)),function k(y){var p,g;function d(l){return l&&"br"===l.name}d(p=y.lastChild)&&d(g=p.prev)&&(p.remove(),g.remove())}(R=l.parse(c(x.getInner?w.innerHTML:g.getOuterHTML(w)),x)),F=new t(y,d),x.content=F.serialize(R),x.cleanup||(x.content=f.trim(x.content),x.content=x.content.replace(/\uFEFF/g,"")),x.no_events||this.onPostProcess(x),A&&(g.doc=A),x.node=null,x.content},addRules:function(w){d.addValidElements(w)},setRules:function(w){d.setValidElements(w)},onPreProcess:function(w){p&&p.fire("PreProcess",w)},onPostProcess:function(w){p&&p.fire("PostProcess",w)},addTempAttr:function C(w){-1===s.inArray(r,w)&&(l.addAttributeFilter(w,function(x,T){for(var N=x.length;N--;)x[N].attr(T,null)}),r.push(w))},trimHtml:o,getTrimmedContent:function e(){return E(p.getBody().innerHTML)},trimContent:E}}}),V("tinymce.core.util.VK",["tinymce.core.Env"],function(S){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey||this.metaKeyPressed(b)},metaKeyPressed:function(b){return S.mac?b.metaKey:b.ctrlKey&&!b.altKey}}}),V("tinymce.core.dom.ControlSelection",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.NodeType"],function(S,b,h,a,t){var m=t.isContentEditableFalse,n=t.isContentEditableTrue;return function(s,f){var v,k,y,p,g,d,l,r,o,E,e,C,w,x,T,N,U,P,i=f.dom,c=b.each,_=f.getDoc(),A=document,F=a.ie&&a.ie<11,O=Math.abs,R=Math.round,M=f.getBody();p={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var B=".mce-content-body";function L(oe){var K=f.settings.object_resizing;return!1!==K&&!a.iOS&&("string"!=typeof K&&(K="table,img,div"),"false"!==oe.getAttribute("data-mce-resize"))&&oe!=f.getBody()&&f.dom.is(oe,K)}function z(oe){var K,se,we,De;T=(T=(K=oe.screenX-l)*g[2]+e)<5?5:T,N=(N=(se=oe.screenY-r)*g[3]+C)<5?5:N,("IMG"==v.nodeName&&!1!==f.settings.resize_img_proportional?!S.modifierPressed(oe):S.modifierPressed(oe)||"IMG"==v.nodeName&&g[2]*g[3]!=0)&&(O(K)>O(se)?(N=R(T*w),T=R(N/w)):(T=R(N/w),N=R(T*w))),i.setStyles(k,{width:T,height:N}),i.setStyles(y,{left:we=(we=g.startPos.x+K)>0?we:0,top:De=(De=g.startPos.y+se)>0?De:0,display:"block"}),y.innerHTML=T+" &times; "+N,g[2]<0&&k.clientWidth<=T&&i.setStyle(k,"left",o+(e-T)),g[3]<0&&k.clientHeight<=N&&i.setStyle(k,"top",E+(C-N)),(K=M.scrollWidth-U)+(se=M.scrollHeight-P)!=0&&i.setStyles(y,{left:we-K,top:De-se}),x||(f.fire("ObjectResizeStart",{target:v,width:e,height:C}),x=!0)}function q(){function oe(K,se){se&&(v.style[K]||!f.schema.isValid(v.nodeName.toLowerCase(),K)?i.setStyle(v,K,se):i.setAttrib(v,K,se))}x=!1,oe("width",T),oe("height",N),i.unbind(_,"mousemove",z),i.unbind(_,"mouseup",q),A!=_&&(i.unbind(A,"mousemove",z),i.unbind(A,"mouseup",q)),i.remove(k),i.remove(y),(!F||"TABLE"==v.nodeName)&&ee(v),f.fire("ObjectResized",{target:v,width:T,height:N}),i.setAttrib(v,"style",i.getAttrib(v,"style")),f.nodeChanged()}function ee(oe,K,se){var be,we,De,ve,Ue;ue(),Y(),be=i.getPos(oe,M),o=be.x,E=be.y,Ue=oe.getBoundingClientRect(),we=Ue.width||Ue.right-Ue.left,De=Ue.height||Ue.bottom-Ue.top,v!=oe&&(Z(),v=oe,T=N=0),ve=f.fire("ObjectSelected",{target:oe}),L(oe)&&!ve.isDefaultPrevented()?c(p,function(qe,Te){var re;function fe(Ce){l=Ce.screenX,r=Ce.screenY,w=(C=v.clientHeight)/(e=v.clientWidth),g=qe,qe.startPos={x:we*qe[0]+o,y:De*qe[1]+E},U=M.scrollWidth,P=M.scrollHeight,k=v.cloneNode(!0),i.addClass(k,"mce-clonedresizable"),i.setAttrib(k,"data-mce-bogus","all"),k.contentEditable=!1,k.unSelectabe=!0,i.setStyles(k,{left:o,top:E,margin:0}),k.removeAttribute("data-mce-selected"),M.appendChild(k),i.bind(_,"mousemove",z),i.bind(_,"mouseup",q),A!=_&&(i.bind(A,"mousemove",z),i.bind(A,"mouseup",q)),y=i.add(M,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},e+" &times; "+C)}K?Te==K&&fe(se):((re=i.get("mceResizeHandle"+Te))&&i.remove(re),re=i.add(M,"div",{id:"mceResizeHandle"+Te,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Te+"-resize; margin:0; padding:0"}),a.ie&&(re.contentEditable=!1),i.bind(re,"mousedown",function(Ce){Ce.stopImmediatePropagation(),Ce.preventDefault(),fe(Ce)}),qe.elm=re,i.setStyles(re,{left:we*qe[0]+o-re.offsetWidth/2,top:De*qe[1]+E-re.offsetHeight/2}))}):ue(),v.setAttribute("data-mce-selected","1")}function ue(){var oe,K;for(oe in Y(),v&&v.removeAttribute("data-mce-selected"),p)(K=i.get("mceResizeHandle"+oe))&&(i.unbind(K),i.remove(K))}function ae(oe){var K,se;function be(we,De){if(we)do{if(we===De)return!0}while(we=we.parentNode)}if(!x&&!f.removed){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(we){we.removeAttribute("data-mce-selected")}),se="mousedown"==oe.type?oe.target:s.getNode(),be(se=i.$(se).closest(F?"table":"table,img,hr")[0],M)&&(ie(),be(K=s.getStart(!0),se)&&be(s.getEnd(!0),se)&&(!F||se!=K&&"IMG"!==K.nodeName)))return void ee(se);ue()}}function ne(oe,K,se){oe&&oe.attachEvent&&oe.attachEvent("on"+K,se)}function he(oe,K,se){oe&&oe.detachEvent&&oe.detachEvent("on"+K,se)}function Ee(oe){var se,be,we,ve,Ue,qe,K=oe.srcElement;for(be in se=K.getBoundingClientRect(),Ue=d.clientX-se.left,qe=d.clientY-se.top,p)if(ve=K.offsetHeight*(we=p[be])[1],O(K.offsetWidth*we[0]-Ue)<8&&O(ve-qe)<8){g=we;break}x=!0,f.fire("ObjectResizeStart",{target:v,width:v.clientWidth,height:v.clientHeight}),f.getDoc().selection.empty(),ee(K,be,d)}function $(oe){return m(function u(s,f){for(;f&&f!=s;){if(n(f)||m(f))return f;f=f.parentNode}return null}(f.getBody(),oe))}function G(oe){var K=oe.srcElement;if($(K))!function me(oe){oe.preventDefault?oe.preventDefault():oe.returnValue=!1}(oe);else if(K!=v){if(f.fire("ObjectSelected",{target:K}),Z(),0===K.id.indexOf("mceResizeHandle"))return void(oe.returnValue=!1);("IMG"==K.nodeName||"TABLE"==K.nodeName)&&(ue(),v=K,ne(K,"resizestart",Ee))}}function Z(){he(v,"resizestart",Ee)}function Y(){for(var oe in p){var K=p[oe];K.elm&&(i.unbind(K.elm),delete K.elm)}}function ie(){try{f.getDoc().execCommand("enableObjectResizing",!1,!1)}catch{}}function ke(oe){var K;if(F){K=_.body.createControlRange();try{return K.addElement(oe),K.select(),!0}catch{}}}return f.contentStyles.push(B+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+B+" .mce-resizehandle:hover {background: #000}"+B+" img[data-mce-selected],"+B+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+B+" .mce-clonedresizable {position: absolute;"+(a.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+B+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),f.on("init",function(){F?(f.on("ObjectResized",function(K){"TABLE"!=K.target.nodeName&&(ue(),ke(K.target))}),ne(M,"controlselect",G),f.on("mousedown",function(K){d=K})):(ie(),a.ie>=11&&(f.on("mousedown click",function(K){var se=K.target,be=se.nodeName;!x&&/^(TABLE|IMG|HR)$/.test(be)&&!$(se)&&(f.selection.select(se,"TABLE"==be),"mousedown"==K.type&&f.nodeChanged())}),f.dom.bind(M,"mscontrolselect",function(K){function se(be){h.setEditorTimeout(f,function(){f.selection.select(be)})}if($(K.target))return K.preventDefault(),void se(K.target);/^(TABLE|IMG|HR)$/.test(K.target.nodeName)&&(K.preventDefault(),"IMG"==K.target.tagName&&se(K.target))})));var oe=h.throttle(function(K){f.composing||ae(K)});f.on("nodechange ResizeEditor ResizeWindow drop",oe),f.on("keyup compositionend",function(K){v&&"TABLE"==v.nodeName&&oe(K)}),f.on("hide blur",ue)}),f.on("remove",Y),{isResizable:L,showResizeRect:ee,hideResizeRect:ue,updateResizeRect:ae,controlSelect:ke,destroy:function ye(){v=k=null,F&&(Z(),he(M,"controlselect",G))}}}}),V("tinymce.core.util.Fun",[],function(){var S=[].slice;return{constant:function b(s){return function(){return s}},negate:function h(s){return function(f){return!s(f)}},and:function m(){var s=S.call(arguments);return function(f){for(var i=0;i<s.length;i++)if(!s[i](f))return!1;return!0}},or:function t(){var s=S.call(arguments);return function(f){for(var i=0;i<s.length;i++)if(s[i](f))return!0;return!1}},curry:function n(s){var f=S.call(arguments);return f.length-1>=s.length?s.apply(this,f.slice(1)):function(){var i=f.concat([].slice.call(arguments));return n.apply(this,i)}},compose:function a(s,f){return function(i){return s(f(i))}},noop:function u(){}}}),V("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(S,b,h){var a=S.isContentEditableTrue,t=S.isContentEditableFalse,m=S.isBr,n=S.isText,u=S.matchNodeNames("script style textarea"),s=S.matchNodeNames("img input textarea hr iframe video audio object"),f=S.matchNodeNames("table"),i=h.isCaretContainer;function c(g){return!i(g)&&(n(g)?!u(g.parentNode):s(g)||m(g)||f(g)||t(g))}function v(g,d){for(g=g.parentNode;g&&g!=d;g=g.parentNode){if(t(g))return!1;if(a(g))return!0}return!0}return{isCaretCandidate:c,isInEditable:v,isAtomic:function y(g){return s(g)||function k(g){return!!t(g)&&!0!==b.reduce(g.getElementsByTagName("*"),function(d,l){return d||a(l)},!1)}(g)},isEditableCaretCandidate:function p(g,d){return c(g)&&v(g,d)}}}),V("tinymce.core.geom.ClientRect",[],function(){var S=Math.round;function b(c){return c?{left:S(c.left),top:S(c.top),bottom:S(c.bottom),right:S(c.right),width:S(c.width),height:S(c.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(c,v,k){return c>=0&&c<=Math.min(v.height,k.height)/2}function m(c,v){return c.bottom-c.height/2<v.top||!(c.top>v.bottom)&&t(v.top-c.bottom,c,v)}function n(c,v){return c.top>v.bottom||!(c.bottom<v.top)&&t(v.bottom-c.top,c,v)}function u(c,v){return c.left<v.left}function s(c,v){return c.right>v.right}return{clone:b,collapse:function h(c,v){return c=b(c),v||(c.left=c.left+c.width),c.right=c.left,c.width=0,c},isEqual:function a(c,v){return c.left===v.left&&c.top===v.top&&c.bottom===v.bottom&&c.right===v.right},isAbove:m,isBelow:n,isLeft:u,isRight:s,compare:function f(c,v){return m(c,v)?-1:n(c,v)?1:u(c,v)?-1:s(c,v)?1:0},containsXY:function i(c,v,k){return v>=c.left&&v<=c.right&&k>=c.top&&k<=c.bottom}}}),V("tinymce.core.text.ExtendingChar",[],function(){var S=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function b(h){return"string"==typeof h&&h.charCodeAt(0)>=768&&S.test(h)}}}),V("tinymce.core.caret.CaretPosition",["tinymce.core.util.Fun","tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.dom.RangeUtils","tinymce.core.caret.CaretCandidate","tinymce.core.geom.ClientRect","tinymce.core.text.ExtendingChar"],function(S,b,h,a,t,m,n){var u=b.isElement,s=t.isCaretCandidate,f=b.matchStyleValues("display","block table"),i=b.matchStyleValues("float","left right"),c=S.and(u,s,S.negate(i)),v=S.negate(b.matchStyleValues("white-space","pre pre-line pre-wrap")),k=b.isText,y=b.isBr,p=h.nodeIndex,g=a.getNode;function d(e){return"createRange"in e?e.createRange():h.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function r(e){var x,C=e.startContainer,w=e.startOffset;return!!(l(e.toString())&&v(C.parentNode)&&(x=C.data,l(x[w-1])||l(x[w+1])))}function E(e,C,w){function _(){return w||(w=function o(e){var w,x,C=[];function N(O){var R,M;return M=O.getClientRects(),R=m.clone(M.length>0?M[0]:O.getBoundingClientRect()),y(O)&&0===R.left?function T(O){var B,R=O.ownerDocument,M=d(R),U=R.createTextNode("\xa0"),P=O.parentNode;return P.insertBefore(U,O),M.setStart(U,0),M.setEnd(U,1),B=m.clone(M.getBoundingClientRect()),P.removeChild(U),B}(O):R}function _(O,R){return(O=m.collapse(O,R)).width=1,O.right=O.left+1,O}function A(O){0!==O.height&&(C.length>0&&m.isEqual(O,C[C.length-1])||C.push(O))}function F(O,R){var M=d(O.ownerDocument);if(R<O.data.length){if(n.isExtendingChar(O.data[R]))return C;if(n.isExtendingChar(O.data[R-1])&&(M.setStart(O,R),M.setEnd(O,R+1),!r(M)))return A(_(N(M),!1)),C}R>0&&(M.setStart(O,R-1),M.setEnd(O,R),r(M)||A(_(N(M),!1))),R<O.data.length&&(M.setStart(O,R),M.setEnd(O,R+1),r(M)||A(_(N(M),!0)))}if(k(e.container()))return F(e.container(),e.offset()),C;if(u(e.container()))if(e.isAtEnd())x=g(e.container(),e.offset()),k(x)&&F(x,x.data.length),c(x)&&!y(x)&&A(_(N(x),!1));else{if(x=g(e.container(),e.offset()),k(x)&&F(x,0),c(x)&&e.isAtEnd())return A(_(N(x),!1)),C;w=g(e.container(),e.offset()-1),c(w)&&!y(w)&&(f(w)||f(x)||!c(x))&&A(_(N(w),!1)),c(x)&&A(_(N(x),!0))}return C}(new E(e,C))),w}return{container:S.constant(e),offset:S.constant(C),toRange:function N(){var R;return(R=d(e.ownerDocument)).setStart(e,C),R.setEnd(e,C),R},getClientRects:_,isVisible:function A(){return _().length>0},isAtStart:function x(){return k(e),0===C},isAtEnd:function T(){return k(e)?C>=e.data.length:C>=e.childNodes.length},isEqual:function F(R){return R&&e===R.container()&&C===R.offset()},getNode:function O(R){return g(e,R?C-1:C)}}}return E.fromRangeStart=function(e){return new E(e.startContainer,e.startOffset)},E.fromRangeEnd=function(e){return new E(e.endContainer,e.endOffset)},E.after=function(e){return new E(e.parentNode,p(e)+1)},E.before=function(e){return new E(e.parentNode,p(e))},E.isAtStart=function(e){return!!e&&e.isAtStart()},E.isAtEnd=function(e){return!!e&&e.isAtEnd()},E.isTextPosition=function(e){return!!e&&b.isText(e.container())},E}),V("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(S,b,h,a,t){var m=S.isText,n=S.isBogus,u=b.nodeIndex;function s(r){var o=r.parentNode;return n(o)?s(o):o}function f(r){return r?a.reduce(r.childNodes,function(o,E){return n(E)&&"BR"!=E.nodeName?o=o.concat(f(E)):o.push(E),o},[]):[]}function c(r){return function(o){return r===o}}function v(r){var o,E,e;return o=f(s(r)),E=a.findIndex(o,c(r),r),o=o.slice(0,E+1),e=a.reduce(o,function(C,w,x){return m(w)&&m(o[x-1])&&C++,C},0),o=a.filter(o,S.matchNodeNames(r.nodeName)),(E=a.findIndex(o,c(r),r))-e}function k(r){return(m(r)?"text()":r.nodeName.toLowerCase())+"["+v(r)+"]"}return{create:function p(r,o){var E,e,w,x,T,C=[];return E=o.container(),e=o.offset(),m(E)?w=function i(r,o){for(;(r=r.previousSibling)&&m(r);)o+=r.data.length;return o}(E,e):(e>=(x=E.childNodes).length?(w="after",e=x.length-1):w="before",E=x[e]),C.push(k(E)),T=function y(r,o,E){var e=[];for(o=o.parentNode;!(o==r||E&&E(o));o=o.parentNode)e.push(o);return e}(r,E),T=a.filter(T,h.negate(S.isBogus)),(C=C.concat(a.map(T,function(N){return k(N)}))).reverse().join("/")+","+w},resolve:function l(r,o){var E,e,C;return o&&(E=o.split(","),o=E[0].split("/"),C=E.length>1?E[1]:"before",e=a.reduce(o,function(w,x){return(x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(x))?("text()"===x[1]&&(x[1]="#text"),function g(r,o,E){var e=f(r);return e=a.filter(e,function(C,w){return!m(C)||!m(e[w-1])}),(e=a.filter(e,S.matchNodeNames(o)))[E]}(w,x[1],parseInt(x[2],10))):null},r))?m(e)?function d(r,o){for(var C,E=r,e=0;m(E);){if(C=E.data.length,o>=e&&o<=e+C){r=E,o-=e;break}if(!m(E.nextSibling)){r=E,o=C;break}e+=C,E=E.nextSibling}return o>r.data.length&&(o=r.data.length),new t(r,o)}(e,parseInt(C,10)):(C="after"===C?u(e)+1:u(e),new t(e.parentNode,C)):null}}}),V("tinymce.core.dom.BookmarkManager",["tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n,u){var s=a.isContentEditableFalse,f=function(c,v){var k,y;for(y=n.trim(c.data.slice(0,v)).length,k=c.previousSibling;k&&3===k.nodeType;k=k.previousSibling)y+=n.trim(k.data).length;return y};function i(c){var v=c.dom;this.getBookmark=function(k,y){var p,g,d,l,r,o,e,E="&#xFEFF;";function C(N,_){var A=0;return u.each(v.select(N),function(F){if("all"!==F.getAttribute("data-mce-bogus")){if(F==_)return!1;A++}}),A}function w(N){function _(A){var F,O,R,M=A?"start":"end";O=N[M+"Offset"],1==(F=N[M+"Container"]).nodeType&&"TR"==F.nodeName&&(F=(R=F.childNodes)[Math.min(A?O:O-1,R.length-1)])&&N["set"+(A?"Start":"End")](F,O=A?0:F.childNodes.length)}return _(!0),_(),N}if(2==k)return r=(o=c.getNode())?o.nodeName:null,p=c.getRng(),s(o)||"IMG"==r?{name:r,index:C(r,o)}:c.tridentSel?c.tridentSel.getBookmark(k):(o=function T(N){function _(A,F){var O;return a.isElement(A)&&(A=t.getNode(A,F),s(A))?A:b.isCaretContainer(A)&&(a.isText(A)&&b.isCaretContainerBlock(A)&&(A=A.parentNode),s(O=A.previousSibling)||s(O=A.nextSibling))?O:void 0}return _(N.startContainer,N.startOffset)||_(N.endContainer,N.endOffset)}(p))?{name:r=o.tagName,index:C(r,o)}:function x(N){var _=v.getRoot(),A={};function F(O,R){var B,M=O[R?"startContainer":"endContainer"],U=O[R?"startOffset":"endOffset"],P=[],L=0;for(3===M.nodeType?P.push(y?f(M,U):U):(U>=(B=M.childNodes).length&&B.length&&(L=1,U=Math.max(0,B.length-1)),P.push(v.nodeIndex(B[U],y)+L));M&&M!=_;M=M.parentNode)P.push(v.nodeIndex(M,y));return P}return A.start=F(N,!0),c.isCollapsed()||(A.end=F(N)),A}(p);if(3==k)return p=c.getRng(),{start:S.create(v.getRoot(),h.fromRangeStart(p)),end:S.create(v.getRoot(),h.fromRangeEnd(p))};if(k)return{rng:c.getRng()};if(p=c.getRng(),d=v.uniqueId(),l=c.isCollapsed(),e="overflow:hidden;line-height:0px",p.duplicate||p.item){if(p.item)return{name:r=(o=p.item(0)).nodeName,index:C(r,o)};g=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+d+'_start" style="'+e+'">'+E+"</span>"),l||(g.collapse(!1),p.moveToElementText(g.parentElement()),0===p.compareEndPoints("StartToEnd",g)&&g.move("character",-1),g.pasteHTML('<span data-mce-type="bookmark" id="'+d+'_end" style="'+e+'">'+E+"</span>"))}catch{return null}}else{if("IMG"==(r=(o=c.getNode()).nodeName))return{name:r,index:C(r,o)};g=w(p.cloneRange()),l||(g.collapse(!1),g.insertNode(v.create("span",{"data-mce-type":"bookmark",id:d+"_end",style:e},E))),(p=w(p)).collapse(!0),p.insertNode(v.create("span",{"data-mce-type":"bookmark",id:d+"_start",style:e},E))}return c.moveToBookmark({id:d,keep:1}),{id:d}},this.moveToBookmark=function(k){var y,p,g,d,l,r;function o(w){var T,N,_,A,x=k[w?"start":"end"];if(x){for(_=x[0],N=p,T=x.length-1;T>=1;T--){if(x[T]>(A=N.childNodes).length-1)return;N=A[x[T]]}3===N.nodeType&&(_=Math.min(x[0],N.nodeValue.length)),1===N.nodeType&&(_=Math.min(x[0],N.childNodes.length)),w?y.setStart(N,_):y.setEnd(N,_)}return!0}function E(w){var T,N,_,A,x=v.get(k.id+"_"+w),F=k.keep;if(x&&(T=x.parentNode,"start"==w?(F?(T=x.firstChild,N=1):N=v.nodeIndex(x),g=d=T,l=r=N):(F?(T=x.firstChild,N=1):N=v.nodeIndex(x),d=T,r=N),!F)){for(A=x.previousSibling,_=x.nextSibling,u.each(u.grep(x.childNodes),function(O){3==O.nodeType&&(O.nodeValue=O.nodeValue.replace(/\uFEFF/g,""))});x=v.get(k.id+"_"+w);)v.remove(x,1);A&&_&&A.nodeType==_.nodeType&&3==A.nodeType&&!m.opera&&(N=A.nodeValue.length,A.appendData(_.nodeValue),v.remove(_),"start"==w?(g=d=A,l=r=N):(d=A,r=N))}}function e(w){return v.isBlock(w)&&!w.innerHTML&&!m.ie&&(w.innerHTML='<br data-mce-bogus="1" />'),w}if(k)if(u.isArray(k.start)){if(y=v.createRng(),p=v.getRoot(),c.tridentSel)return c.tridentSel.moveToBookmark(k);o(!0)&&o()&&c.setRng(y)}else"string"==typeof k.start?c.setRng(function C(){var w,x;return w=v.createRng(),x=S.resolve(v.getRoot(),k.start),w.setStart(x.container(),x.offset()),x=S.resolve(v.getRoot(),k.end),w.setEnd(x.container(),x.offset()),w}()):k.id?(E("start"),E("end"),g&&((y=v.createRng()).setStart(e(g),l),y.setEnd(e(d),r),c.setRng(y))):k.name?c.select(v.select(k.name)[k.index]):k.rng&&c.setRng(k.rng)}}return i.isBookmarkNode=function(c){return c&&"SPAN"===c.tagName&&"bookmark"===c.getAttribute("data-mce-type")},i}),V("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(S){var b=function(t){for(var m=0,n=0,u=t;u&&u.nodeType;)m+=u.offsetLeft||0,n+=u.offsetTop||0,u=u.offsetParent;return{x:m,y:n}};return{scrollIntoView:function(t,m,n){var u,s,c,v,f=t.dom,i=f.getRoot(),k=0;if(!function(t,m,n){var u={elm:m,alignToTop:n};return t.fire("scrollIntoView",u),u.isDefaultPrevented()}(t,m,n)&&S.isElement(m)){if(!1===n&&(k=m.offsetHeight),"BODY"!==i.nodeName){var y=t.selection.getScrollContainer();if(y)return u=b(m).y-b(y).y+k,v=y.clientHeight,void((u<(c=y.scrollTop)||u+25>c+v)&&(y.scrollTop=u<c?u:u-v+25))}s=f.getViewPort(t.getWin()),u=f.getPos(m).y+k,c=s.y,v=s.h,(u<s.y||u+25>c+v)&&t.getWin().scrollTo(0,u<c?u:u-v+25)}}}}),V("tinymce.core.dom.TridentSelection",[],function(){return function S(b){var h=this,a=b.dom,t=!1;function m(u,s){var f,c,v,k,y,p,g,l,i=0,d=-1;if((f=u.duplicate()).collapse(s),(l=f.parentElement()).ownerDocument===b.dom.doc){for(;"false"===l.contentEditable;)l=l.parentNode;if(!l.hasChildNodes())return{node:l,inside:1};for(c=(k=l.children).length-1;i<=c;)if(g=Math.floor((i+c)/2),f.moveToElementText(y=k[g]),(d=f.compareEndPoints(s?"StartToStart":"EndToEnd",u))>0)c=g-1;else{if(!(d<0))return{node:y};i=g+1}if(d<0)for(y?f.collapse(!1):(f.moveToElementText(l),f.collapse(!0),y=l,v=!0),p=0;0!==f.compareEndPoints(s?"StartToStart":"StartToEnd",u)&&0!==f.move("character",1)&&l==f.parentElement();)p++;else for(f.collapse(!0),p=0;0!==f.compareEndPoints(s?"StartToStart":"StartToEnd",u)&&0!==f.move("character",-1)&&l==f.parentElement();)p++;return{node:y,position:d,offset:p,inside:v}}}this.getBookmark=function(u){var s=b.getRng(),f={};function i(v){var k,y,p,g,d=[];for(k=v.parentNode,y=a.getRoot().parentNode;k!=y&&9!==k.nodeType;){for(g=(p=k.children).length;g--;)if(v===p[g]){d.push(g);break}v=k,k=k.parentNode}return d}function c(v){var k;if(k=m(s,v))return{position:k.position,offset:k.offset,indexes:i(k.node),inside:k.inside}}return 2===u&&(s.item?f.start={ctrl:!0,indexes:i(s.item(0))}:(f.start=c(!0),b.isCollapsed()||(f.end=c()))),f},this.moveToBookmark=function(u){var s,f=a.doc.body;function i(v){var k,y,p,g;for(k=a.getRoot(),y=v.length-1;y>=0;y--)(p=v[y])<=(g=k.children).length-1&&(k=g[p]);return k}function c(v){var y,p,d,k=u[v?"start":"end"];k&&(y=k.position>0,(p=f.createTextRange()).moveToElementText(i(k.indexes)),void 0!==(d=k.offset)?(p.collapse(k.inside||y),p.moveStart("character",y?-d:d)):p.collapse(v),s.setEndPoint(v?"StartToStart":"EndToStart",p),v&&s.collapse(!0))}u.start&&(u.start.ctrl?((s=f.createControlRange()).addElement(i(u.start.indexes)),s.select()):(s=f.createTextRange(),c(!0),c(),s.select()))},this.addRange=function(u){var s,f,i,c,v,k,y,d,l,p=b.dom.doc,g=p.body;function r(o){var E,e,C,w,x;C=a.create("a"),E=o?i:v,e=o?c:k,w=s.duplicate(),(E==p||E==p.documentElement)&&(E=g,e=0),3==E.nodeType?(E.parentNode.insertBefore(C,E),w.moveToElementText(C),w.moveStart("character",e),a.remove(C),s.setEndPoint(o?"StartToStart":"EndToEnd",w)):((x=E.childNodes).length?(e>=x.length?a.insertAfter(C,x[x.length-1]):E.insertBefore(C,x[e]),w.moveToElementText(C)):E.canHaveHTML&&(E.innerHTML="<span>&#xFEFF;</span>",w.moveToElementText(C=E.firstChild),w.collapse(t)),s.setEndPoint(o?"StartToStart":"EndToEnd",w),a.remove(C))}if(i=u.startContainer,c=u.startOffset,v=u.endContainer,k=u.endOffset,s=g.createTextRange(),i==v&&1==i.nodeType){if(c==k&&!i.hasChildNodes()){if(i.canHaveHTML)return(y=i.previousSibling)&&!y.hasChildNodes()&&a.isBlock(y)?y.innerHTML="&#xFEFF;":y=null,i.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",s.moveToElementText(i.lastChild),s.select(),a.doc.selection.clear(),i.innerHTML="",void(y&&(y.innerHTML=""));c=a.nodeIndex(i),i=i.parentNode}if(c==k-1)try{if(l=i.childNodes[c],(f=g.createControlRange()).addElement(l),f.select(),(d=b.getRng()).item&&l===d.item(0))return}catch{}}r(!0),r(),s.select()},this.getRangeAt=function n(){var f,i,c,v,k,u=b.getRng(),s=a.createRng();if((f=u.item?u.item(0):u.parentElement()).ownerDocument!=a.doc)return s;if(i=b.isCollapsed(),u.item)return s.setStart(f.parentNode,a.nodeIndex(f)),s.setEnd(s.startContainer,s.startOffset+1),s;function y(p){var d,l,o,e,g=m(u,p),r=0;if(d=g.node,l=g.offset,!g.inside||d.hasChildNodes())if(void 0!==l){if(g.position<0){if(!(o=g.inside?d.firstChild:d.nextSibling))return void s[p?"setStartAfter":"setEndAfter"](d);if(!l)return void(3==o.nodeType?s[p?"setStart":"setEnd"](o,0):s[p?"setStartBefore":"setEndBefore"](o));for(;o;){if(3==o.nodeType&&(r+=(e=o.nodeValue).length)>=l){d=o,r=e.length-(r-=l);break}o=o.nextSibling}}else{if(!(o=d.previousSibling))return s[p?"setStartBefore":"setEndBefore"](d);if(!l)return void(3==d.nodeType?s[p?"setStart":"setEnd"](o,d.nodeValue.length):s[p?"setStartAfter":"setEndAfter"](o));for(;o;){if(3==o.nodeType&&(r+=o.nodeValue.length)>=l){d=o,r-=l;break}o=o.previousSibling}}s[p?"setStart":"setEnd"](d,r)}else s[p?"setStartBefore":"setEndAfter"](d);else s[p?"setStart":"setEnd"](d,0)}try{y(!0),i||y()}catch(p){if(-2147024809!=p.number)throw p;k=h.getBookmark(2),(c=u.duplicate()).collapse(!0),f=c.parentElement(),i||((c=u.duplicate()).collapse(!1),(v=c.parentElement()).innerHTML=v.innerHTML),f.innerHTML=f.innerHTML,h.moveToBookmark(k),u=b.getRng(),y(!0),i||y()}return s}}}),V("ephox.katamari.api.Type",["global!Array","global!String"],function(S,b){var a=function(t){return function(m){return function(t){if(null===t)return"null";var m=typeof t;return"object"===m&&S.prototype.isPrototypeOf(t)?"array":"object"===m&&b.prototype.isPrototypeOf(t)?"string":m}(m)===t}};return{isString:a("string"),isObject:a("object"),isArray:a("array"),isNull:a("null"),isBoolean:a("boolean"),isUndefined:a("undefined"),isFunction:a("function"),isNumber:a("number")}}),V("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(S,b,h,a){return function(){var t=arguments;return function(){for(var m=new h(arguments.length),n=0;n<m.length;n++)m[n]=arguments[n];if(t.length!==m.length)throw new a('Wrong number of arguments to struct. Expected "['+t.length+']", got '+m.length+" arguments");var u={};return S.each(t,function(s,f){u[s]=b.constant(m[f])}),u}}}),V("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(S,b){var c,h=void 0===(c=b.keys)?function(k){var y=[];for(var p in k)k.hasOwnProperty(p)&&y.push(p);return y}:c,a=function(c,v){for(var k=h(c),y=0,p=k.length;y<p;y++){var g=k[y];v(c[g],g,c)}},m=function(c,v){var k={};return a(c,function(y,p){var g=v(y,p,c);k[g.k]=g.v}),k},u=function(c,v){var k=[];return a(c,function(y,p){k.push(v(y,p))}),k},f=function(c){return u(c,function(v){return v})};return{bifilter:function(c,v){var k={},y={};return a(c,function(p,g){(v(p,g)?k:y)[g]=p}),{t:k,f:y}},each:a,map:function(c,v){return m(c,function(k,y,p){return{k:y,v:v(k,y,p)}})},mapToArray:u,tupleMap:m,find:function(c,v){for(var k=h(c),y=0,p=k.length;y<p;y++){var g=k[y],d=c[g];if(v(d,g,c))return S.some(d)}return S.none()},keys:h,values:f,size:function(c){return f(c).length}}}),V("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(S,b,h){var a=function(f){return f.slice(0).sort()};return{sort:a,reqMessage:function(f,i){throw new h("All required keys ("+a(f).join(", ")+") were not specified. Specified keys were: "+a(i).join(", ")+".")},unsuppMessage:function(f){throw new h("Unsupported keys for object: "+a(f).join(", "))},validateStrArr:function(f,i){if(!b.isArray(i))throw new h("The "+f+" fields must be an array. Was: "+i+".");S.each(i,function(c){if(!b.isString(c))throw new h("The value "+c+" in the "+f+" fields was not a string.")})},invalidTypeMessage:function(f,i){throw new h("All values need to be of type: "+i+". Keys ("+a(f).join(", ")+") were not.")},checkDupes:function(f){var i=a(f);S.find(i,function(v,k){return k<i.length-1&&v===i[k+1]}).each(function(v){throw new h("The field: "+v+" occurs more than once in the combined fields: ["+i.join(", ")+"].")})}}}),V("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(S,b,h,a,t,m,n){return function(u,s){var f=u.concat(s);if(0===f.length)throw new m("You must specify at least one required or optional field.");return t.validateStrArr("required",u),t.validateStrArr("optional",s),t.checkDupes(f),function(i){var c=h.keys(i);S.forall(u,function(p){return S.contains(c,p)})||t.reqMessage(u,c);var k=S.filter(c,function(p){return!S.contains(f,p)});k.length>0&&t.unsuppMessage(k);var y={};return S.each(u,function(p){y[p]=b.constant(i[p])}),S.each(s,function(p){y[p]=b.constant(n.prototype.hasOwnProperty.call(i,p)?a.some(i[p]):a.none())}),y}}}),V("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(S,b){return{immutable:S,immutableBag:b}}),V("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(b,h){var a=[],t=function(n){return a.push(n),h(n)},m=h(b);do{m=m.bind(t)}while(m.isSome());return a}}}),V("ephox.katamari.api.Global",[],function(){return typeof window<"u"?window:Function("return this;")()}),V("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(S){var b=function(n,u){for(var s=void 0!==u?u:S,f=0;f<n.length&&null!=s;++f)s=s[n[f]];return s},a=function(n,u){return null==n[u]&&(n[u]={}),n[u]},t=function(n,u){for(var s=void 0!==u?u:S,f=0;f<n.length;++f)s=a(s,n[f]);return s};return{path:b,resolve:function(n,u){var s=n.split(".");return b(s,u)},forge:t,namespace:function(n,u){var s=n.split(".");return t(s,u)}}}),V("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(S){return{getOrDie:function(a,t){var m=function(a,t){return S.resolve(a,t)}(a,t);if(void 0===m)throw a+" not available on this browser";return m}}}),V("ephox.sand.api.Node",["ephox.sand.util.Global"],function(S){var b=function(){return S.getOrDie("Node")},h=function(m,n,u){return 0!=(m.compareDocumentPosition(n)&u)};return{documentPositionPreceding:function(m,n){return h(m,n,b().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(m,n){return h(m,n,b().DOCUMENT_POSITION_CONTAINED_BY)}}}),V("ephox.katamari.api.Thunk",[],function(){return{cached:function(b){var a,h=!1;return function(){return h||(h=!0,a=b.apply(null,arguments)),a}}}}),Je("global!Number",Number),V("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(S,b,h){var n=function(){return u(0,0)},u=function(s,f){return{major:s,minor:f}};return{nu:u,detect:function(s,f){var i=h(f).toLowerCase();return 0===s.length?n():function(s,f){var i=function(s,f){for(var i=0;i<s.length;i++){var c=s[i];if(c.test(f))return c}}(s,f);if(!i)return{major:0,minor:0};var c=function(v){return b(f.replace(i,"$"+v))};return u(c(1),c(2))}(s,i)},unknown:n}}),V("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(S,b){var h="Edge",a="Chrome",m="Opera",n="Firefox",u="Safari",s=function(c,v){return function(){return v===c}},i=function(c){var v=c.current;return{current:v,version:c.version,isEdge:s(h,v),isChrome:s(a,v),isIE:s("IE",v),isOpera:s(m,v),isFirefox:s(n,v),isSafari:s(u,v)}};return{unknown:function(){return i({current:void 0,version:b.unknown()})},nu:i,edge:S.constant(h),chrome:S.constant(a),ie:S.constant("IE"),opera:S.constant(m),firefox:S.constant(n),safari:S.constant(u)}}),V("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(S,b){var h="Windows",t="Android",m="Linux",u="Solaris",s="FreeBSD",f=function(v,k){return function(){return k===v}},c=function(v){var k=v.current;return{current:k,version:v.version,isWindows:f(h,k),isiOS:f("iOS",k),isAndroid:f(t,k),isOSX:f("OSX",k),isLinux:f(m,k),isSolaris:f(u,k),isFreeBSD:f(s,k)}};return{unknown:function(){return c({current:void 0,version:b.unknown()})},nu:c,windows:S.constant(h),ios:S.constant("iOS"),android:S.constant(t),linux:S.constant(m),osx:S.constant("OSX"),solaris:S.constant(u),freebsd:S.constant(s)}}),V("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(S){return function(b,h,a){var t=b.isiOS()&&!0===/ipad/i.test(a),m=b.isiOS()&&!t,n=b.isAndroid()&&3===b.version.major,u=b.isAndroid()&&4===b.version.major,s=t||n||u&&!0===/mobile/i.test(a),f=b.isiOS()||b.isAndroid(),i=f&&!s,c=h.isSafari()&&b.isiOS()&&!1===/safari/i.test(a);return{isiPad:S.constant(t),isiPhone:S.constant(m),isTablet:S.constant(s),isPhone:S.constant(i),isTouch:S.constant(f),isAndroid:b.isAndroid,isiOS:b.isiOS,isWebView:S.constant(c)}}}),V("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(S,b,h){var a=function(n,u){var s=h(u).toLowerCase();return S.find(n,function(f){return f.search(s)})};return{detectBrowser:function(n,u){return a(n,u).map(function(s){var f=b.detect(s.versionRegexes,u);return{current:s.name,version:f}})},detectOs:function(n,u){return a(n,u).map(function(s){var f=b.detect(s.versionRegexes,u);return{current:s.name,version:f}})}}}),V("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(t,m){return m+t},addToEnd:function(t,m){return t+m},removeFromStart:function(t,m){return t.substring(m)},removeFromEnd:function(t,m){return t.substring(0,t.length-m)}}}),V("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(S,b){return{first:function(n,u){return n.substr(0,u)},last:function(n,u){return n.substr(n.length-u,n.length)},head:function(n){return""===n?S.none():S.some(n.substr(0,1))},tail:function(n){return""===n?S.none():S.some(n.substring(1))}}}),V("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(S,b,h){var a=function(g,d,l){return""===d||!(g.length<d.length)&&g.substr(l,l+d.length)===d},c=function(g,d){return a(g,d,0)},v=function(g,d){return a(g,d,g.length-d.length)};return{supplant:function(g,d){return g.replace(/\${([^{}]*)}/g,function(r,o){var E=d[o];return function(r){var o=typeof r;return"string"===o||"number"===o}(E)?E:r})},startsWith:c,removeLeading:function(g,d){return c(g,d)?S.removeFromStart(g,d.length):g},removeTrailing:function(g,d){return v(g,d)?S.removeFromEnd(g,d.length):g},ensureLeading:function(g,d){return c(g,d)?g:S.addToStart(g,d)},ensureTrailing:function(g,d){return v(g,d)?g:S.addToEnd(g,d)},endsWith:v,contains:function(g,d){return-1!==g.indexOf(d)},trim:function(g){return g.replace(/^\s+|\s+$/g,"")},lTrim:function(g){return g.replace(/^\s+/g,"")},rTrim:function(g){return g.replace(/\s+$/g,"")},capitalize:function(g){return b.head(g).bind(function(d){return b.tail(g).map(function(l){return d.toUpperCase()+l})}).getOr(g)}}}),V("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(S,b){var h=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,a=function(n){return function(u){return b.contains(u,n)}},t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return b.contains(n,"edge/")&&b.contains(n,"chrome")&&b.contains(n,"safari")&&b.contains(n,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,h],search:function(n){return b.contains(n,"chrome")&&!b.contains(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return b.contains(n,"msie")||b.contains(n,"trident")}},{name:"Opera",versionRegexes:[h,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:a("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:a("firefox")},{name:"Safari",versionRegexes:[h,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(b.contains(n,"safari")||b.contains(n,"mobile/"))&&b.contains(n,"applewebkit")}}],m=[{name:"Windows",search:a("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return b.contains(n,"iphone")||b.contains(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:a("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:a("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:a("linux"),versionRegexes:[]},{name:"Solaris",search:a("sunos"),versionRegexes:[]},{name:"FreeBSD",search:a("freebsd"),versionRegexes:[]}];return{browsers:S.constant(t),oses:S.constant(m)}}),V("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(S,b,h,a,t){return{detect:function(n){var u=t.browsers(),s=t.oses(),f=a.detectBrowser(u,n).fold(S.unknown,S.nu),i=a.detectOs(s,n).fold(b.unknown,b.nu);return{browser:f,os:i,deviceType:h(i,f,n)}}}}),Je("global!navigator",navigator),V("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(S,b,h){return{detect:S.cached(function(){return b.detect(h.userAgent)})}}),V("global!console",[],function(){return typeof console>"u"&&(console={log:function(){}}),console}),Je("global!document",document),V("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(S,b,h,a){var u=function(s){if(null==s)throw new b("Node cannot be null or undefined");return{dom:S.constant(s)}};return{fromHtml:function(s,f){var c=(f||a).createElement("div");if(c.innerHTML=s,!c.hasChildNodes()||c.childNodes.length>1)throw h.error("HTML does not have a single root node",s),"HTML must have a single root node";return u(c.childNodes[0])},fromTag:function(s,f){var c=(f||a).createElement(s);return u(c)},fromText:function(s,f){var c=(f||a).createTextNode(s);return u(c)},fromDom:u}}),V("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),V("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(S,b,h,a,t,m){var d,i=void 0!==(d=m.createElement("span")).matches?0:void 0!==d.msMatchesSelector?1:void 0!==d.webkitMatchesSelector?2:void 0!==d.mozMatchesSelector?3:-1,c=a.ELEMENT,v=a.DOCUMENT,y=function(d){return d.nodeType!==c&&d.nodeType!==v||0===d.childElementCount};return{all:function(d,l){var r=void 0===l?m:l.dom();return y(r)?[]:S.map(r.querySelectorAll(d),h.fromDom)},is:function(d,l){var r=d.dom();if(r.nodeType!==c)return!1;if(0===i)return r.matches(l);if(1===i)return r.msMatchesSelector(l);if(2===i)return r.webkitMatchesSelector(l);if(3===i)return r.mozMatchesSelector(l);throw new t("Browser lacks native selectors")},one:function(d,l){var r=void 0===l?m:l.dom();return y(r)?b.none():b.from(r.querySelector(d)).map(h.fromDom)}}}),V("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(S,b,h,a,t){var m=function(v,k){return v.dom()===k.dom()},c=a.detect().browser.isIE()?function(v,k){return h.documentPositionContainedBy(v.dom(),k.dom())}:function(v,k){var y=v.dom(),p=k.dom();return y!==p&&y.contains(p)};return{eq:m,isEqualNode:function(v,k){return v.dom().isEqualNode(k.dom())},member:function(v,k){return S.exists(k,b.curry(m,v))},contains:c,is:t.is}}),V("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(S,b,h,a,t,m,n,u){var s=function(T){return u.fromDom(T.dom().ownerDocument)},c=function(T){var N=T.dom();return a.from(N.parentNode).map(u.fromDom)},g=function(T){var N=T.dom();return a.from(N.previousSibling).map(u.fromDom)},d=function(T){var N=T.dom();return a.from(N.nextSibling).map(u.fromDom)},o=function(T){var N=T.dom();return b.map(N.childNodes,u.fromDom)},E=function(T,N){var _=T.dom().childNodes;return a.from(_[N]).map(u.fromDom)},w=t.immutable("element","offset");return{owner:s,defaultView:function(T){var N=T.dom();return u.fromDom(N.ownerDocument.defaultView)},documentElement:function(T){var N=s(T);return u.fromDom(N.dom().documentElement)},parent:c,findIndex:function(T){return c(T).bind(function(N){var _=o(N);return b.findIndex(_,function(A){return n.eq(T,A)})})},parents:function(T,N){for(var _=S.isFunction(N)?N:h.constant(!1),A=T.dom(),F=[];null!=A.parentNode;){var O=A.parentNode,R=u.fromDom(O);if(F.push(R),!0===_(R))break;A=O}return F},siblings:function(T){return c(T).map(o).map(function(_){return b.filter(_,function(A){return!n.eq(T,A)})}).getOr([])},prevSibling:g,offsetParent:function(T){var N=T.dom();return a.from(N.offsetParent).map(u.fromDom)},prevSiblings:function(T){return b.reverse(m.toArray(T,g))},nextSibling:d,nextSiblings:function(T){return m.toArray(T,d)},children:o,child:E,firstChild:function(T){return E(T,0)},lastChild:function(T){return E(T,T.dom().childNodes.length-1)},leaf:function(T,N){var _=o(T);return _.length>0&&N<_.length?w(_[N],0):w(T,N)}}}),V("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(S){var b=function(u,s){S.parent(u).each(function(i){i.dom().insertBefore(s.dom(),u.dom())})},t=function(u,s){u.dom().appendChild(s.dom())};return{before:b,after:function(u,s){S.nextSibling(u).fold(function(){S.parent(u).each(function(c){t(c,s)})},function(i){b(i,s)})},prepend:function(u,s){S.firstChild(u).fold(function(){t(u,s)},function(i){u.dom().insertBefore(s.dom(),i.dom())})},append:t,appendAt:function(u,s,f){S.child(u,f).fold(function(){t(u,s)},function(i){b(i,s)})},wrap:function(u,s){b(u,s),t(s,u)}}}),V("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(S){var b=function(f){return f.dom().nodeName.toLowerCase()},h=function(f){return f.dom().nodeType},t=function(f){return function(i){return h(i)===f}},n=t(S.ELEMENT),u=t(S.TEXT),s=t(S.DOCUMENT);return{name:b,type:h,value:function(f){return f.dom().nodeValue},isElement:n,isText:u,isDocument:s,isComment:function(f){return h(f)===S.COMMENT||"#comment"===b(f)}}}),V("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(S,b,h,a,t,m){var n=function(g,d,l){if(!(S.isString(l)||S.isBoolean(l)||S.isNumber(l)))throw m.error("Invalid call to Attr.set. Key ",d,":: Value ",l,":: Element ",g),new t("Attribute value was not simple");g.setAttribute(d,l+"")},u=function(g,d,l){n(g.dom(),d,l)},f=function(g,d){var l=g.dom().getAttribute(d);return null===l?void 0:l},i=function(g,d){var l=g.dom();return!(!l||!l.hasAttribute)&&l.hasAttribute(d)};return{clone:function(g){return b.foldl(g.dom().attributes,function(d,l){return d[l.name]=l.value,d},{})},set:u,setAll:function(g,d){var l=g.dom();h.each(d,function(r,o){n(l,o,r)})},get:f,has:i,remove:function(g,d){g.dom().removeAttribute(d)},hasNone:function(g){var d=g.dom().attributes;return null==d||0===d.length},transfer:function(g,d,l){!a.isElement(g)||!a.isElement(d)||b.each(l,function(r){!function(g,d,l){i(g,l)&&!i(d,l)&&u(d,l,f(g,l))}(g,d,r)})}}}),V("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(S,b){return{before:function(n,u){S.each(u,function(s){b.before(n,s)})},after:function(n,u){S.each(u,function(s,f){b.after(0===f?n:u[f-1],s)})},prepend:function(n,u){S.each(u.slice().reverse(),function(s){b.prepend(n,s)})},append:function(n,u){S.each(u,function(s){b.append(n,s)})}}}),V("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(S,b,h){var t=function(n){var u=n.dom();null!==u.parentNode&&u.parentNode.removeChild(u)};return{empty:function(n){n.dom().textContent="",S.each(h.children(n),function(u){t(u)})},remove:t,unwrap:function(n){var u=h.children(n);u.length>0&&b.before(n,u),t(n)}}}),V("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(S,b,h,a,t,m){var n=function(v,k){return b.fromDom(v.dom().cloneNode(k))},s=function(v){return n(v,!0)},f=function(v,k){var y=b.fromTag(k),p=S.clone(v);return S.setAll(y,p),y};return{shallow:function(v){return n(v,!1)},shallowAs:f,deep:s,copy:function(v,k){var y=f(v,k),p=m.children(s(v));return a.append(y,p),y},mutate:function(v,k){var y=f(v,k);h.before(v,y);var p=m.children(v);return a.append(y,p),t.remove(v),y}}}),V("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(S,b,h){return{fromElements:function(t,m){var u=(m||h).createDocumentFragment();return S.each(t,function(s){u.appendChild(s.dom())}),b.fromDom(u)}}}),V("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(S,b,h){var s=function(v){var k;return function(y){return(k=k||S.mapToObject(v,b.constant(!0))).hasOwnProperty(h.name(y))}},f=s(["h1","h2","h3","h4","h5","h6"]),i=s(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:i,isInline:function(v){return h.isElement(v)&&!i(v)},isHeading:f,isTextBlock:s(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isVoid:s(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableCell:s(["td","th"])}}),V("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(S,b,h){var t=function(u,s,f){return b.contains(s,u)?function(u){return u.slice(0,-1)}(h.parents(u,function(i){return f(i)||b.eq(i,s)})):[]},m=function(u,s){return t(u,s,S.constant(!1))};return{parentsUntil:t,parents:m,parentsAndSelf:function(u,s){return[u].concat(m(u,s))}}}),V("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(S){return{cat:function(t){for(var m=[],n=function(s){m.push(s)},u=0;u<t.length;u++)t[u].each(n);return m},findMap:function(t,m){for(var n=0;n<t.length;n++){var u=m(t[n],n);if(u.isSome())return u}return S.none()},liftN:function(t,m){for(var n=[],u=0;u<t.length;u++){var s=t[u];if(!s.isSome())return S.none();n.push(s.getOrDie())}return S.some(m.apply(null,n))}}}),V("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n,u,s){var f=function(y){var p=y.startContainer,g=y.startOffset;return s.isText(p)?0===g?h.some(m.fromDom(p)):h.none():h.from(p.childNodes[g]).map(m.fromDom)},i=function(y){var p=y.endContainer,g=y.endOffset;return s.isText(p)?g===p.data.length?h.some(m.fromDom(p)):h.none():h.from(p.childNodes[g-1]).map(m.fromDom)},c=function(y){return u.firstChild(y).fold(b.constant([y]),function(p){return[y].concat(c(p))})},v=function(y){return u.lastChild(y).fold(b.constant([y]),function(p){return"br"===n.name(p)?u.prevSibling(p).map(function(g){return[y].concat(v(g))}).getOr([]):[y].concat(v(p))})};return{hasAllContentsSelected:function(y,p){return a.liftN([f(p),i(p)],function(g,d){var l=S.find(c(y),b.curry(t.eq,g)),r=S.find(v(y),b.curry(t.eq,d));return l.isSome()&&r.isSome()}).getOr(!1)}}}),V("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils"],function(S,b,h,a,t,m,n,u,s,f){var y=function(g,d){return function(g,d){var l=S.foldl(d,function(r,o){return h.append(o,r),o},g);return d.length>0?m.fromElements([l]):l}(t.fromDom(d.cloneContents()),function(g,d){var l=s.parentsAndSelf(t.fromDom(d.commonAncestorContainer),t.fromDom(g)),r=S.filter(l,function(E){return u.isInline(E)||u.isHeading(E)}),o=function(g,d){return S.find(g,function(l){return"li"===n.name(l)&&f.hasAllContentsSelected(l,d)}).fold(b.constant([]),function(l){return function(g){return S.find(g,function(d){return"ul"===n.name(d)||"ol"===n.name(d)})}(g).map(function(r){return[t.fromTag("li"),t.fromTag(n.name(r))]}).getOr([])})}(l,d);return S.map(r.concat(o),a.shallow)}(g,d))};return{read:function(g,d){return d.collapsed?m.fromElements([]):y(g,d)}}}),V("tinymce.core.dom.Selection",["tinymce.core.caret.CaretPosition","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.dom.TridentSelection","tinymce.core.Env","tinymce.core.selection.FragmentReader","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n,u,s,f,i,c){var v=c.each,k=c.trim,y=s.ie;function g(d,l,r,o){var E=this;E.dom=d,E.win=l,E.serializer=r,E.editor=o,E.bookmarkManager=new b(E),E.controlSelection=new h(E,o),E.win.getSelection||(E.tridentSel=new u(E))}return g.prototype={setCursorLocation:function(d,l){var r=this,o=r.dom.createRng();d?(o.setStart(d,l),o.setEnd(d,l),r.setRng(o),r.collapse(!1)):(r._moveEndPoint(o,r.editor.getBody(),!0),r.setRng(o))},getContent:function(d){var e,C,w,l=this,r=l.getRng(),o=l.dom.create("body"),E=l.getSel();return e=C="",(d=d||{}).get=!0,d.format=d.format||"html",d.selection=!0,l.editor.fire("BeforeGetContent",d),"text"===d.format?l.isCollapsed()?"":i.trim(r.text||(E.toString?E.toString():"")):(r.cloneContents?(w=d.contextual?f.read(l.editor.getBody(),r).dom():r.cloneContents())&&o.appendChild(w):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),/^\s/.test(o.innerHTML)&&(e=" "),/\s+$/.test(o.innerHTML)&&(C=" "),d.getInner=!0,d.content=l.isCollapsed()?"":e+l.serializer.serialize(o,d)+C,l.editor.fire("GetContent",d),d.content)},setContent:function(d,l){var E,C,w,r=this,o=r.getRng(),e=r.win.document;if((l=l||{format:"html"}).set=!0,l.selection=!0,l.content=d,l.no_events||r.editor.fire("BeforeSetContent",l),d=l.content,o.insertNode){d+='<span id="__caret">_</span>',o.startContainer==e&&o.endContainer==e?e.body.innerHTML=d:(o.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=d:o.createContextualFragment?o.insertNode(o.createContextualFragment(d)):(C=e.createDocumentFragment(),w=e.createElement("div"),C.appendChild(w),w.outerHTML=d,o.insertNode(C))),E=r.dom.get("__caret"),(o=e.createRange()).setStartBefore(E),o.setEndBefore(E),r.setRng(o),r.dom.remove("__caret");try{r.setRng(o)}catch{}}else o.item&&(e.execCommand("Delete",!1,null),o=r.getRng()),/^\s+/.test(d)?(o.pasteHTML('<span id="__mce_tmp">_</span>'+d),r.dom.remove("__mce_tmp")):o.pasteHTML(d);l.no_events||r.editor.fire("SetContent",l)},getStart:function(d){var o,E,e,C,l=this,r=l.getRng();if(r.duplicate||r.item){if(r.item)return r.item(0);for((e=r.duplicate()).collapse(1),(o=e.parentElement()).ownerDocument!==l.dom.doc&&(o=l.dom.getRoot()),E=C=r.parentElement();C=C.parentNode;)if(C==o){o=E;break}return o}return 1==(o=r.startContainer).nodeType&&o.hasChildNodes()&&(!d||!r.collapsed)&&(o=o.childNodes[Math.min(o.childNodes.length-1,r.startOffset)]),o&&3==o.nodeType?o.parentNode:o},getEnd:function(d){var o,E,l=this,r=l.getRng();return r.duplicate||r.item?r.item?r.item(0):((r=r.duplicate()).collapse(0),(o=r.parentElement()).ownerDocument!==l.dom.doc&&(o=l.dom.getRoot()),o&&"BODY"==o.nodeName&&o.lastChild||o):(E=r.endOffset,1==(o=r.endContainer).nodeType&&o.hasChildNodes()&&(!d||!r.collapsed)&&(o=o.childNodes[E>0?E-1:E]),o&&3==o.nodeType?o.parentNode:o)},getBookmark:function(d,l){return this.bookmarkManager.getBookmark(d,l)},moveToBookmark:function(d){return this.bookmarkManager.moveToBookmark(d)},select:function(d,l){var e,r=this,o=r.dom,E=o.createRng();if(r.lastFocusBookmark=null,d){if(!l&&r.controlSelection.controlSelect(d))return;e=o.nodeIndex(d),E.setStart(d.parentNode,e),E.setEnd(d.parentNode,e+1),l&&(r._moveEndPoint(E,d,!0),r._moveEndPoint(E,d)),r.setRng(E)}return d},isCollapsed:function(){var l=this.getRng(),r=this.getSel();return!(!l||l.item)&&(l.compareEndPoints?0===l.compareEndPoints("StartToEnd",l):!r||l.collapsed)},collapse:function(d){var o,l=this,r=l.getRng();r.item&&(o=r.item(0),(r=l.win.document.body.createTextRange()).moveToElementText(o)),r.collapse(!!d),l.setRng(r)},getSel:function(){var d=this.win;return d.getSelection?d.getSelection():d.document.selection},getRng:function(d){var r,o,E,e,C,w,l=this;function x(N,_,A){try{return _.compareBoundaryPoints(N,A)}catch{return-1}}if(!l.win||typeof(e=l.win.document)>"u"||null===e)return null;if(!d&&l.lastFocusBookmark){var T=l.lastFocusBookmark;return T.startContainer?((o=e.createRange()).setStart(T.startContainer,T.startOffset),o.setEnd(T.endContainer,T.endOffset)):o=T,o}if(d&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(r=l.getSel())&&(o=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():e.createRange())}catch{}if((w=l.editor.fire("GetSelectionRange",{range:o})).range!==o)return w.range;if(y&&o&&o.setStart&&e.selection){try{C=e.selection.createRange()}catch{}C&&C.item&&(E=C.item(0),(o=e.createRange()).setStartBefore(E),o.setEndAfter(E))}return o||(o=e.createRange?e.createRange():e.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(E=l.dom.getRoot(),o.setStart(E,0),o.setEnd(E,0)),l.selectedRange&&l.explicitRange&&(0===x(o.START_TO_START,o,l.selectedRange)&&0===x(o.END_TO_END,o,l.selectedRange)?o=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),o},setRng:function(d,l){var o,E,r=this;if(function(d){if(d){if(d.select)return!0;var l=d.startContainer,r=d.endContainer;return!!(l&&l.parentNode&&r&&r.parentNode)}return!1}(d)){if(d.select){r.explicitRange=null;try{d.select()}catch{}return}if(r.tridentSel){if(d.cloneRange)try{r.tridentSel.addRange(d)}catch{}}else{if(o=r.getSel(),d=r.editor.fire("SetSelectionRange",{range:d,forward:l}).range,o){r.explicitRange=d;try{o.removeAllRanges(),o.addRange(d)}catch{}!1===l&&o.extend&&(o.collapse(d.endContainer,d.endOffset),o.extend(d.startContainer,d.startOffset)),r.selectedRange=o.rangeCount>0?o.getRangeAt(0):null}!d.collapsed&&d.startContainer===d.endContainer&&o.setBaseAndExtent&&!s.ie&&d.endOffset-d.startOffset<2&&d.startContainer.hasChildNodes()&&(E=d.startContainer.childNodes[d.startOffset])&&"IMG"===E.tagName&&(o.setBaseAndExtent(d.startContainer,d.startOffset,d.endContainer,d.endOffset),(o.anchorNode!==d.startContainer||o.focusNode!==d.endContainer)&&o.setBaseAndExtent(E,0,E,1)),r.editor.fire("AfterSetSelectionRange",{range:d,forward:l})}}},setNode:function(d){return this.setContent(this.dom.getOuterHTML(d)),d},getNode:function(){var r,o,E,e,C,d=this,l=d.getRng(),w=d.dom.getRoot();function x(T,N){for(var _=T;T&&3===T.nodeType&&0===T.length;)T=N?T.nextSibling:T.previousSibling;return T||_}return l?(o=l.startContainer,E=l.endContainer,e=l.startOffset,C=l.endOffset,l.setStart?(r=l.commonAncestorContainer,!l.collapsed&&(o==E&&C-e<2&&o.hasChildNodes()&&(r=o.childNodes[e]),3===o.nodeType&&3===E.nodeType&&(o=o.length===e?x(o.nextSibling,!0):o.parentNode,E=0===C?x(E.previousSibling,!1):E.parentNode,o&&o===E))?o:r&&3==r.nodeType?r.parentNode:r):((r=l.item?l.item(0):l.parentElement()).ownerDocument!==d.win.document&&(r=w),r)):w},getSelectedBlocks:function(d,l){var E,e,r=this,o=r.dom,C=[];if(e=o.getRoot(),d=o.getParent(d||r.getStart(),o.isBlock),l=o.getParent(l||r.getEnd(),o.isBlock),d&&d!=e&&C.push(d),d&&l&&d!=l){E=d;for(var w=new n(d,e);(E=w.next())&&E!=l;)o.isBlock(E)&&C.push(E)}return l&&d!=l&&l!=e&&C.push(l),C},isForward:function(){var r,o,d=this.dom,l=this.getSel();return!(l&&l.anchorNode&&l.focusNode)||((r=d.createRng()).setStart(l.anchorNode,l.anchorOffset),r.collapse(!0),(o=d.createRng()).setStart(l.focusNode,l.focusOffset),o.collapse(!0),r.compareBoundaryPoints(r.START_TO_START,o)<=0)},normalize:function(){var d=this,l=d.getRng();return s.range&&new t(d.dom).normalize(l)&&d.setRng(l,d.isForward()),l},selectorChanged:function(d,l){var o,r=this;return r.selectorChangedData||(r.selectorChangedData={},o={},r.editor.on("NodeChange",function(E){var e=E.element,C=r.dom,w=C.getParents(e,null,C.getRoot()),x={};v(r.selectorChangedData,function(T,N){v(w,function(_){if(C.is(_,N))return o[N]||(v(T,function(A){A(!0,{node:_,selector:N,parents:w})}),o[N]=T),x[N]=T,!1})}),v(o,function(T,N){x[N]||(delete o[N],v(T,function(_){_(!1,{node:e,selector:N,parents:w})}))})})),r.selectorChangedData[d]||(r.selectorChangedData[d]=[]),r.selectorChangedData[d].push(l),r},getScrollContainer:function(){for(var d,l=this.dom.getRoot();l&&"BODY"!=l.nodeName;){if(l.scrollHeight>l.clientHeight){d=l;break}l=l.parentNode}return d},scrollIntoView:function(d,l){m.scrollIntoView(this.editor,d,l)},placeCaretAt:function(d,l){this.setRng(t.getCaretRangeFromPoint(d,l,this.editor.getDoc()))},_moveEndPoint:function(d,l,r){var o=l,E=new n(l,o),e=this.dom.schema.getNonEmptyElements();do{if(3==l.nodeType&&0!==k(l.nodeValue).length)return void(r?d.setStart(l,0):d.setEnd(l,l.nodeValue.length));if(e[l.nodeName]&&!/^(TD|TH)$/.test(l.nodeName))return void(r?d.setStartBefore(l):"BR"==l.nodeName?d.setEndBefore(l):d.setEndAfter(l));if(s.ie&&s.ie<11&&this.dom.isBlock(l)&&this.dom.isEmpty(l))return void(r?d.setStart(l,0):d.setEnd(l,0))}while(l=r?E.next():E.prev());"BODY"==o.nodeName&&(r?d.setStart(o,0):d.setEnd(o,o.childNodes.length))},getBoundingClientRect:function(){var d=this.getRng();return d.collapsed?S.fromRangeStart(d).getClientRects()[0]:d.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},g}),V("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],function(S,b){var h=b.each;return function a(t){this.compare=function(m,n){if(m.nodeName!=n.nodeName)return!1;function u(f){var i={};return h(t.getAttribs(f),function(c){var v=c.nodeName.toLowerCase();0!==v.indexOf("_")&&"style"!==v&&0!==v.indexOf("data-")&&(i[v]=t.getAttrib(f,v))}),i}function s(f,i){var c,v;for(v in f)if(f.hasOwnProperty(v)){if(typeof(c=i[v])>"u"||f[v]!=c)return!1;delete i[v]}for(v in i)if(i.hasOwnProperty(v))return!1;return!0}return!(!s(u(m),u(n))||!s(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(n,"style")))||S.isBookmarkNode(m)||S.isBookmarkNode(n))}}}),V("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(S,b,h){var a=b.each,t=S.DOM;function m(i,c){var v,k,y,p=c&&c.schema||new h({});function d(o){var E;return function g(o,E){E.classes.length&&t.addClass(o,E.classes.join(" ")),t.setAttribs(o,E.attrs)}(E=t.create((k="string"==typeof o?{name:o,classes:[],attrs:{}}:o).name),k),E}return i&&i.length?(v=d(k=i[0]),(y=t.create("div")).appendChild(function r(o,E,e){var C,w,x,T=E.length>0&&E[0],N=T&&T.name;if(x=function l(o,E){var e="string"!=typeof o?o.nodeName.toLowerCase():o,C=p.getElementRule(e),w=C&&C.parentsRequired;return!(!w||!w.length)&&(E&&-1!==b.inArray(w,E)?E:w[0])}(o,N))N==x?(w=E[0],E=E.slice(1)):w=x;else if(T)w=E[0],E=E.slice(1);else if(!e)return o;return w&&(C=d(w)).appendChild(o),e&&(C||(C=t.create("div")).appendChild(o),b.each(e,function(_){var A=d(_);C.insertBefore(A,o)})),r(C,E,w&&w.siblings)}(v,i.slice(1),k.siblings)),y):""}function u(i){var c,v={classes:[],attrs:{}};return"*"!==(i=v.selector=b.trim(i))&&(c=i.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(k,y,p,g,d){switch(y){case"#":v.attrs.id=p;break;case".":v.classes.push(p);break;case":":-1!==b.inArray("checked disabled enabled read-only required".split(" "),p)&&(v.attrs[p]=p)}if("["==g){var l=d.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(v.attrs[l[1]]=l[2])}return""})),v.name=c||"div",v}function s(i){return i&&"string"==typeof i?(i=(i=i.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),b.map(i.split(/(?:>|\s+(?![^\[\]]+\]))/),function(c){var v=b.map(c.split(/(?:~\+|~|\+)/),u),k=v.pop();return v.length&&(k.siblings=v),k}).reverse()):[]}return{getCssText:function f(i,c){var v,k,y,p,d,l,g="";if(!1===(l=i.settings.preview_styles))return"";function r(o){return o.replace(/%(\w+)/g,"")}if("string"!=typeof l&&(l="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof c){if(!(c=i.formatter.get(c)))return;c=c[0]}return"preview"in c&&!1===(l=c.preview)?"":(v=c.block||c.inline||"span",(p=s(c.selector)).length?(p[0].name||(p[0].name=v),v=c.selector,k=m(p,i)):k=m([v],i),y=t.select(v,k)[0]||k.firstChild,a(c.styles,function(o,E){(o=r(o))&&t.setStyle(y,E,o)}),a(c.attributes,function(o,E){(o=r(o))&&t.setAttrib(y,E,o)}),a(c.classes,function(o){o=r(o),t.hasClass(y,o)||t.addClass(y,o)}),i.fire("PreviewFormats"),t.setStyles(k,{position:"absolute",left:-65535}),i.getBody().appendChild(k),d=t.getStyle(i.getBody(),"fontSize",!0),d=/px$/.test(d)?parseInt(d,10):0,a(l.split(" "),function(o){var E=t.getStyle(y,o,!0);if(!("background-color"==o&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(E)&&(E=t.getStyle(i.getBody(),o,!0),"#ffffff"==t.toHex(E).toLowerCase())||"color"==o&&"#000000"==t.toHex(E).toLowerCase())){if("font-size"==o&&/em|%$/.test(E)){if(0===d)return;E=(E=parseFloat(E,10)/(/%$/.test(E)?100:1))*d+"px"}"border"==o&&E&&(g+="padding:0 2px;"),g+=o+":"+E+";"}}),i.fire("AfterPreviewFormats"),t.remove(k),g)},parseSelector:s,selectorToHtml:function n(i,c){return m(s(i),c)}}}),V("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(S,b,h){var a={},t=S.filter,m=S.each;return function n(s,f){var i=a[s];i||(a[s]=i=[]),a[s].push(f)}("pre",function(s){var i,c,f=s.selection.getRng();i=b.matchNodeNames("pre"),f.collapsed||(c=s.selection.getSelectedBlocks(),m(t(t(c,i),function v(y){return i(y.previousSibling)&&-1!=S.indexOf(c,y.previousSibling)}),function(y){!function k(y,p){h(p).remove(),h(y).append("<br><br>").append(p.childNodes)}(y.previousSibling,y)}))}),{postProcess:function u(s,f){m(a[s],function(i){i(f)})}}}),V("tinymce.core.Formatter",["tinymce.core.dom.TreeWalker","tinymce.core.dom.RangeUtils","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.fmt.Preview","tinymce.core.fmt.Hooks"],function(S,b,h,a,t,m,n,u,s){return function(f){var e,C,x,T,i={},c=f.dom,v=f.selection,k=new b(c),y=f.schema.isValidChild,p=c.isBlock,g=f.settings.forced_root_block,d=c.nodeIndex,l="\ufeff",r=/^(src|href|style)$/,o=!1,E=!0,w=c.getContentEditable,N=h.isBookmarkNode,_=n.each,A=n.grep,F=n.walk;function R(D){return D.nodeType&&(D=D.nodeName),!!f.schema.getTextBlockElements()[D.toLowerCase()]}function M(D){return/^(TH|TD)$/.test(D.nodeName)}function P(D,H){return c.getParents(D,H,c.getRoot())}function B(D){return 1===D.nodeType&&"_mce_caret"===D.id}var z=function(D,H){D.clear_child_styles&&_(c.select("*",H),function(W){_(D.styles,function(j,X){c.setStyle(W,X,"")})})};function ee(D){return D?i[D]:i}function ue(D,H){D&&("string"!=typeof D?_(D,function(W,j){ue(j,W)}):(_(H=H.length?H:[H],function(W){W.deep===C&&(W.deep=!W.selector),W.split===C&&(W.split=!W.selector||W.inline),W.remove===C&&W.selector&&!W.inline&&(W.remove="none"),W.selector&&W.inline&&(W.mixed=!0,W.block_expand=!0),"string"==typeof W.classes&&(W.classes=W.classes.split(/\s+/))}),i[D]=H))}function ne(D,H){var W=ee(H);if(W)for(var j=0;j<W.length;j++)if(!1===W[j].inherit&&c.is(D,W[j].selector))return!0;return!1}function he(D){var H;return f.dom.getParent(D,function(W){return(H=f.dom.getStyle(W,"text-decoration"))&&"none"!==H}),H}function Ee(D){var H;1===D.nodeType&&D.parentNode&&1===D.parentNode.nodeType&&(H=he(D.parentNode),f.dom.getStyle(D,"color")&&H?f.dom.setStyle(D,"text-decoration",H):f.dom.getStyle(D,"text-decoration")===H&&f.dom.setStyle(D,"text-decoration",null))}function me(D,H,W){var Q,J,j=ee(D),X=j[0],ce=!W&&v.isCollapsed();function te(Ne,xe){if(xe=xe||X,Ne){if(xe.onformat&&xe.onformat(Ne,xe,H,W),_(xe.styles,function(le,ge){c.setStyle(Ne,ge,Te(le,H))}),xe.styles){var pe=c.getAttrib(Ne,"style");pe&&Ne.setAttribute("data-mce-style",pe)}_(xe.attributes,function(le,ge){c.setAttrib(Ne,ge,Te(le,H))}),_(xe.classes,function(le){le=Te(le,H),c.hasClass(Ne,le)||c.addClass(Ne,le)})}}function Se(Ne,xe){var pe=!1;return!!X.selector&&(_(Ne,function(le){if((!("collapsed"in le)||le.collapsed===ce)&&c.is(xe,le.selector)&&!B(xe))return te(xe,le),pe=!0,!1}),pe)}function Re(Ne,xe,pe){var ge,Pe,le=[],Ie=!0;te(Pe=c.create(ge=X.inline||X.block)),k.walk(Ne,function(Be){var He;_(Be,function Ge(ze){var Ze,Qe,et,We;if(We=Ie,Ze=ze.nodeName.toLowerCase(),Qe=ze.parentNode.nodeName.toLowerCase(),1===ze.nodeType&&w(ze)&&(We=Ie,Ie="true"===w(ze),et=!0),se(Ze,"br"))return He=0,void(X.block&&c.remove(ze));if(X.wrapper&&Z(ze,D,H))He=0;else{if(Ie&&!et&&X.block&&!X.wrapper&&R(Ze)&&y(Qe,ge))return te(ze=c.rename(ze,ge)),le.push(ze),void(He=0);if(X.selector){var $e=Se(j,ze);if(!X.inline||$e)return void(He=0)}!Ie||et||!y(ge,Ze)||!y(Qe,ge)||!pe&&3===ze.nodeType&&1===ze.nodeValue.length&&65279===ze.nodeValue.charCodeAt(0)||B(ze)||X.inline&&p(ze)?(He=0,_(A(ze.childNodes),Ge),et&&(Ie=We),He=0):(He||(He=c.clone(Pe,o),ze.parentNode.insertBefore(He,ze),le.push(He)),He.appendChild(ze))}})}),!0===X.links&&_(le,function(Be){!function He(Ge){"A"===Ge.nodeName&&te(Ge,X),_(A(Ge.childNodes),He)}(Be)}),_(le,function(Be){var He;function Ge(We){var $e=0;return _(We.childNodes,function(tt){!re(tt)&&!N(tt)&&$e++}),$e}function ze(We){var $e=!1;return _(We.childNodes,function(tt){if(we(tt))return $e=tt,!1}),$e}if(He=Ge(Be),!(le.length>1)&&p(Be)||0!==He){if(X.inline||X.wrapper){if(!X.exact&&1===He&&(Be=function Qe(We){var $e,tt;return($e=ze(We))&&!N($e)&&K($e,X)&&(te(tt=c.clone($e,o)),c.replace(tt,We,E),c.remove($e,1)),tt||We}(Be)),_(j,function(We){_(c.select(We.inline,Be),function($e){we($e)&&Me(We,H,$e,We.exact?$e:null)}),z(We,Be)}),Z(Be.parentNode,D,H)&&Me(X,H,Be)&&(Be=0),X.merge_with_parents&&c.getParent(Be.parentNode,function(We){if(Z(We,D,H))return Me(X,H,Be)&&(Be=0),E}),Be&&!p(Be)&&!Ue(Be,"fontSize")){var et=function Ze(We,$e){do{if(1!==Ge(We))break;if(!(We=ze(We)))break;if($e(We))return We}while(We);return null}(Be,De("fontSize"));et&&me("fontsize",{value:Ue(et,"fontSize")},Be)}Be&&!1!==X.merge_siblings&&(Be=Ke(Ye(Be),Be),Be=Ke(Be,Ye(Be,E)))}}else c.remove(Be,1)})}if("false"!==w(v.getNode())){if(X){if(W)W.nodeType?Se(j,W)||((J=c.createRng()).setStartBefore(W),J.setEndAfter(W),Re(Ce(J,j),0,!0)):Re(W,0,!0);else if(ce&&X.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)Xe("apply",D,H);else{var de=f.selection.getNode();!g&&j[0].defaultBlock&&!c.getParent(de,c.isBlock)&&me(j[0].defaultBlock),f.selection.setRng(function _e(){var xe=f.selection.getRng(),pe=xe.startContainer,le=xe.endContainer;if(pe!=le&&0===xe.endOffset){var ge=function Ne(Ie,Be){var He=new S(Be);for(W=He.prev2();W;W=He.prev2())if(3==W.nodeType&&W.data.length>0||W.childNodes.length>1||W==Ie||"BR"==W.tagName)return W}(pe,le);xe.setEnd(ge,3==ge.nodeType?ge.data.length:ge.childNodes.length)}return xe}()),Q=v.getBookmark(),Re(Ce(v.getRng(E),j)),X.styles&&((X.styles.color||X.styles.textDecoration)&&(F(de,Ee,"childNodes"),Ee(de)),X.styles.backgroundColor&&be(de,De("fontSize"),function ve(D,H){return m.curry(function(W,j,X){c.setStyle(X,W,j)},D,H)}("backgroundColor",Te(X.styles.backgroundColor,H)))),v.moveToBookmark(Q),it(v.getRng(E)),f.nodeChanged()}s.postProcess(D,f)}}else{W=v.getNode();for(var Fe=0,Oe=j.length;Fe<Oe;Fe++)if(j[Fe].ceFalseOverride&&c.is(W,j[Fe].selector))return void te(W,j[Fe])}}function $(D,H,W,j){var J,ce,X=ee(D),Q=X[0],te=!0;function Se(pe){var le,ge,Pe,Ie,Be;if(1===pe.nodeType&&w(pe)&&(Ie=te,te="true"===w(pe),Be=!0),le=A(pe.childNodes),te&&!Be)for(ge=0,Pe=X.length;ge<Pe&&!Me(X[ge],H,pe,pe);ge++);if(Q.deep&&le.length){for(ge=0,Pe=le.length;ge<Pe;ge++)Se(le[ge]);Be&&(te=Ie)}}function Fe(pe){return function Re(pe,le,ge,Pe){var Ie,Be,He,Ge,ze,Ze;if(pe){for(Ze=pe.parentNode,Ie=le.parentNode;Ie&&Ie!=Ze;Ie=Ie.parentNode){for(Be=c.clone(Ie,o),ze=0;ze<X.length;ze++)if(Me(X[ze],H,Be,Be)){Be=0;break}Be&&(He&&Be.appendChild(He),Ge||(Ge=Be),He=Be)}Pe&&(!Q.mixed||!p(pe))&&(le=c.split(pe,le)),He&&(ge.parentNode.insertBefore(He,ge),Ge.appendChild(ge))}return le}(function _e(pe){var le;return _(P(pe.parentNode).reverse(),function(ge){var Pe;!le&&"_start"!=ge.id&&"_end"!=ge.id&&(Pe=Z(ge,D,H,j))&&!1!==Pe.split&&(le=ge)}),le}(pe),pe,pe,!0)}function Oe(pe){var le=c.get(pe?"_start":"_end"),ge=le[pe?"firstChild":"lastChild"];return N(ge)&&(ge=ge[pe?"firstChild":"lastChild"]),3==ge.nodeType&&0===ge.data.length&&(ge=pe?le.previousSibling||le.nextSibling:le.nextSibling||le.previousSibling),c.remove(le,!0),ge}function de(pe){var le,ge,Pe=pe.commonAncestorContainer;if(pe=Ce(pe,X,E),Q.split){if((le=je(pe,E))!=(ge=je(pe))){if(/^(TR|TH|TD)$/.test(le.nodeName)&&le.firstChild&&(le="TR"==le.nodeName?le.firstChild.firstChild||le:le.firstChild||le),Pe&&/^T(HEAD|BODY|FOOT|R)$/.test(Pe.nodeName)&&M(ge)&&ge.firstChild&&(ge=ge.firstChild||ge),c.isChildOf(le,ge)&&!p(ge)&&!M(le)&&!M(ge))return Fe(le=fe(le,"span",{id:"_start","data-mce-type":"bookmark"})),void(le=Oe(E));le=fe(le,"span",{id:"_start","data-mce-type":"bookmark"}),ge=fe(ge,"span",{id:"_end","data-mce-type":"bookmark"}),Fe(le),Fe(ge),le=Oe(E),ge=Oe()}else le=ge=Fe(le);pe.startContainer=le.parentNode?le.parentNode:le,pe.startOffset=d(le),pe.endContainer=ge.parentNode?ge.parentNode:ge,pe.endOffset=d(ge)+1}k.walk(pe,function(Ie){_(Ie,function(Be){Se(Be),1===Be.nodeType&&"underline"===f.dom.getStyle(Be,"text-decoration")&&Be.parentNode&&"underline"===he(Be.parentNode)&&Me({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,Be)})})}if(W)W.nodeType?((ce=c.createRng()).setStartBefore(W),ce.setEndAfter(W),de(ce)):de(W);else if("false"!==w(v.getNode()))v.isCollapsed()&&Q.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?Xe("remove",D,H,j):(J=v.getBookmark(),de(v.getRng(E)),v.moveToBookmark(J),Q.inline&&Y(D,H,v.getStart())&&it(v.getRng(!0)),f.nodeChanged());else{W=v.getNode();for(var Ne=0,xe=X.length;Ne<xe&&(!X[Ne].ceFalseOverride||!Me(X[Ne],H,W,W));Ne++);}}function Z(D,H,W,j){var Q,J,ce,X=ee(H);function te(Se,_e,Re){var Fe,Oe,Ne,de=_e[Re];if(_e.onmatch)return _e.onmatch(Se,_e,Re);if(de)if(de.length===C){for(Fe in de)if(de.hasOwnProperty(Fe)&&(Oe="attributes"===Re?c.getAttrib(Se,Fe):Ue(Se,Fe),j&&!Oe&&!_e.exact||(!j||_e.exact)&&!se(Oe,qe(Te(de[Fe],W),Fe))))return}else for(Ne=0;Ne<de.length;Ne++)if("attributes"===Re?c.getAttrib(Se,de[Ne]):Ue(Se,de[Ne]))return _e;return _e}if(X&&D)for(J=0;J<X.length;J++)if(K(D,Q=X[J])&&te(D,Q,"attributes")&&te(D,Q,"styles")){if(ce=Q.classes)for(J=0;J<ce.length;J++)if(!c.hasClass(D,ce[J]))return;return Q}}function Y(D,H,W){var j;function X(Q){var J=c.getRoot();return Q!==J&&(Q=c.getParent(Q,function(ce){return!!ne(ce,D)||ce.parentNode===J||!!Z(ce,D,H,!0)}),Z(Q,D,H))}return W?X(W):X(W=v.getNode())||(j=v.getStart())!=W&&X(j)?E:o}function K(D,H){return se(D,H.inline)||se(D,H.block)?E:H.selector?1==D.nodeType&&c.is(D,H.selector):void 0}function se(D,H){return H=""+((H=H||"").nodeName||H),(D=""+((D=D||"").nodeName||D)).toLowerCase()==H.toLowerCase()}function be(D,H,W){_(D.childNodes,function(j){we(j)&&(H(j)&&W(j),j.hasChildNodes()&&be(j,H,W))})}function we(D){return D&&1===D.nodeType&&!N(D)&&!B(D)&&!t.isBogus(D)}function De(D){return m.curry(function(H,W){return!(!W||!Ue(W,H))},D)}function Ue(D,H){return qe(c.getStyle(D,H),H)}function qe(D,H){return("color"==H||"backgroundColor"==H)&&(D=c.toHex(D)),"fontWeight"==H&&700==D&&(D="bold"),"fontFamily"==H&&(D=D.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+D}function Te(D,H){return"string"!=typeof D?D=D(H):H&&(D=D.replace(/%(\w+)/g,function(W,j){return H[j]||W})),D}function re(D){return D&&3===D.nodeType&&/^([\t \r\n]+|)$/.test(D.nodeValue)}function fe(D,H,W){var j=c.create(H,W);return D.parentNode.insertBefore(j,D),j.appendChild(D),j}function Ce(D,H,W){var j,X,Q,J=D.startContainer,ce=D.startOffset,te=D.endContainer,Se=D.endOffset;function _e(xe){var pe,le,ge,Pe,Ie,He;if(pe=le=xe?J:te,Pe=xe?"previousSibling":"nextSibling",Ie=c.getRoot(),3==pe.nodeType&&!re(pe)&&(xe?ce>0:Se<pe.nodeValue.length))return pe;for(;;){if(!H[0].block_expand&&p(le))return le;for(ge=le[Pe];ge;ge=ge[Pe])if(!N(ge)&&!re(ge)&&("BR"!=(He=ge).nodeName||!He.getAttribute("data-mce-bogus")||He.nextSibling))return le;if(le==Ie||le.parentNode==Ie){pe=le;break}le=le.parentNode}return pe}function Re(xe,pe){for(pe===C&&(pe=3===xe.nodeType?xe.length:xe.childNodes.length);xe&&xe.hasChildNodes();)(xe=xe.childNodes[pe])&&(pe=3===xe.nodeType?xe.length:xe.childNodes.length);return{node:xe,offset:pe}}function Fe(xe){for(var pe=xe;pe;){if(1===pe.nodeType&&w(pe))return"false"===w(pe)?pe:xe;pe=pe.parentNode}return xe}function Oe(xe,pe,le){var ge,Pe,Ie,Be;function He(Ge,ze){var Ze,Qe,et=Ge.nodeValue;return typeof ze>"u"&&(ze=le?et.length:0),le?-1!==(Ze=(Ze=et.lastIndexOf(" ",ze))>(Qe=et.lastIndexOf("\xa0",ze))?Ze:Qe)&&!W&&Ze++:(Ze=et.indexOf(" ",ze),Qe=et.indexOf("\xa0",ze),Ze=-1!==Ze&&(-1===Qe||Ze<Qe)?Ze:Qe),Ze}if(3===xe.nodeType){if(-1!==(Ie=He(xe,pe)))return{container:xe,offset:Ie};Be=xe}for(ge=new S(xe,c.getParent(xe,p)||f.getBody());Pe=ge[le?"prev":"next"]();)if(3===Pe.nodeType){if(Be=Pe,-1!==(Ie=He(Pe)))return{container:Pe,offset:Ie}}else if(p(Pe))break;if(Be)return{container:Be,offset:pe=le?0:Be.length}}function de(xe,pe){var le,ge,Pe,Ie;for(3==xe.nodeType&&0===xe.nodeValue.length&&xe[pe]&&(xe=xe[pe]),le=P(xe),ge=0;ge<le.length;ge++)for(Pe=0;Pe<H.length;Pe++)if((!("collapsed"in(Ie=H[Pe]))||Ie.collapsed===D.collapsed)&&c.is(le[ge],Ie.selector))return le[ge];return xe}function Ne(xe,pe){var le,ge=c.getRoot();if(H[0].wrapper||(le=c.getParent(xe,H[0].block,ge)),le||(le=c.getParent(3==xe.nodeType?xe.parentNode:xe,function(Pe){return Pe!=ge&&R(Pe)})),le&&H[0].wrapper&&(le=P(le,"ul,ol").reverse()[0]||le),!le)for(le=xe;le[pe]&&!p(le[pe])&&!se(le=le[pe],"br"););return le||xe}if(1==J.nodeType&&J.hasChildNodes()&&3==(J=J.childNodes[ce>(j=J.childNodes.length-1)?j:ce]).nodeType&&(ce=0),1==te.nodeType&&te.hasChildNodes()&&3==(te=te.childNodes[Se>(j=te.childNodes.length-1)?j:Se-1]).nodeType&&(Se=te.nodeValue.length),J=Fe(J),te=Fe(te),(N(J.parentNode)||N(J))&&3==(J=(J=N(J)?J:J.parentNode).nextSibling||J).nodeType&&(ce=0),(N(te.parentNode)||N(te))&&3==(te=(te=N(te)?te:te.parentNode).previousSibling||te).nodeType&&(Se=te.length),H[0].inline&&(D.collapsed&&((Q=Oe(J,ce,!0))&&(J=Q.container,ce=Q.offset),(Q=Oe(te,Se))&&(te=Q.container,Se=Q.offset)),(X=Re(te,Se)).node)){for(;X.node&&0===X.offset&&X.node.previousSibling;)X=Re(X.node.previousSibling);X.node&&X.offset>0&&3===X.node.nodeType&&" "===X.node.nodeValue.charAt(X.offset-1)&&X.offset>1&&(te=X.node).splitText(X.offset-1)}return(H[0].inline||H[0].block_expand)&&((!H[0].inline||3!=J.nodeType||0===ce)&&(J=_e(!0)),(!H[0].inline||3!=te.nodeType||Se===te.nodeValue.length)&&(te=_e())),H[0].selector&&H[0].expand!==o&&!H[0].inline&&(J=de(J,"previousSibling"),te=de(te,"nextSibling")),(H[0].block||H[0].selector)&&(J=Ne(J,"previousSibling"),te=Ne(te,"nextSibling"),H[0].block&&(p(J)||(J=_e(!0)),p(te)||(te=_e()))),1==J.nodeType&&(ce=d(J),J=J.parentNode),1==te.nodeType&&(Se=d(te)+1,te=te.parentNode),{startContainer:J,startOffset:ce,endContainer:te,endOffset:Se}}function Me(D,H,W,j){var X,Q,J;if(!K(W,D)&&!function Ae(D,H){return H.links&&"A"==D.tagName}(W,D))return o;if("all"!=D.remove)for(_(D.styles,function(te,Se){te=qe(Te(te,H),Se),"number"==typeof Se&&(Se=te,j=0),(D.remove_similar||!j||se(Ue(j,Se),te))&&c.setStyle(W,Se,""),J=1}),J&&""===c.getAttrib(W,"style")&&(W.removeAttribute("style"),W.removeAttribute("data-mce-style")),_(D.attributes,function(te,Se){var _e;if(te=Te(te,H),"number"==typeof Se&&(Se=te,j=0),!j||se(c.getAttrib(j,Se),te)){if("class"==Se&&(te=c.getAttrib(W,Se))&&(_e="",_(te.split(/\s+/),function(Re){/mce\-\w+/.test(Re)&&(_e+=(_e?" ":"")+Re)}),_e))return void c.setAttrib(W,Se,_e);"class"==Se&&W.removeAttribute("className"),r.test(Se)&&W.removeAttribute("data-mce-"+Se),W.removeAttribute(Se)}}),_(D.classes,function(te){te=Te(te,H),(!j||c.hasClass(j,te))&&c.removeClass(W,te)}),Q=c.getAttribs(W),X=0;X<Q.length;X++){var ce=Q[X].nodeName;if(0!==ce.indexOf("_")&&0!==ce.indexOf("data-"))return o}return"none"!=D.remove?(function Le(D,H){var j,W=D.parentNode;function X(Q,J,ce){return!(Q=Ye(Q,J,ce))||"BR"==Q.nodeName||p(Q)}H.block&&(g?W==c.getRoot()&&(!H.list_block||!se(D,H.list_block))&&_(A(D.childNodes),function(Q){y(g,Q.nodeName.toLowerCase())?j?j.appendChild(Q):(j=fe(Q,g),c.setAttribs(j,f.settings.forced_root_block_attrs)):j=0}):p(D)&&!p(W)&&(!X(D,o)&&!X(D.firstChild,E,1)&&D.insertBefore(c.create("br"),D.firstChild),!X(D,E)&&!X(D.lastChild,o,1)&&D.appendChild(c.create("br")))),(!H.selector||!H.inline||se(H.inline,D))&&c.remove(D,1)}(W,D),E):void 0}function Ye(D,H,W){if(D)for(H=H?"nextSibling":"previousSibling",D=W?D:D[H];D;D=D[H])if(1==D.nodeType||!re(D))return D}function Ke(D,H){var W,j,X=new a(c);function Q(J,ce){for(W=J;W;W=W[ce]){if(3==W.nodeType&&0!==W.nodeValue.length)return J;if(1==W.nodeType&&!N(W))return W}return J}if(D&&H&&(D=Q(D,"previousSibling"),H=Q(H,"nextSibling"),X.compare(D,H))){for(W=D.nextSibling;W&&W!=H;)j=W,W=W.nextSibling,D.appendChild(j);return c.remove(H),_(A(H.childNodes),function(J){D.appendChild(J)}),D}return H}function je(D,H){var W,j,X;return j=D[H?"startOffset":"endOffset"],1==(W=D[H?"startContainer":"endContainer"]).nodeType&&(!H&&j&&j--,W=W.childNodes[j>(X=W.childNodes.length-1)?X:j]),3===W.nodeType&&H&&j>=W.nodeValue.length&&(W=new S(W,f.getBody()).next()||W),3===W.nodeType&&!H&&0===j&&(W=new S(W,f.getBody()).prev()||W),W}function Xe(D,H,W,j){var X="_mce_caret",Q=f.settings.caret_debug;function J(de){var Ne=c.create("span",{id:X,"data-mce-bogus":!0,style:Q?"color:red":""});return de&&Ne.appendChild(f.getDoc().createTextNode(l)),Ne}function ce(de,Ne){for(;de;){if(3===de.nodeType&&de.nodeValue!==l||de.childNodes.length>1)return!1;Ne&&1===de.nodeType&&Ne.push(de),de=de.firstChild}return!0}function te(de){for(;de;){if(de.id===X)return de;de=de.parentNode}}function Se(de){var Ne;if(de)for(de=(Ne=new S(de,de)).current();de;de=Ne.next())if(3===de.nodeType)return de}function _e(de,Ne){var xe,pe;if(de)pe=v.getRng(!0),ce(de)?(!1!==Ne&&(pe.setStartBefore(de),pe.setEndBefore(de)),c.remove(de)):((xe=Se(de)).nodeValue.charAt(0)===l&&(xe.deleteData(0,1),pe.startContainer==xe&&pe.startOffset>0&&pe.setStart(xe,pe.startOffset-1),pe.endContainer==xe&&pe.endOffset>0&&pe.setEnd(xe,pe.endOffset-1)),c.remove(de,1)),v.setRng(pe);else if(!(de=te(v.getStart())))for(;de=c.get(X);)_e(de,!1)}function Oe(){var de;(de=te(v.getStart()))&&!c.isEmpty(de)&&F(de,function(Ne){1==Ne.nodeType&&Ne.id!==X&&!c.isEmpty(Ne)&&c.setAttrib(Ne,"data-mce-bogus",null)},"childNodes")}f._hasCaretEvents||(T=function(){var Ne,de=[];if(ce(te(v.getStart()),de))for(Ne=de.length;Ne--;)c.setAttrib(de[Ne],"data-mce-bogus","1")},x=function(de){var Ne=de.keyCode;_e(),8==Ne&&v.isCollapsed()&&v.getStart().innerHTML==l&&_e(te(v.getStart())),(37==Ne||39==Ne)&&_e(te(v.getStart())),Oe()},f.on("SetContent",function(de){de.selection&&Oe()}),f._hasCaretEvents=!0),"apply"==D?function Re(){var de,Ne,xe,pe,le,Pe;pe=(de=v.getRng(!0)).startOffset,Pe=de.startContainer.nodeValue,(Ne=te(v.getStart()))&&(xe=Se(Ne));var Ie=/[^\s\u00a0\u00ad\u200b\ufeff]/;Pe&&pe>0&&pe<Pe.length&&Ie.test(Pe.charAt(pe))&&Ie.test(Pe.charAt(pe-1))?(le=v.getBookmark(),de.collapse(!0),de=Ce(de,ee(H)),de=k.split(de),me(H,W,de),v.moveToBookmark(le)):((!Ne||xe.nodeValue!==l)&&(xe=(Ne=J(!0)).firstChild,de.insertNode(Ne),pe=1),me(H,W,Ne),v.setCursorLocation(xe,pe))}():function Fe(){var Ne,pe,le,ge,Pe,Be,He,de=v.getRng(!0),Ie=[];for(ge=Ne=de.startContainer,3==Ne.nodeType&&(de.startOffset!=Ne.nodeValue.length&&(le=!0),ge=ge.parentNode);ge;){if(Z(ge,H,W,j)){Pe=ge;break}ge.nextSibling&&(le=!0),Ie.push(ge),ge=ge.parentNode}if(Pe)if(le)pe=v.getBookmark(),de.collapse(!0),de=Ce(de,ee(H),!0),de=k.split(de),$(H,W,de),v.moveToBookmark(pe);else{for(ge=He=J(),Be=Ie.length-1;Be>=0;Be--)ge.appendChild(c.clone(Ie[Be],!1)),ge=ge.firstChild;ge.appendChild(c.doc.createTextNode(l)),ge=ge.firstChild;var Ge=c.getParent(Pe,R);Ge&&c.isEmpty(Ge)?Pe.parentNode.replaceChild(He,Pe):c.insertAfter(He,Pe),v.setCursorLocation(ge,1),c.isEmpty(Pe)&&c.remove(Pe)}}()}function it(D){var j,X,Q,H=D.startContainer,W=D.startOffset;if((D.startContainer!=D.endContainer||!function U(D){return D&&/^(IMG)$/.test(D.nodeName)}(D.startContainer.childNodes[D.startOffset]))&&(3==H.nodeType&&W>=H.nodeValue.length&&(W=d(H),H=H.parentNode),1==H.nodeType))for(W<(Q=H.childNodes).length?j=new S(H=Q[W],c.getParent(H,c.isBlock)):(j=new S(H=Q[Q.length-1],c.getParent(H,c.isBlock))).next(!0),X=j.current();X;X=j.next())if(3==X.nodeType&&!re(X))return D.setStart(X,0),void v.setRng(D)}(0,n.extend)(this,{get:ee,register:ue,unregister:function ae(D){return D&&i[D]&&delete i[D],i},apply:me,remove:$,toggle:function G(D,H,W){var j=ee(D);!Y(D,H,W)||"toggle"in j[0]&&!j[0].toggle?me(D,H,W):$(D,H,W)},match:Y,matchAll:function ie(D,H){var W,j=[],X={};return W=v.getStart(),c.getParent(W,function(Q){var J,ce;for(J=0;J<D.length;J++)!X[ce=D[J]]&&Z(Q,ce,H)&&(X[ce]=!0,j.push(ce))},c.getRoot()),j},matchNode:Z,canApply:function ke(D){var j,X,Q,J,H=ee(D);if(H)for(j=P(v.getStart()),Q=H.length-1;Q>=0;Q--){if(!(J=H[Q].selector)||H[Q].defaultBlock)return E;for(X=j.length-1;X>=0;X--)if(c.is(j[X],J))return E}return o},formatChanged:function ye(D,H,W){var j;return e||(e={},j={},f.on("NodeChange",function(X){var Q=P(X.element),J={};Q=n.grep(Q,function(ce){return 1==ce.nodeType&&!ce.getAttribute("data-mce-bogus")}),_(e,function(ce,te){_(Q,function(Se){return Z(Se,te,{},ce.similar)?(j[te]||(_(ce,function(_e){_e(!0,{node:Se,format:te,parents:Q})}),j[te]=ce),J[te]=ce,!1):!ne(Se,te)&&void 0})}),_(j,function(ce,te){J[te]||(delete j[te],_(ce,function(Se){Se(!1,{node:X.element,format:te,parents:Q})}))})})),_(D.split(","),function(X){e[X]||(e[X]=[],e[X].similar=W),e[X].push(H)}),this},getCssText:function oe(D){return u.getCssText(f,D)}}),function L(){ue({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(D,H,W){_(W,function(j,X){c.setAttrib(D,X,j)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),_("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(D){ue(D,{block:D,remove:"all"})}),ue(f.settings.formats)}(),function q(){f.addShortcut("meta+b","bold_desc","Bold"),f.addShortcut("meta+i","italic_desc","Italic"),f.addShortcut("meta+u","underline_desc","Underline");for(var D=1;D<=6;D++)f.addShortcut("access+"+D,"",["FormatBlock",!1,"h"+D]);f.addShortcut("access+7","",["FormatBlock",!1,"p"]),f.addShortcut("access+8","",["FormatBlock",!1,"div"]),f.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),f.on("BeforeGetContent",function(D){T&&"raw"!=D.format&&T()}),f.on("mouseup keydown",function(D){x&&x(D)})}}),V("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(t,m){var n=t.length+m.length+2,u=new Array(n),s=new Array(n),i=function(y,p,g,d,l){var r=v(y,p,g,d);if(null===r||r.start===p&&r.diag===p-d||r.end===y&&r.diag===y-g)for(var o=y,E=g;o<p||E<d;)o<p&&E<d&&t[o]===m[E]?(l.push([0,t[o]]),++o,++E):p-y>d-g?(l.push([2,t[o]]),++o):(l.push([1,m[E]]),++E);else{i(y,r.start,g,r.start-r.diag,l);for(var e=r.start;e<r.end;++e)l.push([0,t[e]]);i(r.end,p,r.end-r.diag,d,l)}},c=function(y,p,g,d){for(var l=y;l-p<d&&l<g&&t[l]===m[l-p];)++l;return function(y,p,g){return{start:y,end:p,diag:g}}(y,l,p)},v=function(y,p,g,d){var l=p-y,r=d-g;if(0===l||0===r)return null;var o=l-r,E=r+l,e=(E%2==0?E:E+1)/2;u[1+e]=y,s[1+e]=p+1;for(var C=0;C<=e;++C){for(var w=-C;w<=C;w+=2){var x=w+e;u[x]=w===-C||w!=C&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1;for(var T=u[x],N=T-y+g-w;T<p&&N<d&&t[T]===m[N];)u[x]=++T,++N;if(o%2!=0&&o-C<=w&&w<=o+C&&s[x-o]<=u[x])return c(s[x-o],w+y-g,p,d)}for(w=o-C;w<=o+C;w+=2){for(s[x=w+e-o]=w===o-C||w!=o+C&&s[x+1]<=s[x-1]?s[x+1]-1:s[x-1],N=(T=s[x]-1)-y+g-w;T>=y&&N>=g&&t[T]===m[N];)s[x]=T--,N--;if(o%2==0&&-C<=w&&w<=C&&s[x]<=u[x+o])return c(s[x],w+y-g,p,d)}}},k=[];return i(0,t.length,0,m.length,k),k}}}),V("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],function(S,b,h){var a=function(i){return 1===i.nodeType?i.outerHTML:3===i.nodeType?b.encodeRaw(i.data,!1):8===i.nodeType?"\x3c!--"+i.data+"--\x3e":""};return{read:function(i){return S.filter(S.map(i.childNodes,a),function(c){return c.length>0})},write:function(i,c){var v=S.map(c.childNodes,a);return function(i,c){var v=0;S.each(i,function(k){k[0]===h.KEEP?v++:k[0]===h.INSERT?(function(i,c,v){var k=function(i){var c,v,k;for(k=document.createElement("div"),c=document.createDocumentFragment(),i&&(k.innerHTML=i);v=k.firstChild;)c.appendChild(v);return c}(c);if(i.hasChildNodes()&&v<i.childNodes.length){var y=i.childNodes[v];y.parentNode.insertBefore(k,y)}else i.appendChild(k)}(c,k[1],v),v++):k[0]===h.DELETE&&function(i,c){if(i.hasChildNodes()&&c<i.childNodes.length){var v=i.childNodes[c];v.parentNode.removeChild(v)}}(c,v)})}(h.diff(v,i),c),c}}}),V("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],function(S,b){var a=function(f){return{type:"fragmented",fragments:f,content:"",bookmark:null,beforeBookmark:null}},t=function(f){return{type:"complete",fragments:null,content:f,bookmark:null,beforeBookmark:null}},u=function(f){return"fragmented"===f.type?f.fragments.join(""):f.content};return{createFragmentedLevel:a,createCompleteLevel:t,createFromEditor:function(f){var i,c,v;return i=b.read(f.getBody()),function(f){return-1!==f.indexOf("</iframe>")}(c=(v=S.map(i,function(k){return f.serializer.trimContent(k)})).join(""))?a(v):t(c)},applyToEditor:function(f,i,c){"fragmented"===i.type?b.write(i.fragments,f.getBody()):f.setContent(i.content,{format:"raw"}),f.selection.moveToBookmark(c?i.beforeBookmark:i.bookmark)},isEq:function(f,i){return u(f)===u(i)}}}),V("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],function(S,b,h){return function(a){var u,s,t=this,m=0,n=[],f=0,i=function(){return 0===f},c=function(p){i()&&(t.typing=p)};function v(p){a.setDirty(p)}function k(p){c(!1),t.add({},p)}function y(){t.typing&&(c(!1),t.add())}return a.on("init",function(){t.add()}),a.on("BeforeExecCommand",function(p){var g=p.command;"Undo"!==g&&"Redo"!==g&&"mceRepaint"!==g&&(y(),t.beforeChange())}),a.on("ExecCommand",function(p){var g=p.command;"Undo"!==g&&"Redo"!==g&&"mceRepaint"!==g&&k(p)}),a.on("ObjectResizeStart Cut",function(){t.beforeChange()}),a.on("SaveContent ObjectResized blur",k),a.on("DragEnd",k),a.on("KeyUp",function(p){var g=p.keyCode;p.isDefaultPrevented()||((g>=33&&g<=36||g>=37&&g<=40||45===g||p.ctrlKey)&&(k(),a.nodeChanged()),(46===g||8===g)&&a.nodeChanged(),s&&t.typing&&!1===h.isEq(h.createFromEditor(a),n[0])&&(!1===a.isDirty()&&(v(!0),a.fire("change",{level:n[0],lastLevel:null})),a.fire("TypingUndo"),s=!1,a.nodeChanged()))}),a.on("KeyDown",function(p){var g=p.keyCode;if(!p.isDefaultPrevented()){if(g>=33&&g<=36||g>=37&&g<=40||45===g)return void(t.typing&&k(p));(g<16||g>20)&&224!==g&&91!==g&&!t.typing&&!(p.ctrlKey&&!p.altKey||p.metaKey)&&(t.beforeChange(),c(!0),t.add({},p),s=!0)}}),a.on("MouseDown",function(p){t.typing&&k(p)}),a.addShortcut("meta+z","","Undo"),a.addShortcut("meta+y,meta+shift+z","","Redo"),a.on("AddUndo Undo Redo ClearUndos",function(p){p.isDefaultPrevented()||a.nodeChanged()}),t={data:n,typing:!1,beforeChange:function(){i()&&(u=a.selection.getBookmark(2,!0))},add:function(p,g){var d,r,o,l=a.settings;if(o=h.createFromEditor(a),p=b.extend(p=p||{},o),!1===i()||a.removed||a.fire("BeforeAddUndo",{level:p,lastLevel:r=n[m],originalEvent:g}).isDefaultPrevented()||r&&h.isEq(r,p))return null;if(n[m]&&(n[m].beforeBookmark=u),l.custom_undo_redo_levels&&n.length>l.custom_undo_redo_levels){for(d=0;d<n.length-1;d++)n[d]=n[d+1];n.length--,m=n.length}p.bookmark=a.selection.getBookmark(2,!0),m<n.length-1&&(n.length=m+1),n.push(p),m=n.length-1;var E={level:p,lastLevel:r,originalEvent:g};return a.fire("AddUndo",E),m>0&&(v(!0),a.fire("change",E)),p},undo:function(){var p;return t.typing&&(t.add(),t.typing=!1,c(!1)),m>0&&(p=n[--m],h.applyToEditor(a,p,!0),v(!0),a.fire("undo",{level:p})),p},redo:function(){var p;return m<n.length-1&&(p=n[++m],h.applyToEditor(a,p,!1),v(!0),a.fire("redo",{level:p})),p},clear:function(){n=[],m=0,t.typing=!1,t.data=n,a.fire("ClearUndos")},hasUndo:function(){return m>0||t.typing&&n[0]&&!h.isEq(h.createFromEditor(a),n[0])},hasRedo:function(){return m<n.length-1&&!t.typing},transact:function(p){return y(),t.beforeChange(),t.ignore(p),t.add()},ignore:function(p){try{f++,p()}finally{f--}},extra:function(p,g){var l;t.transact(p)&&(l=n[m].bookmark,h.applyToEditor(a,n[m-1],!0),t.transact(g)&&(n[m-1].beforeBookmark=l))}}}}),V("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(S,b,h,a){var m=S.cached(function(){return n(b.fromDom(a))}),n=function(u){var s=u.dom().body;if(null==s)throw"Body is not available yet";return b.fromDom(s)};return{body:m,getBody:n,inBody:function(u){var s=h.isText(u)?u.dom().parentNode:u.dom();return null!=s&&s.ownerDocument.body.contains(s)}}}),V("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(S,b){return function(h,a,t,m,n){return h(t,m)?b.some(t):S.isFunction(n)&&n(t)?b.none():a(t,m,n)}}),V("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(S,b,h,a,t,m,n,u){var f=function(y,p,g){for(var d=y.dom(),l=S.isFunction(g)?g:h.constant(!1);d.parentNode;){var r=n.fromDom(d=d.parentNode);if(p(r))return a.some(r);if(l(r))break}return a.none()},v=function(y,p){return b.find(y.dom().childNodes,h.compose(p,n.fromDom)).map(n.fromDom)},k=function(y,p){var g=function(d){for(var l=0;l<d.childNodes.length;l++){if(p(n.fromDom(d.childNodes[l])))return a.some(n.fromDom(d.childNodes[l]));var r=g(d.childNodes[l]);if(r.isSome())return r}return a.none()};return g(y.dom())};return{first:function(y){return k(t.body(),y)},ancestor:f,closest:function(y,p,g){return u(function(l){return p(l)},f,y,p,g)},sibling:function(y,p){var g=y.dom();return g.parentNode?v(n.fromDom(g.parentNode),function(d){return!m.eq(y,d)&&p(d)}):a.none()},child:v,descendant:k}}),V("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(S,b,h,a,t,m){var n=h.isContentEditableTrue,u=h.isContentEditableFalse,s=h.matchStyleValues("display","block table table-cell table-caption list-item"),f=t.isCaretContainer,i=t.isCaretContainerBlock,c=S.curry,v=h.isElement,k=m.isCaretCandidate;function y(F){return F>0}function p(F){return F<0}function g(F,O){for(var R;R=F(O);)if(!i(R))return R;return null}function l(F,O){for(F=F.parentNode;F&&F!=O;F=F.parentNode)if(n(F))return F;return O}function r(F,O){for(;F&&F!=O;){if(s(F))return F;F=F.parentNode}return null}function C(F,O){var R=O.ownerDocument.createRange();return F?(R.setStartBefore(O),R.setEndBefore(O)):(R.setStartAfter(O),R.setEndAfter(O)),R}function w(F,O,R){return r(O,F)==r(R,F)}function x(F,O,R){var M,U;for(U=F?"previousSibling":"nextSibling";R&&R!=O;){if(f(M=R[U])&&(M=M[U]),u(M)){if(w(O,M,R))return M;break}if(k(M))break;R=R.parentNode}return null}var T=c(C,!0),N=c(C,!1);function A(F,O){return u(function e(F,O){var R,M;return O&&(R=O.container(),M=O.offset(),v(R))?R.childNodes[M+F]:null}(F,O))}return{isForwards:y,isBackwards:p,findNode:function d(F,O,R,M,U){var P=new b(F,M);if(p(O)){if((u(F)||i(F))&&R(F=g(P.prev,!0)))return F;for(;F=g(P.prev,U);)if(R(F))return F}if(y(O)){if((u(F)||i(F))&&R(F=g(P.next,!0)))return F;for(;F=g(P.next,U);)if(R(F))return F}return null},getEditingHost:l,getParentBlock:r,isInSameBlock:function o(F,O,R){return r(F.container(),R)==r(O.container(),R)},isInSameEditingHost:function E(F,O,R){return l(F.container(),R)==l(O.container(),R)},isBeforeContentEditableFalse:c(A,0),isAfterContentEditableFalse:c(A,-1),normalizeRange:function _(F,O,R){var M,U,P,B,L=c(x,!0,O),z=c(x,!1,O);if(P=R.startOffset,t.isCaretContainerBlock(U=R.startContainer)){if(v(U)||(U=U.parentNode),"before"==(B=U.getAttribute("data-mce-caret"))&&u(M=U.nextSibling))return T(M);if("after"==B&&u(M=U.previousSibling))return N(M)}if(!R.collapsed)return R;if(h.isText(U)){if(f(U)){if(1===F){if(M=z(U))return T(M);if(M=L(U))return N(M)}if(-1===F){if(M=L(U))return N(M);if(M=z(U))return T(M)}return R}if(t.endsWithCaretContainer(U)&&P>=U.data.length-1)return 1===F&&(M=z(U))?T(M):R;if(t.startsWithCaretContainer(U)&&P<=1)return-1===F&&(M=L(U))?N(M):R;if(P===U.data.length)return(M=z(U))?T(M):R;if(0===P)return(M=L(U))?N(M):R}return R}}}),V("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(S,b,h,a,t,m){var n=S.isContentEditableFalse,u=S.isText,s=S.isElement,f=S.isBr,i=a.isForwards,c=a.isBackwards,v=b.isCaretCandidate,k=b.isAtomic,y=b.isEditableCaretCandidate;function g(o,E){return o.hasChildNodes()&&E<o.childNodes.length?o.childNodes[E]:null}function d(o,E){if(i(o)){if(v(E.previousSibling)&&!u(E.previousSibling))return h.before(E);if(u(E))return h(E,0)}if(c(o)){if(v(E.nextSibling)&&!u(E.nextSibling))return h.after(E);if(u(E))return h(E,E.data.length)}return c(o)?f(E)?h.before(E):h.after(E):h.before(E)}function r(o,E,e){var C,w,x,T,N,_,A;if(!s(e)||!E)return null;if(E.isEqual(h.after(e))&&e.lastChild){if(A=h.after(e.lastChild),c(o)&&v(e.lastChild)&&s(e.lastChild))return f(e.lastChild)?h.before(e.lastChild):A}else A=E;if(C=A.container(),w=A.offset(),u(C)){if(c(o)&&w>0)return h(C,--w);if(i(o)&&w<C.length)return h(C,++w);x=C}else{if(c(o)&&w>0&&(T=g(C,w-1),v(T)))return!k(T)&&(N=a.findNode(T,o,y,T))?u(N)?h(N,N.data.length):h.after(N):u(T)?h(T,T.data.length):h.before(T);if(i(o)&&w<C.childNodes.length&&(T=g(C,w),v(T)))return function l(o,E){var e;return!(!S.isBr(o)||(e=r(1,h.after(o),E),!e)||a.isInSameBlock(h.before(o),h.before(e),E))}(T,e)?r(o,h.after(T),e):!k(T)&&(N=a.findNode(T,o,y,T))?u(N)?h(N,0):h.before(N):u(T)?h(T,0):h.after(T);x=A.getNode()}return(i(o)&&A.isAtEnd()||c(o)&&A.isAtStart())&&(x=a.findNode(x,o,m.constant(!0),e,!0),y(x))?d(o,x):(T=a.findNode(x,o,y,e),_=t.last(t.filter(function p(o,E){for(var e=[];o&&o!=E;)e.push(o),o=o.parentNode;return e}(C,e),n)),!_||T&&_.contains(T)?T?d(o,T):null:A=i(o)?h.after(_):h.before(_))}return function(o){return{next:function(E){return r(1,E,o)},prev:function(E){return r(-1,E,o)}}}}),V("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n){var f=function(d){return a.isTextPosition(d)?0===d.offset():h.isCaretCandidate(d.getNode())},i=function(d){return a.isTextPosition(d)?d.offset()===d.container().data.length:h.isCaretCandidate(d.getNode(!0))},c=function(d,l){return!a.isTextPosition(d)&&!a.isTextPosition(l)&&d.getNode()===l.getNode(!0)},y=function(d,l,r){var o=new m(l);return b.from(d?o.next(r):o.prev(r))};return{fromPosition:y,navigate:function(d,l,r){return y(d,l,r).bind(function(o){return t.isInSameBlock(r,o,l)&&function(d,l,r){return d?!c(l,r)&&!function(d){return!a.isTextPosition(d)&&n.isBr(d.getNode())}(l)&&i(l)&&f(r):!c(r,l)&&f(l)&&i(r)}(d,r,o)?y(d,l,o):b.some(o)})},positionIn:function(d,l){var r=d?l.firstChild:l.lastChild;return n.isText(r)?b.some(new a(r,d?0:r.data.length)):r?h.isCaretCandidate(r)?b.some(d?a.before(r):function(d){return n.isBr(d)?a.before(d):a.after(d)}(r)):function(d,l,r){var o=d?a.before(r):a.after(r);return y(d,l,o)}(d,l,r):b.none()}}}),V("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind"],function(S,b,h,a,t,m){var c,u=(c=S.foldl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],function(v,k){return v[k]=!0,v},{}),function(v){return!0===c[t.name(v)]});return{getParentTextBlock:function(i,c){return h.contains(i,c)?m.closest(c,u,function(i){return function(c){return h.eq(i,a.fromDom(c.dom().parentNode))}}(i)):b.none()}}}),V("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(S,b,h){var t=function(f,i,c){return S.ancestor(f,function(v){return b.is(v,i)},c)};return{first:function(f){return b.one(f)},ancestor:t,sibling:function(f,i){return S.sibling(f,function(c){return b.is(c,i)})},child:function(f,i){return S.child(f,function(c){return b.is(c,i)})},descendant:function(f,i){return b.one(i,f)},closest:function(f,i,c){return h(b.is,t,f,i,c)}}}),V("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(S){return{any:function(u){return S.first(u).isSome()},ancestor:function(u,s,f){return S.ancestor(u,s,f).isSome()},sibling:function(u,s){return S.sibling(u,s).isSome()},child:function(u,s){return S.child(u,s).isSome()},descendant:function(u,s){return S.descendant(u,s).isSome()},closest:function(u,s,f){return S.closest(u,s,f).isSome()}}}),V("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(S,b,h,a,t,m,n){var i=function(g,d){return t.isCaretCandidate(d)&&!1===function(g,d){return m.isText(d)&&/^[ \t\r\n]*$/.test(d.data)&&!1===function(g,d){var l=h.fromDom(g),r=h.fromDom(d);return a.ancestor(r,"pre,code",S.curry(b.eq,l))}(g,d)}(g,d)||function(g){return m.isElement(g)&&"A"===g.nodeName&&g.hasAttribute("name")}(d)||c(d)},c=m.hasAttribute("data-mce-bookmark"),v=m.hasAttribute("data-mce-bogus"),k=m.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(g){return function(g){var d,l,r=0;if(i(g,g))return!1;if(!(l=g.firstChild))return!0;d=new n(l,g);do{if(k(l))l=d.next(!0);else if(v(l))l=d.next();else if(m.isBr(l))r++,l=d.next();else{if(i(g,l))return!1;l=d.next()}}while(l);return r<=1}(g.dom())}}}),V("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k,y){var p=t.immutable("block","position"),g=t.immutable("from","to"),d=function(w,x){var T=n.fromDom(w),N=n.fromDom(x.container());return v.getParentTextBlock(T,N).map(function(_){return p(_,x)})};return{read:function(w,x,T){return T.collapsed?function(w,x,T){var N=d(w,c.fromRangeStart(T)),_=N.bind(function(A){return i.fromPosition(x,w,A.position()).bind(function(F){return d(w,F).map(function(O){return function(w,x,T){return y.isBr(T.position().getNode())&&!1===k.isEmpty(T.block())?i.positionIn(!1,T.block().dom()).bind(function(N){return N.isEqual(T.position())?i.fromPosition(x,w,N).bind(function(_){return d(w,_)}):h.some(T)}).getOr(T):T}(w,x,O)})})});return a.liftN([N,_],g).filter(function(A){return function(w){return!1===m.eq(w.from().block(),w.to().block())}(A)&&function(w){return f.parent(w.from().block()).bind(function(x){return f.parent(w.to().block()).filter(function(T){return m.eq(x,T)})}).isSome()}(A)&&function(w){return!1===y.isContentEditableFalse(w.from().block())&&!1===y.isContentEditableFalse(w.to().block())}(A)})}(w,x,T):h.none()}}}),V("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n,u,s,f){var i=function(v,k,y,p){var g=m.children(k);return f.isBr(p.getNode())&&(a.remove(t.fromDom(p.getNode())),p=n.positionIn(!1,y.dom()).getOr(p)),!1===s.isEmpty(k)&&S.each(g,function(d){h.append(y,d)}),s.isEmpty(k)&&a.remove(k),g.length>0?b.from(p):b.none()};return{mergeBlocks:function(v,k,y){return v?s.isEmpty(k)?(a.remove(k),n.positionIn(!0,y.dom())):n.positionIn(!1,k.dom()).bind(function(p){return i(0,y,k,p)}):s.isEmpty(y)?(a.remove(y),n.positionIn(!0,k.dom())):n.positionIn(!1,y.dom()).bind(function(p){return i(0,k,y,p)})}}}),V("tinymce.core.delete.BlockBoundaryDelete",["tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(S,b){return{backspaceDelete:function(a,t){var m;return(m=S.read(a.getBody(),t,a.selection.getRng()).bind(function(n){return b.mergeBlocks(t,n.from().block(),n.to().block())})).each(function(n){a.selection.setRng(n.toRange())}),m.isSome()}}}),V("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],function(S,b,h,a,t){return{backspaceDelete:function(u,s){var f=h.fromDom(u.getBody());return!1===u.selection.isCollapsed()&&function(u,s){var f=s.getRng();return S.liftN([a.getParentTextBlock(u,h.fromDom(f.startContainer)),a.getParentTextBlock(u,h.fromDom(f.endContainer))],function(i,c){return!1===b.eq(i,c)&&(f.deleteContents(),t.mergeBlocks(!0,i,c).each(function(v){s.setRng(v.toRange())}),!0)}).getOr(!1)}(f,u.selection)}}}),V("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(S,b,h,a,t,m){return{generate:function(u){if(!h.isArray(u))throw new t("cases must be an array");if(0===u.length)throw new t("there must be at least one case");var s=[],f={};return S.each(u,function(i,c){var v=b.keys(i);if(1!==v.length)throw new t("one and only one name per case");var k=v[0],y=i[k];if(void 0!==f[k])throw new t("duplicate key detected:"+k);if("cata"===k)throw new t("cannot have a case named cata (sorry)");if(!h.isArray(y))throw new t("case arguments must be an array");s.push(k),f[k]=function(){var p=arguments.length;if(p!==y.length)throw new t("Wrong number of arguments to case "+k+". Expected "+y.length+" ("+y+"), got "+p);for(var g=new a(p),d=0;d<g.length;d++)g[d]=arguments[d];return{fold:function(){if(arguments.length!==u.length)throw new t("Wrong number of arguments to fold. Expected "+u.length+", got "+arguments.length);return arguments[c].apply(null,g)},match:function(r){var o=b.keys(r);if(s.length!==o.length)throw new t("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+o.join(","));if(!S.forall(s,function(e){return S.contains(o,e)}))throw new t("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+s.join(", "));return r[k].apply(null,g)},log:function(r){m.log(r,{constructors:s,constructor:k,params:g})}}}}),f}}}),V("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n,u,s){var f=S.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),v=function(g,d,l){return a.fromPosition(d,g,l).bind(function(r){return d&&s.isContentEditableFalse(r.getNode())||!1===d&&s.isContentEditableFalse(r.getNode(!0))?function(g,d,l,r){var o=r.getNode(!1===d);return n.getParentTextBlock(h.fromDom(g),h.fromDom(l.getNode())).map(function(E){return u.isEmpty(E)?f.remove(E.dom()):f.moveToElement(o)}).orThunk(function(){return b.some(f.moveToElement(o))})}(g,d,l,r):d&&m.isAfterContentEditableFalse(l)||!1===d&&m.isBeforeContentEditableFalse(l)?b.some(f.moveToPosition(r)):b.none()})};return{read:function(g,d,l){var r=m.normalizeRange(d?1:-1,g,l),o=t.fromRangeStart(r);return!1===d&&m.isAfterContentEditableFalse(o)?b.some(f.remove(o.getNode(!0))):d&&m.isBeforeContentEditableFalse(o)?b.some(f.remove(o.getNode())):function(g,d,l){return function(g,d){var l=d.getNode(!1===g),r=g?"after":"before";return s.isElement(l)&&l.getAttribute("data-mce-caret")===r}(d,l)?function(g,d){return g&&s.isContentEditableFalse(d.nextSibling)?b.some(f.moveToElement(d.nextSibling)):!1===g&&s.isContentEditableFalse(d.previousSibling)?b.some(f.moveToElement(d.previousSibling)):b.none()}(d,l.getNode(!1===d)).fold(function(){return v(g,d,l)},b.some):v(g,d,l)}(g,d,o)}}}),V("tinymce.core.text.Bidi",[],function(){var S=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(h){return S.test(h)}}}),V("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.text.Bidi"],function(S,b,h,a,t,m,n,u,s,f,i,c){var v=function(T){return f.DOM.is(T,"a[href],code")},y=function(T,N){return S.filter(f.DOM.getParents(N.container(),"*",T),v)},g=function(T,N){var _=y(T,N);return h.from(_[_.length-1])},e=function(T,N,_){return m.fromPosition(N,T,_)},C=function(T,N){var _=N.container(),A=N.offset();return T?t.isCaretContainerInline(_)?i.isText(_.nextSibling)?new n(_.nextSibling,0):n.after(_):t.isBeforeInline(N)?new n(_,A+1):N:t.isCaretContainerInline(_)?i.isText(_.previousSibling)?new n(_.previousSibling,_.previousSibling.data.length):n.before(_):t.isAfterInline(N)?new n(_,A-1):N},w=b.curry(C,!0),x=b.curry(C,!1);return{isInlineTarget:v,findInline:function(T,N){var _=y(T,N);return h.from(_[0])},findRootInline:g,isInInline:function(T,N){return!!N&&g(T,N).isSome()},isRtl:function(T){return"rtl"===f.DOM.getStyle(T,"direction",!0)||c.hasStrongRtl(T.textContent)},isAtInlineEndPoint:function(T,N){return g(T,N).map(function(_){return e(_,!1,N).isNone()||e(_,!0,N).isNone()}).getOr(!1)},isAtZwsp:function(T){return t.isBeforeInline(T)||t.isAfterInline(T)},findCaretPositionIn:function(T,N){return m.positionIn(N,T)},findCaretPosition:e,normalizePosition:C,normalizeForwards:w,normalizeBackwards:x,hasSameParentBlock:function(T,N,_){var A=u.getParentBlock(N,T),F=u.getParentBlock(_,T);return A&&A===F}}}),V("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k){var p=function(R,M){return function(R,M){var U=R.container(),P=R.offset();return!1===i.isTextPosition(R)&&U===M.parentNode&&P>i.before(M).offset()}(M,R)?new i(M.container(),M.offset()-1):M},l=function(R){return f.isCaretCandidate(R.previousSibling)?b.some(function(R){return v.isText(R)?new i(R,R.data.length):i.after(R)}(R.previousSibling)):R.previousSibling?k.findCaretPositionIn(R.previousSibling,!1):b.none()},r=function(R){return f.isCaretCandidate(R.nextSibling)?b.some(function(R){return v.isText(R)?new i(R,0):i.before(R)}(R.nextSibling)):R.nextSibling?k.findCaretPositionIn(R.nextSibling,!0):b.none()},x=function(R,M,U){return function(R,M,U){return R?function(R,M){return r(M).orThunk(function(){return l(M)}).orThunk(function(){return function(R,M){return k.findCaretPosition(R,!0,i.after(M)).fold(function(){return k.findCaretPosition(R,!1,i.before(M))},b.some)}(R,M)})}(M,U):function(R,M){return l(M).orThunk(function(){return r(M)}).orThunk(function(){return function(R,M){var U=i.before(M.previousSibling?M.previousSibling:M.parentNode);return k.findCaretPosition(R,!1,U).fold(function(){return k.findCaretPosition(R,!0,i.after(M))},b.some)}(R,M)})}(M,U)}(R,M,U).map(S.curry(p,U))},T=function(R,M,U){U.fold(function(){R.focus()},function(P){R.selection.setRng(P.toRange(),M)})},_=function(R,M){return M&&R.schema.getBlockElements().hasOwnProperty(n.name(M))},A=function(R){if(c.isEmpty(R)){var M=m.fromHtml('<br data-mce-bogus="1">');return t.empty(R),a.append(R,M),b.some(i.before(M.dom()))}return b.none()};return{deleteElement:function(R,M,U){var P=x(M,R.getBody(),U.dom()),B=u.ancestor(U,S.curry(_,R),function(R){return function(M){return M.dom()===R}}(R.getBody())),L=function(R,M){return h.liftN([s.prevSibling(R),s.nextSibling(R),M],function(U,P,B){var L,z=U.dom(),q=P.dom();return v.isText(z)&&v.isText(q)?(L=z.data.length,z.appendData(q.data),t.remove(P),t.remove(R),B.container()===q?new i(z,L):B):(t.remove(R),B)}).orThunk(function(){return t.remove(R),M})}(U,P);B.bind(A).fold(function(){T(R,M,L)},function(z){T(R,M,b.some(z))})}}}),V("tinymce.core.delete.CefDelete",["ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.BlockBoundary","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.MergeBlocks","tinymce.core.dom.NodeType"],function(S,b,h,a,t,m,n,u){return{backspaceDelete:function(g,d){return g.selection.isCollapsed()?function(g,d){var l=t.read(g.getBody(),d,g.selection.getRng()).map(function(r){return r.fold(function(g,d){return function(l){return m.deleteElement(g,d,S.fromDom(l)),!0}}(g,d),function(g,d){return function(l){var r=d?b.before(l):b.after(l);return g.selection.setRng(r.toRange()),!0}}(g,d),function(g){return function(d){return g.selection.setRng(d.toRange()),!0}}(g))});return l.getOr(!1)}(g,d):function(g,d){var l=g.selection.getNode();return!!u.isContentEditableFalse(l)&&(m.deleteElement(g,d,S.fromDom(g.selection.getNode())),!0)}(g,d)},paddEmptyElement:function(g){var d,l=function(g,d){for(;d&&d!==g;){if(u.isContentEditableTrue(d)||u.isContentEditableFalse(d))return d;d=d.parentNode}return null}(g.getBody(),g.selection.getNode());return u.isContentEditableTrue(l)&&g.dom.isBlock(l)&&g.dom.isEmpty(l)&&(d=g.dom.create("br",{"data-mce-bogus":"1"}),g.dom.setHTML(l,""),l.appendChild(d),g.selection.setRng(b.before(d).toRange())),!0}}}),V("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(S,b,h){var a=b.isText,t=function(i){return a(i)&&i.data[0]===h.ZWSP},m=function(i){return a(i)&&i.data[i.data.length-1]===h.ZWSP},n=function(i){return i.ownerDocument.createTextNode(h.ZWSP)},f=function(i,c){return i?function(i){if(a(i.previousSibling))return m(i.previousSibling)||i.previousSibling.appendData(h.ZWSP),i.previousSibling;if(a(i))return t(i)||i.insertData(0,h.ZWSP),i;var c=n(i);return i.parentNode.insertBefore(c,i),c}(c):function(i){if(a(i.nextSibling))return t(i.nextSibling)||i.nextSibling.insertData(0,h.ZWSP),i.nextSibling;if(a(i))return m(i)||i.appendData(h.ZWSP),i;var c=n(i);return i.nextSibling?i.parentNode.insertBefore(c,i.nextSibling):i.parentNode.appendChild(c),c}(c)};return{insertInline:f,insertInlineBefore:S.curry(f,!0),insertInlineAfter:S.curry(f,!1)}}),V("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,b,h,a,t,m){var n=a.isElement,u=a.isText,s=function(r){var o=r.parentNode;o&&o.removeChild(r)},i=function(r,o){0===o.length?s(r):r.nodeValue=o},c=function(r){var o=t.trim(r);return{count:r.length-o.length,text:o}},v=function(r,o){return l(r),o},l=function(r){if(n(r)&&b.isCaretContainer(r)&&(b.hasContent(r)?r.removeAttribute("data-mce-caret"):s(r)),u(r)){var o=t.trim(function(r){try{return r.nodeValue}catch{return""}}(r));i(r,o)}};return{removeAndReposition:function(r,o){return h.isTextPosition(o)?function(r,o){return o.container()===r?function(r,o){var E=c(r.data.substr(0,o.offset())),e=c(r.data.substr(o.offset())),C=E.text+e.text;return C.length>0?(i(r,C),new h(r,o.offset()-E.count)):o}(r,o):v(r,o)}(r,o):function(r,o){return o.container()===r.parentNode?function(r,o){var E=o.container(),e=S.indexOf(E.childNodes,r).map(function(C){return C<o.offset()?new h(E,o.offset()-1):o}).getOr(o);return l(r),e}(r,o):v(r,o)}(r,o)},remove:l}}),V("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(S,b,h,a,t,m,n){var u=function(i,c){return m.isText(i.container())?h.insertInline(c,i.container()):h.insertInline(c,i.getNode())},s=function(i,c){var v=c.get();return v&&i.container()===v&&b.isCaretContainerInline(v)};return{renderCaret:function(i,c){return c.fold(function(v){a.remove(i.get());var k=h.insertInlineBefore(v);return i.set(k),S.some(new t(k,k.length-1))},function(v){return n.findCaretPositionIn(v,!0).map(function(k){if(s(k,i))return new t(i.get(),1);a.remove(i.get());var y=u(k,!0);return i.set(y),new t(y,1)})},function(v){return n.findCaretPositionIn(v,!1).map(function(k){if(s(k,i))return new t(i.get(),i.get().length-1);a.remove(i.get());var y=u(k,!1);return i.set(y),new t(y,y.length-1)})},function(v){a.remove(i.get());var k=h.insertInlineAfter(v);return i.set(k),S.some(new t(k,1))})}}}),V("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(S){return{evaluateUntil:function(h,a){for(var t=0;t<h.length;t++){var m=h[t].apply(null,a);if(m.isSome())return m}return S.none()}}}),V("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(S,b,h,a,t,m,n,u,s,f){var i=S.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),c=function(_,A){return n.getParentBlock(A,_)||_},v=function(_,A){var F=s.normalizeForwards(A),O=c(_,F.container());return s.findRootInline(O,F).fold(function(){return s.findCaretPosition(O,!0,F).bind(b.curry(s.findRootInline,O)).map(function(R){return i.before(R)})},h.none)},k=function(_,A){var F=s.normalizeBackwards(A);return s.findRootInline(_,F).bind(function(O){return s.findCaretPosition(O,!1,F).isNone()?h.some(i.start(O)):h.none()})},y=function(_,A){var F=s.normalizeForwards(A);return s.findRootInline(_,F).bind(function(O){return s.findCaretPosition(O,!0,F).isNone()?h.some(i.end(O)):h.none()})},p=function(_,A){var F=s.normalizeBackwards(A),O=c(_,F.container());return s.findRootInline(O,F).fold(function(){return s.findCaretPosition(O,!1,F).bind(b.curry(s.findRootInline,O)).map(function(R){return i.after(R)})},h.none)},g=function(_){return!1===s.isRtl(l(_))},d=function(_,A){return f.evaluateUntil([v,k,y,p],[_,A]).filter(g)},l=function(_){return _.fold(b.identity,b.identity,b.identity,b.identity)},r=function(_){return _.fold(b.constant("before"),b.constant("start"),b.constant("end"),b.constant("after"))},o=function(_){return _.fold(i.before,i.before,i.after,i.after)},C=function(_,A,F,O,R){return a.liftN([s.findRootInline(A,F),s.findRootInline(A,O)],function(M,U){return M!==U&&s.hasSameParentBlock(A,M,U)?i.after(_?M:U):R}).getOr(R)},w=function(_,A){return _.fold(b.constant(!0),function(F){return!function(_,A){return r(_)===r(A)&&l(_)===l(A)}(F,A)})},T=function(_,A){return _?A.fold(b.compose(h.some,i.start),h.none,b.compose(h.some,i.after),h.none):A.fold(h.none,b.compose(h.some,i.before),h.none,b.compose(h.some,i.end))},N=function(_,A,F){var O=s.normalizePosition(_,F),R=d(A,O);return d(A,O).bind(b.curry(T,_)).orThunk(function(){return function(_,A,F,O){var R=s.normalizePosition(_,O);return s.findCaretPosition(A,_,R).map(b.curry(s.normalizePosition,_)).fold(function(){return F.map(o)},function(P){return d(A,P).map(b.curry(C,_,A,R,P)).filter(b.curry(w,F))}).filter(g)}(_,A,R,F)})};return{readLocation:d,prevLocation:b.curry(N,!1),nextLocation:b.curry(N,!0),getElement:l,outside:o,inside:function(_){return _.fold(i.start,i.start,i.end,i.end)}}}),V("ephox.katamari.api.Cell",[],function(){var S=function(b){var h=b,a=function(){return h};return{get:a,set:function(n){h=n},clone:function(){return S(a())}}};return S}),V("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(S,b,h,a,t,m,n,u){var s=function(l,r){var o=l.dom.createRng();o.setStart(r.container(),r.offset()),o.setEnd(r.container(),r.offset()),l.selection.setRng(o)},f=function(l){return!1!==l.settings.inline_boundaries},i=function(l,r){l?r.setAttribute("data-mce-selected","1"):r.removeAttribute("data-mce-selected","1")},c=function(l,r,o){return m.renderCaret(r,o).map(function(E){return s(l,E),o})};return{move:function(l,r,o){return function(){return!!f(l)&&function(l,r,o){var E=l.getBody(),e=t.fromRangeStart(l.selection.getRng());return(o?n.nextLocation(E,e):n.prevLocation(E,e)).bind(function(w){return c(l,r,w)})}(l,r,o).isSome()}},setupSelectedState:function(l){var r=new b(null);return l.on("NodeChange",function(o){f(l)&&(function(l,r){var o=l.select("a[href][data-mce-selected],code[data-mce-selected]"),E=S.filter(r,u.isInlineTarget);S.each(S.difference(o,E),h.curry(i,!1)),S.each(S.difference(E,o),h.curry(i,!0))}(l.dom,o.parents),function(l,r){if(l.selection.isCollapsed()&&!0!==l.composing&&r.get()){var o=t.fromRangeStart(l.selection.getRng());t.isTextPosition(o)&&!1===u.isAtZwsp(o)&&(s(l,a.removeAndReposition(r.get(),o)),r.set(null))}}(l,r),function(l,r,o){if(l.selection.isCollapsed()){var E=S.filter(o,u.isInlineTarget);S.each(E,function(e){var C=t.fromRangeStart(l.selection.getRng());n.readLocation(l.getBody(),C).bind(function(w){return c(l,r,w)})})}}(l,r,o.parents))}),r},setCaretPosition:s}}),V("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(S,b,h,a,t,m,n,u,s,f,i,c,v){var g=function(E,e){return function(C){return f.renderCaret(e,C).map(function(w){return c.setCaretPosition(E,w),!0}).getOr(!1)}},d=function(E,e,C,w){var x=E.getBody();E.undoManager.ignore(function(){E.selection.setRng(function(E,e){var C=document.createRange();return C.setStart(E.container(),E.offset()),C.setEnd(e.container(),e.offset()),C}(C,w)),E.execCommand("Delete"),i.readLocation(x,n.fromRangeStart(E.selection.getRng())).map(i.inside).map(g(E,e))}),E.nodeChanged()};return{backspaceDelete:function(E,e,C){if(E.selection.isCollapsed()&&function(E){return!1!==E.settings.inline_boundaries}(E)){var w=n.fromRangeStart(E.selection.getRng());return function(E,e,C,w){var x=function(E,e){return u.getParentBlock(e,E)||E}(E.getBody(),w.container()),T=i.readLocation(x,w);return T.bind(function(N){return C?N.fold(S.constant(b.some(i.inside(N))),b.none,S.constant(b.some(i.outside(N))),b.none):N.fold(b.none,S.constant(b.some(i.outside(N))),b.none,S.constant(b.some(i.inside(N))))}).map(g(E,e)).getOrThunk(function(){var N=m.navigate(C,x,w),_=N.bind(function(A){return i.readLocation(x,A)});return T.isSome()&&_.isSome()?v.findRootInline(x,w).map(function(A){return!!function(E){return h.liftN([v.findCaretPositionIn(E,!0),v.findCaretPositionIn(E,!1)],function(e,C){var w=v.normalizePosition(!0,e),x=v.normalizePosition(!1,C);return v.findCaretPosition(E,!0,w).map(function(T){return T.isEqual(x)}).getOr(!0)}).getOr(!0)}(A)&&(s.deleteElement(E,C,a.fromDom(A)),!0)}).getOr(!1):_.bind(function(A){return N.map(function(F){return C?d(E,e,w,F):d(E,e,F,w),!0})}).getOr(!1)})}(E,e,C,w)}return!1}}}),V("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete"],function(S,b,h,a){var t=function(s,f){s.getDoc().execCommand(f,!1,null)};return{deleteCommand:function(s){if(!h.backspaceDelete(s,!1)){if(a.backspaceDelete(s,!1))return;if(S.backspaceDelete(s,!1))return;if(b.backspaceDelete(s,!1))return;t(s,"Delete"),function(s){var f=s.dom,i=s.getBody();f.isEmpty(i)&&(s.setContent(""),i.firstChild&&f.isBlock(i.firstChild)?s.selection.setCursorLocation(i.firstChild,0):s.selection.setCursorLocation(i,0))}(s)}},forwardDeleteCommand:function(s){if(!h.backspaceDelete(s,!0)){if(a.backspaceDelete(s,!0))return;if(S.backspaceDelete(s,!0))return;if(b.backspaceDelete(s,!0))return;t(s,"ForwardDelete")}}}}),V("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType"],function(S,b,h,a){var t=function(f){return a.isElement(f)&&/^(P|H[1-6]|DIV)$/.test(f.nodeName)};return{normalize:function(f){return function(f){var i=b.fromRangeStart(f),c=b.fromRangeEnd(f),v=f.commonAncestorContainer;return!1===f.collapsed&&function(f,i){return i(f.endContainer)}(f,t)&&0===f.endOffset?S.fromPosition(!1,v,c).map(function(k){return!h.isInSameBlock(i,c,v)&&h.isInSameBlock(i,k,v)?function(f,i,c,v){var k=document.createRange();return k.setStart(f,i),k.setEnd(c,v),k}(i.container(),i.offset(),k.container(),k.offset()):f}).getOr(f):f}(f)}}}),V("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],function(S,b,h){var n=function(l){return S.grep(l.childNodes,function(r){return"LI"===r.nodeName})},s=function(l){return l.length>0&&function(l){return!l.firstChild}(l[l.length-1])?l.slice(0,-1):l},f=function(l,r){var o=l.getParent(r,l.isBlock);return o&&"LI"===o.nodeName?o:null},k=function(l,r){var o=h.after(l),e=new b(r).prev(o);return e?e.toRange():null};return{isListFragment:function(l){var r=l.firstChild,o=l.lastChild;return r&&"meta"===r.name&&(r=r.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),!(!r||r!==o||"ul"!==r.name&&"ol"!==r.name)},insertAtCaret:function(l,r,o,E){var e=function(l,r,o){var E=r.serialize(o);return function(l){var r=l.firstChild,o=l.lastChild;return r&&"META"===r.nodeName&&r.parentNode.removeChild(r),o&&"mce_marker"===o.id&&o.parentNode.removeChild(o),l}(l.createFragment(E))}(r,l,E),C=f(r,o.startContainer),w=s(n(e.firstChild)),N=r.getRoot(),_=function(A){var F=h.fromRangeStart(o),O=new b(r.getRoot()),R=1===A?O.prev(F):O.next(F);return!R||f(r,R.getNode())!==C};return _(1)?function(l,r,o){var E=l.parentNode;return S.each(r,function(e){E.insertBefore(e,l)}),function(l,r){var o=h.before(l),e=new b(r).next(o);return e?e.toRange():null}(l,o)}(C,w,N):_(2)?function(l,r,o,E){return E.insertAfter(r.reverse(),l),k(r[0],o)}(C,w,N,r):function(l,r,o,E){var e=function(l,r){var o=r.cloneRange(),E=r.cloneRange();return o.setStartBefore(l),E.setEndAfter(l),[o.cloneContents(),E.cloneContents()]}(l,E),C=l.parentNode;return C.insertBefore(e[0],l),S.each(r,function(w){C.insertBefore(w,l)}),C.insertBefore(e[1],l),C.removeChild(l),k(r[r.length-1],o)}(C,w,N,o)},isParentBlockLi:function(l,r){return!!f(l,r)},trimListItems:s,listItems:n}}),V("tinymce.core.InsertContent",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.InsertList","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n,u,s){var f=a.matchNodeNames("td th");return{insertAtCaret:function(y,p){var g=function(y){var p;return"string"!=typeof y?(p=s.extend({paste:y.paste,data:{paste:y.paste}},y),{content:y.content,details:p}):{content:y,details:{}}}(p);!function(y,p,g){var d,l,r,o,E,e,C,w,x,T,N,_,A=y.schema.getTextInlineElements(),F=y.selection,O=y.dom;/^ | $/.test(p)&&(p=function R(ne){var he,Ee,me;function $(G){return Ee[G]&&3==Ee[G].nodeType}return me=(he=F.getRng(!0)).startOffset,3==(Ee=he.startContainer).nodeType&&(me>0?ne=ne.replace(/^&nbsp;/," "):$("previousSibling")||(ne=ne.replace(/^ /,"&nbsp;")),me<Ee.length?ne=ne.replace(/&nbsp;(<br>|)$/," "):$("nextSibling")||(ne=ne.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),ne}(p)),d=y.parser,_=g.merge,l=new n({validate:y.settings.validate},y.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',y.fire("BeforeSetContent",e={content:p,format:"html",selection:!0}),-1==(p=e.content).indexOf("{$caret}")&&(p+="{$caret}"),p=p.replace(/\{\$caret\}/,N);var ee=(w=F.getRng()).startContainer||(w.parentElement?w.parentElement():null),ue=y.getBody();ee===ue&&F.isCollapsed()&&O.isBlock(ue.firstChild)&&function z(ne){return ne&&!y.schema.getShortEndedElements()[ne.nodeName]}(ue.firstChild)&&O.isEmpty(ue.firstChild)&&((w=O.createRng()).setStart(ue.firstChild,0),w.setEnd(ue.firstChild,0),F.setRng(w)),F.isCollapsed()||(y.selection.setRng(t.normalize(y.selection.getRng())),y.getDoc().execCommand("Delete",!1,null),function M(){var ne,he,Ee;Ee=(ne=F.getRng(!0)).startOffset,3==(he=ne.startContainer).nodeType&&ne.collapsed&&("\xa0"===he.data[Ee]?(he.deleteData(Ee,1),/[\u00a0| ]$/.test(p)||(p+=" ")):"\xa0"===he.data[Ee-1]&&(he.deleteData(Ee-1,1),/[\u00a0| ]$/.test(p)||(p=" "+p)))}());var ae={context:(r=F.getNode()).nodeName.toLowerCase(),data:g.data};if(E=d.parse(p,ae),!0===g.paste&&u.isListFragment(E)&&u.isParentBlockLi(O,r))return w=u.insertAtCaret(l,O,y.selection.getRng(!0),E),y.selection.setRng(w),void y.fire("SetContent",e);if(function P(ne){for(var he=ne;he=he.walk();)1===he.type&&he.attr("data-mce-fragment","1")}(E),"mce_marker"==(x=E.lastChild).attr("id"))for(C=x,x=x.prev;x;x=x.walk(!0))if(3==x.type||!O.isBlock(x.name)){y.schema.isValidChild(x.parent.name,"span")&&x.parent.insert(C,x,"br"===x.name);break}if(y._selectionOverrides.showBlockCaretContainer(r),ae.invalid){for(F.setContent(N),r=F.getNode(),o=y.getBody(),9==r.nodeType?r=x=o:x=r;x!==o;)r=x,x=x.parentNode;p=r==o?o.innerHTML:O.getOuterHTML(r),p=l.serialize(d.parse(p.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(E)}))),r==o?O.setHTML(o,p):O.setOuterHTML(r,p)}else p=l.serialize(E),function(y,p,g){if("all"===g.getAttribute("data-mce-bogus"))g.parentNode.insertBefore(y.dom.createFragment(p),g);else{var d=g.firstChild;!d||d===g.lastChild&&"BR"===d.nodeName?y.dom.setHTML(g,p):y.selection.setContent(p)}}(y,p,r);(function U(){if(_){var ne=y.getBody(),he=new h(O);s.each(O.select("*[data-mce-fragment]"),function(Ee){for(var me=Ee.parentNode;me&&me!=ne;me=me.parentNode)A[Ee.nodeName.toLowerCase()]&&he.compare(me,Ee)&&O.remove(Ee,!0)})}})(),function q(ne){var he,Ee,me;if(ne){if(F.scrollIntoView(ne),he=function $(Z){for(var Y=y.getBody();Z&&Z!==Y;Z=Z.parentNode)if("false"===y.dom.getContentEditable(Z))return Z;return null}(ne))return O.remove(ne),void F.select(he);w=O.createRng(),(x=ne.previousSibling)&&3==x.nodeType?(w.setStart(x,x.nodeValue.length),m.ie||(T=ne.nextSibling)&&3==T.nodeType&&(x.appendData(T.data),T.parentNode.removeChild(T))):(w.setStartBefore(ne),w.setEndBefore(ne)),Ee=O.getParent(ne,O.isBlock),O.remove(ne),Ee&&O.isEmpty(Ee)&&(y.$(Ee).empty(),w.setStart(Ee,0),w.setEnd(Ee,0),f(Ee)||function L(ne){return!!ne.getAttribute("data-mce-fragment")}(Ee)||!(me=function G(Z){var Y=S.fromRangeStart(Z);if(Y=new b(y.getBody()).next(Y))return Y.toRange()}(w))?O.add(Ee,O.create("br",{"data-mce-bogus":"1"})):(w=me,O.remove(Ee))),F.setRng(w)}}(O.get("mce_marker")),function B(ne){s.each(ne.getElementsByTagName("*"),function(he){he.removeAttribute("data-mce-fragment")})}(y.getBody()),y.fire("SetContent",e),y.addVisual()}(y,g.content,g.details)}}}),V("tinymce.core.EditorCommands",["tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n){var u=n.each,s=n.extend,f=n.map,i=n.inArray,c=n.explode,v=t.ie&&t.ie<11,k=!0,y=!1;return function(p){var g,d,l,E,r={state:{},exec:{},value:{}},o=p.settings;function C(B){var L;if(!p.quirks.isHidden()&&!p.removed){if(B=B.toLowerCase(),L=r.state[B])return L(B);try{return p.getDoc().queryCommandState(B)}catch{}return!1}}function x(B,L){L=L||"exec",u(B,function(z,q){u(q.toLowerCase().split(","),function(ee){r[L][ee]=z})})}function O(B,L,z){return void 0===L&&(L=y),void 0===z&&(z=null),p.getDoc().execCommand(B,L,z)}function R(B){return l.match(B)}function M(B,L){l.toggle(B,L?{value:L}:void 0),p.nodeChanged()}function U(B){E=d.getBookmark(B)}function P(){d.moveToBookmark(E)}p.on("PreInit",function(){g=p.dom,d=p.selection,o=p.settings,l=p.formatter}),s(this,{execCommand:function e(B,L,z,q){var ee,ue,ae=0;if(!p.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(B)&&(!q||!q.skip_focus)&&p.focus(),(q=p.fire("BeforeExecCommand",{command:B,ui:L,value:z})).isDefaultPrevented())return!1;if(ue=B.toLowerCase(),ee=r.exec[ue])return ee(ue,L,z),p.fire("ExecCommand",{command:B,ui:L,value:z}),!0;if(u(p.plugins,function(ne){if(ne.execCommand&&ne.execCommand(B,L,z))return p.fire("ExecCommand",{command:B,ui:L,value:z}),ae=!0,!1}),ae)return ae;if(p.theme&&p.theme.execCommand&&p.theme.execCommand(B,L,z))return p.fire("ExecCommand",{command:B,ui:L,value:z}),!0;try{ae=p.getDoc().execCommand(B,L,z)}catch{}return!!ae&&(p.fire("ExecCommand",{command:B,ui:L,value:z}),!0)}},queryCommandState:C,queryCommandValue:function w(B){var L;if(!p.quirks.isHidden()&&!p.removed){if(B=B.toLowerCase(),L=r.value[B])return L(B);try{return p.getDoc().queryCommandValue(B)}catch{}}},queryCommandSupported:function N(B){if(B=B.toLowerCase(),r.exec[B])return!0;try{return p.getDoc().queryCommandSupported(B)}catch{}return!1},addCommands:x,addCommand:function T(B,L,z){B=B.toLowerCase(),r.exec[B]=function(q,ee,ue,ae){return L.call(z||p,ee,ue,ae)}},addQueryStateHandler:function _(B,L,z){B=B.toLowerCase(),r.state[B]=function(){return L.call(z||p)}},addQueryValueHandler:function A(B,L,z){B=B.toLowerCase(),r.value[B]=function(){return L.call(z||p)}},hasCustomCommand:function F(B){return B=B.toLowerCase(),!!r.exec[B]}}),x({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){p.undoManager.add()},"Cut,Copy,Paste":function(B){var z,L=p.getDoc();try{O(B)}catch{z=k}if("paste"===B&&!L.queryCommandEnabled(B)&&(z=!0),z||!L.queryCommandSupported(B)){var q=p.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(q=q.replace(/Ctrl\+/g,"\u2318+")),p.notificationManager.open({text:q,type:"error"})}},unlink:function(){if(d.isCollapsed()){var B=p.dom.getParent(p.selection.getStart(),"a");B&&p.dom.remove(B,!0)}else l.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(B){var L=B.substring(7);"full"==L&&(L="justify"),u("left,center,right,justify".split(","),function(z){L!=z&&l.remove("align"+z)}),"none"!=L&&M("align"+L)},"InsertUnorderedList,InsertOrderedList":function(B){var L,z;O(B),(L=g.getParent(d.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((z=L.parentNode).nodeName)&&(U(),g.split(z,L),P())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(B){M(B)},"ForeColor,HiliteColor,FontName":function(B,L,z){M(B,z)},FontSize:function(B,L,z){var q,ee;z>=1&&z<=7&&(ee=c(o.font_size_style_values),z=(q=c(o.font_size_classes))?q[z-1]||z:ee[z-1]||z),M(B,z)},RemoveFormat:function(B){l.remove(B)},mceBlockQuote:function(){M("blockquote")},FormatBlock:function(B,L,z){return M(z||"p")},mceCleanup:function(){var B=d.getBookmark();p.setContent(p.getContent({cleanup:k}),{cleanup:k}),d.moveToBookmark(B)},mceRemoveNode:function(B,L,z){var q=z||d.getNode();q!=p.getBody()&&(U(),p.dom.remove(q,k),P())},mceSelectNodeDepth:function(B,L,z){var q=0;g.getParent(d.getNode(),function(ee){if(1==ee.nodeType&&q++==z)return d.select(ee),y},p.getBody())},mceSelectNode:function(B,L,z){d.select(z)},mceInsertContent:function(B,L,z){m.insertAtCaret(p,z)},mceInsertRawHTML:function(B,L,z){d.setContent("tiny_mce_marker"),p.setContent(p.getContent().replace(/tiny_mce_marker/g,function(){return z}))},mceToggleFormat:function(B,L,z){M(z)},mceSetContent:function(B,L,z){p.setContent(z)},"Indent,Outdent":function(B){var L,z,q;z=/[a-z%]+$/i.exec(L=o.indentation),L=parseInt(L,10),C("InsertUnorderedList")||C("InsertOrderedList")?O(B):(!o.forced_root_block&&!g.getParent(d.getNode(),g.isBlock)&&l.apply("div"),u(d.getSelectedBlocks(),function(ee){if("false"!==g.getContentEditable(ee)&&"LI"!==ee.nodeName){var ue=p.getParam("indent_use_margin",!1)?"margin":"padding";ue="TABLE"===ee.nodeName?"margin":ue,ue+="rtl"==g.getStyle(ee,"direction",!0)?"Right":"Left","outdent"==B?(q=Math.max(0,parseInt(ee.style[ue]||0,10)-L),g.setStyle(ee,ue,q?q+z:"")):(q=parseInt(ee.style[ue]||0,10)+L+z,g.setStyle(ee,ue,q))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){p.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){p.hasVisual=!p.hasVisual,p.addVisual()},mceReplaceContent:function(B,L,z){p.execCommand("mceInsertContent",!1,z.replace(/\{\$selection\}/g,d.getContent({format:"text"})))},mceInsertLink:function(B,L,z){var q;"string"==typeof z&&(z={href:z}),q=g.getParent(d.getNode(),"a"),z.href=z.href.replace(" ","%20"),(!q||!z.href)&&l.remove("link"),z.href&&l.apply("link",z,q)},selectAll:function(){var L,B=g.getRoot();if(d.getRng().setStart){var z=g.getParent(d.getStart(),b.isContentEditableTrue);z&&((L=g.createRng()).selectNodeContents(z),d.setRng(L))}else(L=d.getRng()).item||(L.moveToElementText(B),L.select())},delete:function(){S.deleteCommand(p)},forwardDelete:function(){S.forwardDeleteCommand(p)},mceNewDocument:function(){p.setContent("")},InsertLineBreak:function(B,L,z){var ee,ue,ae,q=z,ne=d.getRng(!0);new h(g).normalize(ne);var he=ne.startOffset,Ee=ne.startContainer;if(1==Ee.nodeType&&Ee.hasChildNodes()){var me=he>Ee.childNodes.length-1;Ee=Ee.childNodes[Math.min(he,Ee.childNodes.length-1)]||Ee,he=me&&3==Ee.nodeType?Ee.nodeValue.length:0}var $=g.getParent(Ee,g.isBlock),G=$?$.nodeName.toUpperCase():"",Z=$?g.getParent($.parentNode,g.isBlock):null,Y=Z?Z.nodeName.toUpperCase():"";"LI"==Y&&!(q&&q.ctrlKey)&&($=Z,G=Y),Ee&&3==Ee.nodeType&&he>=Ee.nodeValue.length&&!v&&!function ke(){for(var K,oe=new a(Ee,$),se=p.schema.getNonEmptyElements();K=oe.next();)if(se[K.nodeName.toLowerCase()]||K.length>0)return!0}()&&(ee=g.create("br"),ne.insertNode(ee),ne.setStartAfter(ee),ne.setEndAfter(ee),ue=!0),ee=g.create("br"),ne.insertNode(ee);var ye=g.doc.documentMode;return v&&"PRE"==G&&(!ye||ye<8)&&ee.parentNode.insertBefore(g.doc.createTextNode("\r"),ee),ae=g.create("span",{},"&nbsp;"),ee.parentNode.insertBefore(ae,ee),d.scrollIntoView(ae),g.remove(ae),ue?(ne.setStartBefore(ee),ne.setEndBefore(ee)):(ne.setStartAfter(ee),ne.setEndAfter(ee)),d.setRng(ne),p.undoManager.add(),k}}),x({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(B){var L="align"+B.substring(7),z=d.isCollapsed()?[g.getParent(d.getNode(),g.isBlock)]:d.getSelectedBlocks(),q=f(z,function(ee){return!!l.matchNode(ee,L)});return-1!==i(q,k)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(B){return R(B)},mceBlockQuote:function(){return R("blockquote")},Outdent:function(){var B;return o.inline_styles&&((B=g.getParent(d.getStart(),g.isBlock))&&parseInt(B.style.paddingLeft,10)>0||(B=g.getParent(d.getEnd(),g.isBlock))&&parseInt(B.style.paddingLeft,10)>0)?k:C("InsertUnorderedList")||C("InsertOrderedList")||!o.inline_styles&&!!g.getParent(d.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(B){var L=g.getParent(d.getNode(),"ul,ol");return L&&("insertunorderedlist"===B&&"UL"===L.tagName||"insertorderedlist"===B&&"OL"===L.tagName)}},"state"),x({"FontSize,FontName":function(B){var z,L=0;return(z=g.getParent(d.getNode(),"span"))&&(L="fontsize"==B?z.style.fontSize:z.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),L}},"value"),x({Undo:function(){p.undoManager.undo()},Redo:function(){p.undoManager.redo()}})}}),V("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(S,b){var h=b.each,a=b.trim,t="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),m={ftp:21,http:80,https:443,mailto:25};function n(u,s){var i,c,f=this;if(u=a(u),i=(s=f.settings=s||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(u)||/^\s*#/.test(u))f.source=u;else{var v=0===u.indexOf("//");0===u.indexOf("/")&&!v&&(u=(i&&i.protocol||"http")+"://mce_host"+u),/^[\w\-]*:?\/\//.test(u)||(c=s.base_uri?s.base_uri.path:new n(S.location.href).directory,""===s.base_uri.protocol?u="//mce_host"+f.toAbsPath(c,u):(u=/([^#?]*)([#?]?.*)/.exec(u),u=(i&&i.protocol||"http")+"://mce_host"+f.toAbsPath(c,u[1])+u[2])),u=u.replace(/@@/g,"(mce_at)"),u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(u),h(t,function(k,y){var p=u[y];p&&(p=p.replace(/\(mce_at\)/g,"@@")),f[k]=p}),i&&(f.protocol||(f.protocol=i.protocol),f.userInfo||(f.userInfo=i.userInfo),!f.port&&"mce_host"===f.host&&(f.port=i.port),(!f.host||"mce_host"===f.host)&&(f.host=i.host),f.source=""),v&&(f.protocol="")}}return n.prototype={setPath:function(u){var s=this;u=/^(.*?)\/?(\w+)?$/.exec(u),s.path=u[0],s.directory=u[1],s.file=u[2],s.source="",s.getURI()},toRelative:function(u){var f,s=this;if("./"===u)return u;if("mce_host"!=(u=new n(u,{base_uri:s})).host&&s.host!=u.host&&u.host||s.port!=u.port||s.protocol!=u.protocol&&""!==u.protocol)return u.getURI();var i=s.getURI(),c=u.getURI();return i==c||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==c?i:(f=s.toRelPath(s.path,u.path),u.query&&(f+="?"+u.query),u.anchor&&(f+="#"+u.anchor),f)},toAbsolute:function(u,s){return(u=new n(u,{base_uri:this})).getURI(s&&this.isSameOrigin(u))},isSameOrigin:function(u){if(this.host==u.host&&this.protocol==u.protocol){if(this.port==u.port)return!0;var s=m[this.protocol];if(s&&(this.port||s)==(u.port||s))return!0}return!1},toRelPath:function(u,s){var f,v,k,i=0,c="";if(u=(u=u.substring(0,u.lastIndexOf("/"))).split("/"),f=s.split("/"),u.length>=f.length)for(v=0,k=u.length;v<k;v++)if(v>=f.length||u[v]!=f[v]){i=v+1;break}if(u.length<f.length)for(v=0,k=f.length;v<k;v++)if(v>=u.length||u[v]!=f[v]){i=v+1;break}if(1===i)return s;for(v=0,k=u.length-(i-1);v<k;v++)c+="../";for(v=i-1,k=f.length;v<k;v++)c+=v!=i-1?"/"+f[v]:f[v];return c},toAbsPath:function(u,s){var f,v,k,i=0,c=[];for(v=/\/$/.test(s)?"/":"",u=u.split("/"),s=s.split("/"),h(u,function(y){y&&c.push(y)}),u=c,f=s.length-1,c=[];f>=0;f--)if(0!==s[f].length&&"."!==s[f]){if(".."===s[f]){i++;continue}if(i>0){i--;continue}c.push(s[f])}return 0!==(k=(f=u.length-i)<=0?c.reverse().join("/"):u.slice(0,f).join("/")+"/"+c.reverse().join("/")).indexOf("/")&&(k="/"+k),v&&k.lastIndexOf("/")!==k.length-1&&(k+=v),k},getURI:function(u){var s,f=this;return(!f.source||u)&&(s="",u||(s+=f.protocol?f.protocol+"://":"//",f.userInfo&&(s+=f.userInfo+"@"),f.host&&(s+=f.host),f.port&&(s+=":"+f.port)),f.path&&(s+=f.path),f.query&&(s+="?"+f.query),f.anchor&&(s+="#"+f.anchor),f.source=s),f.source}},n.parseDataUri=function(u){var s,f;return u=decodeURIComponent(u).split(","),(f=/data:([^;]+)/.exec(u[0]))&&(s=f[1]),{type:s,data:u[1]}},n.getDocumentBaseUrl=function(u){var s;return s=0!==u.protocol.indexOf("http")&&"file:"!==u.protocol?u.href:u.protocol+"//"+u.host+u.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s},n}),V("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(S){var a,t,b=S.each,h=S.extend;function m(){}return m.extend=a=function(n){var f,i,c,s=this.prototype;function v(){var p,g,d,l=this;if(!t&&(l.init&&l.init.apply(l,arguments),g=l.Mixins))for(p=g.length;p--;)(d=g[p]).init&&d.init.apply(l,arguments)}function k(){return this}function y(p,g){return function(){var r,d=this,l=d._super;return d._super=s[p],r=g.apply(d,arguments),d._super=l,r}}for(i in t=!0,f=new this,t=!1,n.Mixins&&(b(n.Mixins,function(p){for(var g in p)"init"!==g&&(n[g]=p[g])}),s.Mixins&&(n.Mixins=s.Mixins.concat(n.Mixins))),n.Methods&&b(n.Methods.split(","),function(p){n[p]=k}),n.Properties&&b(n.Properties.split(","),function(p){var g="_"+p;n[p]=function(d){var l=this;return void 0!==d?(l[g]=d,l):l[g]}}),n.Statics&&b(n.Statics,function(p,g){v[g]=p}),n.Defaults&&s.Defaults&&(n.Defaults=h({},s.Defaults,n.Defaults)),n)f[i]="function"==typeof(c=n[i])&&s[i]?y(i,c):c;return v.prototype=f,v.constructor=v,v.extend=a,v},m}),V("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(S){var b=S.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function h(a){var m,u,t=this,n={};function s(){return!1}function f(){return!0}function c(p,g,d,l){var r,o,E;if(!1===g&&(g=s),g)for(g={func:g},l&&S.extend(g,l),E=(o=p.toLowerCase().split(" ")).length;E--;)(r=n[p=o[E]])||(r=n[p]=[],u(p,!0)),d?r.unshift(g):r.push(g);return t}function v(p,g){var d,l,r,o,E;if(p)for(d=(o=p.toLowerCase().split(" ")).length;d--;){if(l=n[p=o[d]],!p){for(r in n)u(r,!1),delete n[r];return t}if(l){if(g)for(E=l.length;E--;)l[E].func===g&&(l=l.slice(0,E).concat(l.slice(E+1)),n[p]=l);else l.length=0;l.length||(u(p,!1),delete n[p])}}else{for(p in n)u(p,!1);n={}}return t}m=(a=a||{}).scope||t,u=a.toggleEvent||s,t.fire=function i(p,g){var d,l,r,o;if(p=p.toLowerCase(),(g=g||{}).type=p,g.target||(g.target=m),g.preventDefault||(g.preventDefault=function(){g.isDefaultPrevented=f},g.stopPropagation=function(){g.isPropagationStopped=f},g.stopImmediatePropagation=function(){g.isImmediatePropagationStopped=f},g.isDefaultPrevented=s,g.isPropagationStopped=s,g.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(g),d=n[p])for(l=0,r=d.length;l<r;l++){if((o=d[l]).once&&v(p,o.func),g.isImmediatePropagationStopped())return g.stopPropagation(),g;if(!1===o.func.call(m,g))return g.preventDefault(),g}return g},t.on=c,t.off=v,t.once=function k(p,g,d){return c(p,g,d,{once:!0})},t.has=function y(p){return p=p.toLowerCase(),!(!n[p]||0===n[p].length)}}return h.isNative=function(a){return!!b[a.toLowerCase()]},h}),V("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(S){function b(h){return h._eventDispatcher||(h._eventDispatcher=new S({scope:h,toggleEvent:function(a,t){S.isNative(a)&&h.toggleNativeEvent&&h.toggleNativeEvent(a,t)}})),h._eventDispatcher}return{fire:function(h,a,t){var m=this;if(m.removed&&"remove"!==h)return a;if(a=b(m).fire(h,a,t),!1!==t&&m.parent)for(var n=m.parent();n&&!a.isPropagationStopped();)n.fire(h,a,!1),n=n.parent();return a},on:function(h,a,t){return b(this).on(h,a,t)},off:function(h,a){return b(this).off(h,a)},once:function(h,a){return b(this).once(h,a)},hasEventListeners:function(h){return b(this).has(h)}}}),V("tinymce.core.data.Binding",[],function(){function S(b){this.create=b.create}return S.create=function(b,h){return new S({create:function(a,t){var m;function n(s){a.set(t,s.value)}return a.on("change:"+t,function u(s){b.set(h,s.value)}),b.on("change:"+h,n),(m=a._bindings)||(m=a._bindings=[],a.on("destroy",function(){for(var s=m.length;s--;)m[s]()})),m.push(function(){b.off("change:"+h,n)}),b.get(h)}})},S}),V("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(S,b,h,a){function t(n){return n.nodeType>0}function m(n,u){var s,f;if(n===u)return!0;if(null===n||null===u||"object"!=typeof n||"object"!=typeof u)return n===u;if(a.isArray(u)){if(n.length!==u.length)return!1;for(s=n.length;s--;)if(!m(n[s],u[s]))return!1}if(t(n)||t(u))return n===u;for(s in f={},u){if(!m(n[s],u[s]))return!1;f[s]=!0}for(s in n)if(!f[s]&&!m(n[s],u[s]))return!1;return!0}return b.extend({Mixins:[h],init:function(n){var u,s;for(u in n=n||{})(s=n[u])instanceof S&&(n[u]=s.create(this,u));this.data=n},set:function(n,u){var s,f,i=this.data[n];if(u instanceof S&&(u=u.create(this,n)),"object"==typeof n){for(s in n)this.set(s,n[s]);return this}return m(i,u)||(this.data[n]=u,this.fire("change:"+n,f={target:this,name:n,value:u,oldValue:i}),this.fire("change",f)),this},get:function(n){return this.data[n]},has:function(n){return n in this.data},bind:function(n){return S.create(this,n)},destroy:function(){this.fire("destroy")}})}),V("tinymce.core.ui.Selector",["tinymce.core.util.Class"],function(S){"use strict";var m,h=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=/^\s*|\s*$/g,n=S.extend({init:function(u){var s=this.match;function y(g,d,l){var r;function o(E){E&&d.push(E)}return o(function f(g){if(g)return g=g.toLowerCase(),function(d){return"*"===g||d.type===g}}((r=h.exec(g.replace(t,"")))[1])),o(function i(g){if(g)return function(d){return d._name===g}}(r[2])),o(function c(g){if(g)return g=g.split("."),function(d){for(var l=g.length;l--;)if(!d.classes.contains(g[l]))return!1;return!0}}(r[3])),o(function v(g,d,l){if(g)return function(r){var o=r[g]?r[g]():"";return d?"="===d?o===l:"*="===d?o.indexOf(l)>=0:"~="===d?(" "+o+" ").indexOf(" "+l+" ")>=0:"!="===d?o!=l:"^="===d?0===o.indexOf(l):"$="===d&&o.substr(o.length-l.length)===l:!!l}}(r[4],r[5],r[6])),o(function k(g){var d;if(g)return(g=/(?:not\((.+)\))|(.+)/i.exec(g))[1]?(d=p(g[1],[]),function(l){return!s(l,d)}):(g=g[2],function(l,r,o){return"first"===g?0===r:"last"===g?r===o-1:"even"===g?r%2==0:"odd"===g?r%2==1:!!l[g]&&l[g]()})}(r[7])),d.pseudo=!!r[7],d.direct=l,d}function p(g,d){var r,o,E,l=[];do{if(a.exec(""),(o=a.exec(g))&&(g=o[3],l.push(o[1]),o[2])){r=o[3];break}}while(o);for(r&&p(r,d),g=[],E=0;E<l.length;E++)">"!=l[E]&&g.push(y(l[E],[],">"===l[E-1]));return d.push(g),d}this._selectors=p(u,[])},match:function(u,s){var f,i,c,v,k,y,p,g,d,l,r,o,E;for(f=0,i=(s=s||this._selectors).length;f<i;f++){for(E=u,o=0,c=(v=(k=s[f]).length)-1;c>=0;c--)for(g=k[c];E;){if(g.pseudo)for(d=l=(r=E.parent().items()).length;d--&&r[d]!==E;);for(y=0,p=g.length;y<p;y++)if(!g[y](E,d,l)){y=p+1;break}if(y===p){o++;break}if(c===v-1)break;E=E.parent()}if(o===v)return!0}return!1},find:function(u){var f,i,s=[],c=this._selectors;function v(k,y,p){var g,d,l,r,o,E=y[p];for(g=0,d=k.length;g<d;g++){for(o=k[g],l=0,r=E.length;l<r;l++)if(!E[l](o,g,d)){l=r+1;break}if(l===r)p==y.length-1?s.push(o):o.items&&v(o.items(),y,p+1);else if(E.direct)return;o.items&&v(o.items(),y,p)}}if(u.items){for(f=0,i=c.length;f<i;f++)v(u.items(),c[f],0);i>1&&(s=function b(u){for(var i,s=[],f=u.length;f--;)(i=u[f]).__checked||(s.push(i),i.__checked=1);for(f=s.length;f--;)delete s[f].__checked;return s}(s))}return m||(m=n.Collection),new m(s)}});return n}),V("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],function(S,b,h){"use strict";var a,t,m=Array.prototype.push,n=Array.prototype.slice;return t={length:0,init:function(u){u&&this.add(u)},add:function(u){var s=this;return S.isArray(u)?m.apply(s,u):u instanceof a?s.add(u.toArray()):m.call(s,u),s},set:function(u){var i,s=this,f=s.length;for(s.length=0,s.add(u),i=s.length;i<f;i++)delete s[i];return s},filter:function(u){var f,i,v,k,c=[];for("string"==typeof u?(u=new b(u),k=function(y){return u.match(y)}):k=u,f=0,i=this.length;f<i;f++)k(v=this[f])&&c.push(v);return new a(c)},slice:function(){return new a(n.apply(this,arguments))},eq:function(u){return-1===u?this.slice(u):this.slice(u,+u+1)},each:function(u){return S.each(this,u),this},toArray:function(){return S.toArray(this)},indexOf:function(u){for(var f=this.length;f--&&this[f]!==u;);return f},reverse:function(){return new a(S.toArray(this).reverse())},hasClass:function(u){return!!this[0]&&this[0].classes.contains(u)},prop:function(u,s){var c,f=this;return void 0!==s?(f.each(function(v){v[u]&&v[u](s)}),f):(c=f[0])&&c[u]?c[u]():void 0},exec:function(u){var f=S.toArray(arguments).slice(1);return this.each(function(i){i[u]&&i[u].apply(i,f)}),this},remove:function(){for(var u=this.length;u--;)this[u].remove();return this},addClass:function(u){return this.each(function(s){s.classes.add(u)})},removeClass:function(u){return this.each(function(s){s.classes.remove(u)})}},S.each("fire on off show hide append prepend before after reflow".split(" "),function(u){t[u]=function(){var s=S.toArray(arguments);return this.each(function(f){u in f&&f[u].apply(f,s)}),this}}),S.each("text name disabled active selected checked visible parent value data".split(" "),function(u){t[u]=function(s){return this.prop(u,s)}}),a=h.extend(t),b.Collection=a,a}),V("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],function(S,b,h){"use strict";var a=0,t={id:function(){return"mceu_"+a++},create:function(m,n,u){var s=document.createElement(m);return h.DOM.setAttribs(s,n),"string"==typeof u?s.innerHTML=u:b.each(u,function(f){f.nodeType&&s.appendChild(f)}),s},createFragment:function(m){return h.DOM.createFragment(m)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(m){var n,u;if(m.getBoundingClientRect){var s=m.getBoundingClientRect();n=Math.max(s.width||s.right-s.left,m.offsetWidth),u=Math.max(s.height||s.bottom-s.bottom,m.offsetHeight)}else n=m.offsetWidth,u=m.offsetHeight;return{width:n,height:u}},getPos:function(m,n){return h.DOM.getPos(m,n||t.getContainer())},getContainer:function(){return S.container?S.container:document.body},getViewPort:function(m){return h.DOM.getViewPort(m)},get:function(m){return document.getElementById(m)},addClass:function(m,n){return h.DOM.addClass(m,n)},removeClass:function(m,n){return h.DOM.removeClass(m,n)},hasClass:function(m,n){return h.DOM.hasClass(m,n)},toggleClass:function(m,n,u){return h.DOM.toggleClass(m,n,u)},css:function(m,n,u){return h.DOM.setStyle(m,n,u)},getRuntimeStyle:function(m,n){return h.DOM.getStyle(m,n,!0)},on:function(m,n,u,s){return h.DOM.bind(m,n,u,s)},off:function(m,n,u){return h.DOM.unbind(m,n,u)},fire:function(m,n,u){return h.DOM.fire(m,n,u)},innerHtml:function(m,n){h.DOM.setHTML(m,n)}};return t}),V("tinymce.core.ui.BoxUtils",[],function(){"use strict";return{parseBox:function(S){var b;if(S)return"number"==typeof S?{top:S=S||0,left:S,bottom:S,right:S}:(1===(b=(S=S.split(" ")).length)?S[1]=S[2]=S[3]=S[0]:2===b?(S[2]=S[0],S[3]=S[1]):3===b&&(S[3]=S[1]),{top:parseInt(S[0],10)||0,right:parseInt(S[1],10)||0,bottom:parseInt(S[2],10)||0,left:parseInt(S[3],10)||0})},measureBox:function(S,b){function a(t){var m=parseFloat(function h(t){var m=document.defaultView;return m?(t=t.replace(/[A-Z]/g,function(n){return"-"+n}),m.getComputedStyle(S,null).getPropertyValue(t)):S.currentStyle[t]}(t),10);return isNaN(m)?0:m}return{top:a(b+"TopWidth"),right:a(b+"RightWidth"),bottom:a(b+"BottomWidth"),left:a(b+"LeftWidth")}}}}),V("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],function(S){"use strict";function b(){}function h(a){this.cls=[],this.cls._map={},this.onchange=a||b,this.prefix=""}return S.extend(h.prototype,{add:function(a){return a&&!this.contains(a)&&(this.cls._map[a]=!0,this.cls.push(a),this._change()),this},remove:function(a){if(this.contains(a)){for(var t=0;t<this.cls.length&&this.cls[t]!==a;t++);this.cls.splice(t,1),delete this.cls._map[a],this._change()}return this},toggle:function(a,t){var m=this.contains(a);return m!==t&&(m?this.remove(a):this.add(a),this._change()),this},contains:function(a){return!!this.cls._map[a]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),h.prototype.toString=function(){var a;if(this.clsValue)return this.clsValue;a="";for(var t=0;t<this.cls.length;t++)t>0&&(a+=" "),a+=this.prefix+this.cls[t];return a},h}),V("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],function(S){var h,b={};return{add:function(a){var t=a.parent();if(t){if(!t._layout||t._layout.isNative())return;b[t._id]||(b[t._id]=t),h||(h=!0,S.requestAnimationFrame(function(){var m,n;for(m in h=!1,b)(n=b[m]).state.get("rendered")&&n.reflow();b={}},document.body))}},remove:function(a){b[a._id]&&delete b[a._id]}}}),V("tinymce.core.ui.Control",["tinymce.core.util.Class","tinymce.core.util.Tools","tinymce.core.util.EventDispatcher","tinymce.core.data.ObservableObject","tinymce.core.ui.Collection","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.BoxUtils","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(S,b,h,a,t,m,n,u,s,f){"use strict";var k,i="onmousewheel"in document,c=!1,v="mce-",y=0,p={Statics:{classPrefix:v},isRtl:function(){return k.rtl},classPrefix:v,init:function(l){var o,E,r=this;function e(C){var w;for(C=C.split(" "),w=0;w<C.length;w++)r.classes.add(C[w])}r.settings=l=b.extend({},r.Defaults,l),r._id=l.id||"mceu_"+y++,r._aria={role:l.role},r._elmCache={},r.$=n,r.state=new a({visible:!0,active:!1,disabled:!1,value:""}),r.data=new a(l.data),r.classes=new s(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(o=l.classes)&&(r.Defaults&&(E=r.Defaults.classes)&&o!=E&&e(E),e(o)),b.each("title text name visible disabled active value".split(" "),function(C){C in l&&r[C](l[C])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=l,r.borderBox=u.parseBox(l.border),r.paddingBox=u.parseBox(l.padding),r.marginBox=u.parseBox(l.margin),l.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){return m.getContainer()},getParentCtrl:function(l){for(var r,o=this.getRoot().controlIdLookup;l&&o&&!(r=o[l.id]);)l=l.parentNode;return r},initLayoutRect:function(){var o,E,C,w,x,T,N,_,A,F,l=this,r=l.settings,e=l.getEl();o=l.borderBox=l.borderBox||u.measureBox(e,"border"),l.paddingBox=l.paddingBox||u.measureBox(e,"padding"),l.marginBox=l.marginBox||u.measureBox(e,"margin"),F=m.getSize(e),x=(_=r.minWidth)||F.width,T=(A=r.minHeight)||F.height,C=r.width,w=r.height,N=typeof(N=r.autoResize)<"u"?N:!C&&!w;var O=o.left+o.right,R=o.top+o.bottom,M=r.maxWidth||65535,U=r.maxHeight||65535;return l._layoutRect=E={x:r.x||0,y:r.y||0,w:C=C||x,h:w=w||T,deltaW:O,deltaH:R,contentW:C-O,contentH:w-R,innerW:C-O,innerH:w-R,startMinWidth:_||0,startMinHeight:A||0,minW:Math.min(x,M),minH:Math.min(T,U),maxW:M,maxH:U,autoResize:N,scrollW:0},l._lastLayoutRect={},E},layoutRect:function(l){var E,e,C,w,x,T,r=this,o=r._layoutRect;return o||(o=r.initLayoutRect()),l?(C=o.deltaW,w=o.deltaH,l.x!==x&&(o.x=l.x),l.y!==x&&(o.y=l.y),l.minW!==x&&(o.minW=l.minW),l.minH!==x&&(o.minH=l.minH),(e=l.w)!==x&&(o.w=e=(e=e<o.minW?o.minW:e)>o.maxW?o.maxW:e,o.innerW=e-C),(e=l.h)!==x&&(o.h=e=(e=e<o.minH?o.minH:e)>o.maxH?o.maxH:e,o.innerH=e-w),(e=l.innerW)!==x&&(o.innerW=e=(e=e<o.minW-C?o.minW-C:e)>o.maxW-C?o.maxW-C:e,o.w=e+C),(e=l.innerH)!==x&&(o.innerH=e=(e=e<o.minH-w?o.minH-w:e)>o.maxH-w?o.maxH-w:e,o.h=e+w),l.contentW!==x&&(o.contentW=l.contentW),l.contentH!==x&&(o.contentH=l.contentH),((E=r._lastLayoutRect).x!==o.x||E.y!==o.y||E.w!==o.w||E.h!==o.h)&&((T=k.repaintControls)&&T.map&&!T.map[r._id]&&(T.push(r),T.map[r._id]=!0),E.x=o.x,E.y=o.y,E.w=o.w,E.h=o.h),r):o},repaint:function(){var r,o,E,e,C,w,x,T,N,_,l=this;N=document.createRange?function(A){return A}:Math.round,r=l.getEl().style,w=(C=l.borderBox).left+C.right,x=C.top+C.bottom,(e=l._layoutRect).x!==(T=l._lastRepaintRect||{}).x&&(r.left=N(e.x)+"px",T.x=e.x),e.y!==T.y&&(r.top=N(e.y)+"px",T.y=e.y),e.w!==T.w&&(_=N(e.w-w),r.width=(_>=0?_:0)+"px",T.w=e.w),e.h!==T.h&&(_=N(e.h-x),r.height=(_>=0?_:0)+"px",T.h=e.h),l._hasBody&&e.innerW!==T.innerW&&(_=N(e.innerW),(E=l.getEl("body"))&&((o=E.style).width=(_>=0?_:0)+"px"),T.innerW=e.innerW),l._hasBody&&e.innerH!==T.innerH&&(_=N(e.innerH),(E=E||l.getEl("body"))&&((o=o||E.style).height=(_>=0?_:0)+"px"),T.innerH=e.innerH),l._lastRepaintRect=T,l.fire("repaint",{},!1)},updateLayoutRect:function(){var l=this;l.parent()._lastRect=null,m.css(l.getEl(),{width:"",height:""}),l._layoutRect=l._lastRepaintRect=l._lastLayoutRect=null,l.initLayoutRect()},on:function(l,r){var o=this;return g(o).on(l,function E(e){var C,w;return"string"!=typeof e?e:function(x){return C||o.parentsAndSelf().each(function(T){var N=T.settings.callbacks;if(N&&(C=N[e]))return w=T,!1}),C?C.call(w,x):(x.action=e,void this.fire("execute",x))}}(r)),o},off:function(l,r){return g(this).off(l,r),this},fire:function(l,r,o){var E=this;if((r=r||{}).control||(r.control=E),r=g(E).fire(l,r),!1!==o&&E.parent)for(var e=E.parent();e&&!r.isPropagationStopped();)e.fire(l,r,!1),e=e.parent();return r},hasEventListeners:function(l){return g(this).has(l)},parents:function(l){var o,E=new t;for(o=this.parent();o;o=o.parent())E.add(o);return l&&(E=E.filter(l)),E},parentsAndSelf:function(l){return new t(this).add(this.parents(l))},next:function(){var l=this.parent().items();return l[l.indexOf(this)+1]},prev:function(){var l=this.parent().items();return l[l.indexOf(this)-1]},innerHtml:function(l){return this.$el.html(l),this},getEl:function(l){var r=l?this._id+"-"+l:this._id;return this._elmCache[r]||(this._elmCache[r]=n("#"+r)[0]),this._elmCache[r]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(l,r){var o=this,E=o.getEl(o.ariaTarget);return typeof r>"u"?o._aria[l]:(o._aria[l]=r,o.state.get("rendered")&&E.setAttribute("role"==l?l:"aria-"+l,r),o)},encode:function(l,r){return!1!==r&&(l=this.translate(l)),(l||"").replace(/[&<>"]/g,function(o){return"&#"+o.charCodeAt(0)+";"})},translate:function(l){return k.translate?k.translate(l):l},before:function(l){var r=this,o=r.parent();return o&&o.insert(l,o.items().indexOf(r),!0),r},after:function(l){var r=this,o=r.parent();return o&&o.insert(l,o.items().indexOf(r)),r},remove:function(){var E,e,l=this,r=l.getEl(),o=l.parent();if(l.items){var C=l.items().toArray();for(e=C.length;e--;)C[e].remove()}o&&o.items&&(E=[],o.items().each(function(x){x!==l&&E.push(x)}),o.items().set(E),o._lastRect=null),l._eventsRoot&&l._eventsRoot==l&&n(r).off();var w=l.getRoot().controlIdLookup;return w&&delete w[l._id],r&&r.parentNode&&r.parentNode.removeChild(r),l.state.set("rendered",!1),l.state.destroy(),l.fire("remove"),l},renderBefore:function(l){return n(l).before(this.renderHtml()),this.postRender(),this},renderTo:function(l){return n(l||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var o,E,e,C,w,l=this,r=l.settings;for(C in l.$el=n(l.getEl()),l.state.set("rendered",!0),r)0===C.indexOf("on")&&l.on(C.substr(2),r[C]);if(l._eventsRoot){for(e=l.parent();!w&&e;e=e.parent())w=e._eventsRoot;if(w)for(C in w._nativeEvents)l._nativeEvents[C]=!0}d(l),r.style&&(o=l.getEl())&&(o.setAttribute("style",r.style),o.style.cssText=r.style),l.settings.border&&l.$el.css({"border-top-width":(E=l.borderBox).top,"border-right-width":E.right,"border-bottom-width":E.bottom,"border-left-width":E.left});var x=l.getRoot();for(var T in x.controlIdLookup||(x.controlIdLookup={}),x.controlIdLookup[l._id]=l,l._aria)l.aria(T,l._aria[T]);!1===l.state.get("visible")&&(l.getEl().style.display="none"),l.bindStates(),l.state.on("change:visible",function(N){var A,_=N.value;l.state.get("rendered")&&(l.getEl().style.display=!1===_?"none":"",l.getEl().getBoundingClientRect()),(A=l.parent())&&(A._lastRect=null),l.fire(_?"show":"hide"),f.add(l)}),l.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(l){var e,C,w,x,T,N,o=this.getEl(),E=o.parentNode,_=function r(A,F){var O,R,M=A;for(O=R=0;M&&M!=F&&M.nodeType;)O+=M.offsetLeft||0,R+=M.offsetTop||0,M=M.offsetParent;return{x:O,y:R}}(o,E);return e=_.x,C=_.y,w=o.offsetWidth,x=o.offsetHeight,T=E.clientWidth,N=E.clientHeight,"end"==l?(e-=T-w,C-=N-x):"center"==l&&(e-=T/2-w/2,C-=N/2-x/2),E.scrollLeft=e,E.scrollTop=C,this},getRoot:function(){for(var r,l=this,o=[];l;){if(l.rootControl){r=l.rootControl;break}o.push(l),r=l,l=l.parent()}r||(r=this);for(var E=o.length;E--;)o[E].rootControl=r;return r},reflow:function(){f.remove(this);var l=this.parent();return l&&l._layout&&!l._layout.isNative()&&l.reflow(),this}};function g(l){return l._eventDispatcher||(l._eventDispatcher=new h({scope:l,toggleEvent:function(r,o){o&&h.isNative(r)&&(l._nativeEvents||(l._nativeEvents={}),l._nativeEvents[r]=!0,l.state.get("rendered")&&d(l))}})),l._eventDispatcher}function d(l){var r,o,E,e,C,w;function x(F){var O=l.getParentCtrl(F.target);O&&O.fire(F.type,F)}function T(){var F=e._lastHoverCtrl;F&&(F.fire("mouseleave",{target:F.getEl()}),F.parents().each(function(O){O.fire("mouseleave",{target:O.getEl()})}),e._lastHoverCtrl=null)}function N(F){var U,P,B,O=l.getParentCtrl(F.target),R=e._lastHoverCtrl,M=0;if(O!==R){if(e._lastHoverCtrl=O,(P=O.parents().toArray().reverse()).push(O),R){for((B=R.parents().toArray().reverse()).push(R),M=0;M<B.length&&P[M]===B[M];M++);for(U=B.length-1;U>=M;U--)(R=B[U]).fire("mouseleave",{target:R.getEl()})}for(U=M;U<P.length;U++)(O=P[U]).fire("mouseenter",{target:O.getEl()})}}function _(F){F.preventDefault(),"mousewheel"==F.type?(F.deltaY=-1/40*F.wheelDelta,F.wheelDeltaX&&(F.deltaX=-1/40*F.wheelDeltaX)):(F.deltaX=0,F.deltaY=F.detail),F=l.fire("wheel",F)}if(C=l._nativeEvents){for((E=l.parents().toArray()).unshift(l),r=0,o=E.length;!e&&r<o;r++)e=E[r]._eventsRoot;for(e||(e=E[E.length-1]||l),l._eventsRoot=e,o=r,r=0;r<o;r++)E[r]._eventsRoot=e;var A=e._delegates;for(w in A||(A=e._delegates={}),C){if(!C)return!1;"wheel"!==w||c?("mouseenter"===w||"mouseleave"===w?e._hasMouseEnter||(n(e.getEl()).on("mouseleave",T).on("mouseover",N),e._hasMouseEnter=1):A[w]||(n(e.getEl()).on(w,x),A[w]=!0),C[w]=!1):i?n(l.getEl()).on("mousewheel",_):n(l.getEl()).on("DOMMouseScroll",_)}}}return b.each("text title visible disabled active value".split(" "),function(l){p[l]=function(r){return 0===arguments.length?this.state.get(l):(typeof r<"u"&&this.state.set(l,r),this)}}),k=S.extend(p)}),V("tinymce.core.ui.Factory",[],function(){"use strict";var S={};return{add:function(b,h){S[b.toLowerCase()]=h},has:function(b){return!!S[b.toLowerCase()]},create:function(b,h){var a;if("string"==typeof b?(h=h||{}).type=b:b=(h=b).type,b=b.toLowerCase(),!(a=S[b]))throw new Error("Could not find control by type: "+b);return(a=new a(h)).type=b,a}}}),V("tinymce.core.ui.KeyboardNavigation",[],function(){"use strict";var S=function(b){return!!b.getAttribute("data-mce-tabstop")};return function(b){var a,t,h=b.root;function m(C){return C&&1===C.nodeType}try{a=document.activeElement}catch{a=document.body}function n(C){return m(C=C||a)?C.getAttribute("role"):null}function u(C){for(var w,x=C||a;x=x.parentNode;)if(w=n(x))return w}function s(C){var w=a;if(m(w))return w.getAttribute("aria-"+C)}function f(C){var w=C.tagName.toUpperCase();return"INPUT"==w||"TEXTAREA"==w||"SELECT"==w}function c(C){var w=[];return function x(T){if(1==T.nodeType&&"none"!=T.style.display&&!T.disabled){(function i(C){return!!(f(C)&&!C.hidden||S(C)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(C)))})(T)&&w.push(T);for(var N=0;N<T.childNodes.length;N++)x(T.childNodes[N])}}(C||h.getEl()),w}function v(C){var w,x;(x=(C=C||t).parents().toArray()).unshift(C);for(var T=0;T<x.length&&!(w=x[T]).settings.ariaRoot;T++);return w}function y(C,w){return C<0?C=w.length-1:C>=w.length&&(C=0),w[C]&&w[C].focus(),C}function p(C,w){var x=-1,T=v();w=w||c(T.getEl());for(var N=0;N<w.length;N++)w[N]===a&&(x=N);T.lastAriaIndex=y(x+=C,w)}function g(){"tablist"==u()?p(-1,c(a.parentNode)):t.parent().submenu?E():p(-1)}function d(){var C=n(),w=u();"tablist"==w?p(1,c(a.parentNode)):"menuitem"==C&&"menu"==w&&s("haspopup")?e():p(1)}function l(){p(-1)}function r(){var C=n(),w=u();"menuitem"==C&&"menubar"==w?e():"button"==C&&s("haspopup")?e({key:"down"}):p(1)}function E(){t.fire("cancel")}function e(C){t.fire("click",{target:a,aria:C=C||{}})}return t=h.getParentCtrl(a),h.on("keydown",function(C){function w(x,T){f(a)||S(a)||"slider"!==n(a)&&!1!==T(x)&&x.preventDefault()}if(!C.isDefaultPrevented())switch(C.keyCode){case 37:w(C,g);break;case 39:w(C,d);break;case 38:w(C,l);break;case 40:w(C,r);break;case 27:E();break;case 14:case 13:case 32:w(C,e);break;case 9:!1!==function o(C){if("tablist"==u()){var x=c(t.getEl("body"))[0];x&&x.focus()}else p(C.shiftKey?-1:1)}(C)&&C.preventDefault()}}),h.on("focusin",function(C){a=C.target,t=C.control}),{focusFirst:function k(C){var w=v(C),x=c(w.getEl());y(w.settings.ariaRemember&&"lastAriaIndex"in w?w.lastAriaIndex:0,x)}}}}),V("tinymce.core.ui.Container",["tinymce.core.ui.Control","tinymce.core.ui.Collection","tinymce.core.ui.Selector","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(S,b,h,a,t,m,n,u,s){"use strict";var f={};return S.extend({init:function(i){var c=this;c._super(i),(i=c.settings).fixed&&c.state.set("fixed",!0),c._items=new b,c.isRtl()&&c.classes.add("rtl"),c.bodyClasses=new u(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())}),c.bodyClasses.prefix=c.classPrefix,c.classes.add("container"),c.bodyClasses.add("container-body"),i.containerCls&&c.classes.add(i.containerCls),c._layout=a.create((i.layout||"")+"layout"),c.add(c.settings.items?c.settings.items:c.render()),c._hasBody=!0},items:function(){return this._items},find:function(i){return(i=f[i]=f[i]||new h(i)).find(this)},add:function(i){var c=this;return c.items().add(c.create(i)).parent(c),c},focus:function(i){var v,k,y,c=this;if(!i||!(k=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav))return y=c.find("*"),c.statusbar&&y.add(c.statusbar.items()),y.each(function(p){if(p.settings.autofocus)return v=null,!1;p.canFocus&&(v=v||p)}),v&&v.focus(),c;k.focusFirst(c)},replace:function(i,c){for(var v,k=this.items(),y=k.length;y--;)if(k[y]===i){k[y]=c;break}y>=0&&((v=c.getEl())&&v.parentNode.removeChild(v),(v=i.getEl())&&v.parentNode.removeChild(v)),c.parent(this)},create:function(i){var v,c=this,k=[];return m.isArray(i)||(i=[i]),m.each(i,function(y){y&&(y instanceof S||("string"==typeof y&&(y={type:y}),v=m.extend({},c.settings.defaults,y),y.type=v.type=v.type||y.type||c.settings.defaultType||(v.defaults?v.defaults.type:null),y=a.create(v)),k.push(y))}),k},renderNew:function(){var i=this;return i.items().each(function(c,v){var k;c.parent(i),c.state.get("rendered")||((k=i.getEl("body")).hasChildNodes()&&v<=k.childNodes.length-1?n(k.childNodes[v]).before(c.renderHtml()):n(k).append(c.renderHtml()),c.postRender(),s.add(c))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(i){return this.add(i).renderNew()},prepend:function(i){var c=this;return c.items().set(c.create(i).concat(c.items().toArray())),c.renderNew()},insert:function(i,c,v){var y,p,g,k=this;return i=k.create(i),y=k.items(),!v&&c<y.length-1&&(c+=1),c>=0&&c<y.length&&(p=y.slice(0,c).toArray(),g=y.slice(c).toArray(),y.set(p.concat(i,g))),k.renderNew()},fromJSON:function(i){for(var v in i)this.find("#"+v).value(i[v]);return this},toJSON:function(){var c={};return this.find("*").each(function(v){var k=v.name(),y=v.value();k&&typeof y<"u"&&(c[k]=y)}),c},renderHtml:function(){var i=this,c=i._layout,v=this.settings.role;return i.preRender(),c.preRender(i),'<div id="'+i._id+'" class="'+i.classes+'"'+(v?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+(i.settings.html||"")+c.renderHtml(i)+"</div></div>"},postRender:function(){var c,i=this;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i.state.set("rendered",!0),i.settings.style&&i.$el.css(i.settings.style),i.settings.border&&i.$el.css({"border-top-width":(c=i.borderBox).top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left}),i.parent()||(i.keyboardNav=new t({root:i})),i},initLayoutRect:function(){var i=this,c=i._super();return i._layout.recalc(i),c},recalc:function(){var i=this,c=i._layoutRect,v=i._lastRect;if(!v||v.w!=c.w||v.h!=c.h)return i._layout.recalc(i),c=i.layoutRect(),i._lastRect={x:c.x,y:c.y,w:c.w,h:c.h},!0},reflow:function(){var i;if(s.remove(this),this.visible()){for(S.repaintControls=[],S.repaintControls.map={},this.recalc(),i=S.repaintControls.length;i--;)S.repaintControls[i].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),S.repaintControls=[]}return this}})}),V("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],function(S){"use strict";function h(a){var t,m;if(a.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),m=0;m<t.length;m++)a[t[m]]=a.changedTouches[0][t[m]]}return function(a,t){var m,u,s,f,i,c,v,n=t.document||document;function k(){return n.getElementById(t.handle||a)}t=t||{},s=function(y){var g,d,p=function b(a){var t,m,n,u,s,f,i,v=Math.max;return n=v((t=a.documentElement).scrollWidth,(m=a.body).scrollWidth),u=v(t.clientWidth,m.clientWidth),s=v(t.offsetWidth,m.offsetWidth),f=v(t.scrollHeight,m.scrollHeight),i=v(t.clientHeight,m.clientHeight),{width:n<s?u:n,height:f<v(t.offsetHeight,m.offsetHeight)?i:f}}(n);h(y),y.preventDefault(),u=y.button,g=k(),c=y.screenX,v=y.screenY,d=window.getComputedStyle?window.getComputedStyle(g,null).getPropertyValue("cursor"):g.runtimeStyle.cursor,m=S("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(n.body),S(n).on("mousemove touchmove",i).on("mouseup touchend",f),t.start(y)},i=function(y){if(h(y),y.button!==u)return f(y);y.deltaX=y.screenX-c,y.deltaY=y.screenY-v,y.preventDefault(),t.drag(y)},f=function(y){h(y),S(n).off("mousemove touchmove",i).off("mouseup touchend",f),m.remove(),t.stop&&t.stop(y)},this.destroy=function(){S(k()).off()},S(k()).on("mousedown touchstart",s)}}),V("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper"],function(S,b){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var h=this,a=2;function t(){var n,u,s;function f(i,c,v,k,y,p){var g,d,l,r,E,e,C,w;if(d=h.getEl("scroll"+i)){if(C=c.toLowerCase(),w=v.toLowerCase(),S(h.getEl("absend")).css(C,h.layoutRect()[k]-1),!y)return void S(d).css("display","none");S(d).css("display","block"),g=h.getEl("body"),l=h.getEl("scroll"+i+"t"),r=g["client"+v]-2*a,E=(r-=n&&u?d["client"+p]:0)/g["scroll"+v],(e={})[C]=g["offset"+c]+a,e[w]=r,S(d).css(e),(e={})[C]=g["scroll"+c]*E,e[w]=r*E,S(l).css(e)}}s=h.getEl("body"),u=s.scrollHeight>s.clientHeight,f("h","Left","Width","contentW",n=s.scrollWidth>s.clientWidth,"Height"),f("v","Top","Height","contentH",u,"Width")}h.settings.autoScroll&&(h._hasScroll||(h._hasScroll=!0,function m(){function n(u,s,f,i,c){var v,k=h._id+"-scroll"+u,y=h.classPrefix;S(h.getEl()).append('<div id="'+k+'" class="'+y+"scrollbar "+y+"scrollbar-"+u+'"><div id="'+k+'t" class="'+y+'scrollbar-thumb"></div></div>'),h.draghelper=new b(k+"t",{start:function(){v=h.getEl("body")["scroll"+s],S("#"+k).addClass(y+"active")},drag:function(p){var g,d,l,r,o=h.layoutRect();d=o.contentW>o.innerW,l=o.contentH>o.innerH,r=h.getEl("body")["client"+f]-2*a,g=(r-=d&&l?h.getEl("scroll"+u)["client"+c]:0)/h.getEl("body")["scroll"+f],h.getEl("body")["scroll"+s]=v+p["delta"+i]/g},stop:function(){S("#"+k).removeClass(y+"active")}})}h.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),h.on("wheel",function(n){var u=h.getEl("body");u.scrollLeft+=10*(n.deltaX||0),u.scrollTop+=10*n.deltaY,t()}),S(h.getEl("body")).on("scroll",t)),t())}}}),V("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],function(S,b){"use strict";return S.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[b],renderHtml:function(){var h=this,a=h._layout,t=h.settings.html;return h.preRender(),a.preRender(h),typeof t>"u"?t='<div id="'+h._id+'-body" class="'+h.bodyClasses+'">'+a.renderHtml(h)+"</div>":("function"==typeof t&&(t=t.call(h)),h._hasBody=!1),'<div id="'+h._id+'" class="'+h.classes+'" hidefocus="1" tabindex="-1" role="group">'+(h._preBodyHtml||"")+t+"</div>"}})}),V("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],function(S){"use strict";function b(h,a,t){var m,n,u,s,f,i,c,v,k,y;return k=S.getViewPort(),u=(n=S.getPos(a)).x,s=n.y,h.state.get("fixed")&&"static"==S.getRuntimeStyle(document.body,"position")&&(u-=k.x,s-=k.y),m=h.getEl(),f=(y=S.getSize(m)).width,i=y.height,c=(y=S.getSize(a)).width,v=y.height,"b"===(t=(t||"").split(""))[0]&&(s+=v),"r"===t[1]&&(u+=c),"c"===t[0]&&(s+=Math.round(v/2)),"c"===t[1]&&(u+=Math.round(c/2)),"b"===t[3]&&(s-=i),"r"===t[4]&&(u-=f),"c"===t[3]&&(s-=Math.round(i/2)),"c"===t[4]&&(u-=Math.round(f/2)),{x:u,y:s,w:f,h:i}}return{testMoveRel:function(h,a){for(var t=S.getViewPort(),m=0;m<a.length;m++){var n=b(this,h,a[m]);if(this.state.get("fixed")){if(n.x>0&&n.x+n.w<t.w&&n.y>0&&n.y+n.h<t.h)return a[m]}else if(n.x>t.x&&n.x+n.w<t.w+t.x&&n.y>t.y&&n.y+n.h<t.h+t.y)return a[m]}return a[0]},moveRel:function(h,a){"string"!=typeof a&&(a=this.testMoveRel(h,a));var t=b(this,h,a);return this.moveTo(t.x,t.y)},moveBy:function(h,a){var t=this,m=t.layoutRect();return t.moveTo(m.x+h,m.y+a),t},moveTo:function(h,a){var t=this;function m(s,f,i){return s<0||s+i>f&&(s=f-i)<0?0:s}if(t.settings.constrainToViewport){var n=S.getViewPort(window),u=t.layoutRect();h=m(h,n.w+n.x,u.w),a=m(a,n.h+n.y,u.h)}return t.state.get("rendered")?t.layoutRect({x:h,y:a}).repaint():(t.settings.x=h,t.settings.y=a),t.fire("move",{x:h,y:a}),t}}}),V("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],function(S){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,h){if(b<=1||h<=1){var a=S.getWindowSize();b=b<=1?b*a.w:b,h=h<=1?h*a.h:h}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:h,w:b,h}).reflow()},resizeBy:function(b,h){var t=this.layoutRect();return this.resizeTo(t.w+b,t.h+h)}}}),V("tinymce.core.ui.FloatPanel",["tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.Delay"],function(S,b,h,a,t,m){"use strict";var n,u,s,c,f=[],i=[];function v(E,e){for(;E;){if(E==e)return!0;E=E.parent()}}function d(E){var e=a.getViewPort().y;function C(w,x){for(var T,N=0;N<f.length;N++)if(f[N]!=E)for(T=f[N].parent();T&&(T=T.parent());)T==E&&f[N].fixed(w).moveBy(0,x).repaint()}E.settings.autofix&&(E.state.get("fixed")?E._autoFixY>e&&(E.fixed(!1).layoutRect({y:E._autoFixY}).repaint(),C(!1,E._autoFixY-e)):(E._autoFixY=E.layoutRect().y,E._autoFixY<e&&(E.fixed(!0).layoutRect({y:0}).repaint(),C(!0,e-E._autoFixY))))}function l(E,e){var C,x,w=r.zIndex||65535;if(E)i.push(e);else for(C=i.length;C--;)i[C]===e&&i.splice(C,1);if(i.length)for(C=0;C<i.length;C++)i[C].modal&&(w++,x=i[C]),i[C].getEl().style.zIndex=w,i[C].zIndex=w,w++;var T=t("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];x?t(T).css("z-index",x.zIndex-1):T&&(T.parentNode.removeChild(T),c=!1),r.currentZIndex=w}var r=S.extend({Mixins:[b,h],init:function(E){var e=this;e._super(E),e._eventsRoot=e,e.classes.add("floatpanel"),E.autohide&&(function y(){n||(n=function(E){2!=E.button&&function k(E){for(var e=f.length;e--;){var C=f[e],w=C.getParentCtrl(E.target);if(C.settings.autohide){if(w&&(v(w,C)||C.parent()===w))continue;(E=C.fire("autohide",{target:E.target})).isDefaultPrevented()||C.hide()}}}(E)},t(document).on("click touchstart",n))}(),function g(){if(!s){var E=document.documentElement,e=E.clientWidth,C=E.clientHeight;s=function(){(!document.all||e!=E.clientWidth||C!=E.clientHeight)&&(e=E.clientWidth,C=E.clientHeight,r.hideAll())},t(window).on("resize",s)}}(),f.push(e)),E.autofix&&(function p(){u||(u=function(){var E;for(E=f.length;E--;)d(f[E])},t(window).on("scroll",u))}(),e.on("move",function(){d(this)})),e.on("postrender show",function(C){if(C.control==e){var w,x=e.classPrefix;e.modal&&!c&&((w=t("#"+x+"modal-block",e.getContainerElm()))[0]||(w=t('<div id="'+x+'modal-block" class="'+x+"reset "+x+'fade"></div>').appendTo(e.getContainerElm())),m.setTimeout(function(){w.addClass(x+"in"),t(e.getEl()).addClass(x+"in")}),c=!0),l(!0,e)}}),e.on("show",function(){e.parents().each(function(C){if(C.state.get("fixed"))return e.fixed(!0),!1})}),E.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",E.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(E){var e=this;if(e.state.get("fixed")!=E){if(e.state.get("rendered")){var C=a.getViewPort();E?e.layoutRect().y-=C.y:e.layoutRect().y+=C.y}e.classes.toggle("fixed",E),e.state.set("fixed",E)}return e},show:function(){var e,E=this,C=E._super();for(e=f.length;e--&&f[e]!==E;);return-1===e&&f.push(E),C},hide:function(){return o(this),l(!1,this),this._super()},hideAll:function(){r.hideAll()},close:function(){var E=this;return E.fire("close").isDefaultPrevented()||(E.remove(),l(!1,E)),E},remove:function(){o(this),this._super()},postRender:function(){var E=this;return E.settings.bodyRole&&this.getEl("body").setAttribute("role",E.settings.bodyRole),E._super()}});function o(E){var e;for(e=f.length;e--;)f[e]===E&&f.splice(e,1);for(e=i.length;e--;)i[e]===E&&i.splice(e,1)}return r.hideAll=function(){for(var E=f.length;E--;){var e=f[E];e&&e.settings.autohide&&(e.hide(),f.splice(E,1))}},r}),V("tinymce.core.ui.Window",["tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper","tinymce.core.ui.BoxUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(S,b,h,a,t,m,n,u){"use strict";var s=[],f="";function i(p){var l,d=a("meta[name=viewport]")[0];!1!==n.overrideViewPort&&(d||((d=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(d)),(l=d.getAttribute("content"))&&typeof f<"u"&&(f=l),d.setAttribute("content",p?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":f))}var y=S.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(p){var g=this;g._super(p),g.isRtl()&&g.classes.add("rtl"),g.classes.add("window"),g.bodyClasses.add("window-body"),g.state.set("fixed",!0),p.buttons&&(g.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:g.isRtl()?"start":"end",defaults:{type:"button"},items:p.buttons}),g.statusbar.classes.add("foot"),g.statusbar.parent(g)),g.on("click",function(d){var l=g.classPrefix+"close";(h.hasClass(d.target,l)||h.hasClass(d.target.parentNode,l))&&g.close()}),g.on("cancel",function(){g.close()}),g.aria("describedby",g.describedBy||g._id+"-none"),g.aria("label",p.title),g._fullscreen=!1},recalc:function(){var d,l,r,o,p=this,g=p.statusbar;p._fullscreen&&(p.layoutRect(h.getWindowSize()),p.layoutRect().contentH=p.layoutRect().innerH),p._super(),d=p.layoutRect(),p.settings.title&&!p._fullscreen&&(l=d.headerW)>d.w&&(r=d.x-Math.max(0,l/2),p.layoutRect({w:l,x:r}),o=!0),g&&(g.layoutRect({w:p.layoutRect().innerW}).recalc(),(l=g.layoutRect().minW+d.deltaW)>d.w&&(r=d.x-Math.max(0,l-d.w),p.layoutRect({w:l,x:r}),o=!0)),o&&p.recalc()},initLayoutRect:function(){var l,p=this,g=p._super(),d=0;if(p.settings.title&&!p._fullscreen){l=p.getEl("head");var r=h.getSize(l);g.headerW=r.width,g.headerH=r.height,d+=g.headerH}p.statusbar&&(d+=p.statusbar.layoutRect().h),g.deltaH+=d,g.minH+=d,g.h+=d;var o=h.getWindowSize();return g.x=p.settings.x||Math.max(0,o.w/2-g.w/2),g.y=p.settings.y||Math.max(0,o.h/2-g.h/2),g},renderHtml:function(){var p=this,g=p._layout,d=p._id,l=p.classPrefix,r=p.settings,o="",E="",e=r.html;return p.preRender(),g.preRender(p),r.title&&(o='<div id="'+d+'-head" class="'+l+'window-head"><div id="'+d+'-title" class="'+l+'title">'+p.encode(r.title)+'</div><div id="'+d+'-dragh" class="'+l+'dragh"></div><button type="button" class="'+l+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(e='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),typeof e>"u"&&(e=g.renderHtml(p)),p.statusbar&&(E=p.statusbar.renderHtml()),'<div id="'+d+'" class="'+p.classes+'" hidefocus="1"><div class="'+p.classPrefix+'reset" role="application">'+o+'<div id="'+d+'-body" class="'+p.bodyClasses+'">'+e+"</div>"+E+"</div></div>"},fullscreen:function(p){var l,o,g=this,d=document.documentElement,r=g.classPrefix;if(p!=g._fullscreen)if(a(window).on("resize",function(){var e;if(g._fullscreen)if(l)g._timer||(g._timer=u.setTimeout(function(){var w=h.getWindowSize();g.moveTo(0,0).resizeTo(w.w,w.h),g._timer=0},50));else{e=(new Date).getTime();var C=h.getWindowSize();g.moveTo(0,0).resizeTo(C.w,C.h),(new Date).getTime()-e>50&&(l=!0)}}),o=g.layoutRect(),g._fullscreen=p,p){g._initial={x:o.x,y:o.y,w:o.w,h:o.h},g.borderBox=m.parseBox("0"),g.getEl("head").style.display="none",o.deltaH-=o.headerH+2,a([d,document.body]).addClass(r+"fullscreen"),g.classes.add("fullscreen");var E=h.getWindowSize();g.moveTo(0,0).resizeTo(E.w,E.h)}else g.borderBox=m.parseBox(g.settings.border),g.getEl("head").style.display="",o.deltaH+=o.headerH,a([d,document.body]).removeClass(r+"fullscreen"),g.classes.remove("fullscreen"),g.moveTo(g._initial.x,g._initial.y).resizeTo(g._initial.w,g._initial.h);return g.reflow()},postRender:function(){var g,p=this;setTimeout(function(){p.classes.add("in"),p.fire("open")},0),p._super(),p.statusbar&&p.statusbar.postRender(),p.focus(),this.dragHelper=new t(p._id+"-dragh",{start:function(){g={x:p.layoutRect().x,y:p.layoutRect().y}},drag:function(d){p.moveTo(g.x+d.deltaX,g.y+d.deltaY)}}),p.on("submit",function(d){d.isDefaultPrevented()||p.close()}),s.push(p),i(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var g,p=this;for(p.dragHelper.destroy(),p._super(),p.statusbar&&this.statusbar.remove(),function c(p,g){(function v(){for(var p=0;p<s.length;p++)if(s[p]._fullscreen)return!0;return!1})()&&!1===g&&a([document.documentElement,document.body]).removeClass(p+"fullscreen")}(p.classPrefix,!1),g=s.length;g--;)s[g]===p&&s.splice(g,1);i(s.length>0)},getContentWindow:function(){var p=this.getEl().getElementsByTagName("iframe")[0];return p?p.contentWindow:null}});return function k(){if(!n.desktop){var p={w:window.innerWidth,h:window.innerHeight};u.setInterval(function(){var d=window.innerWidth,l=window.innerHeight;(p.w!=d||p.h!=l)&&(p={w:d,h:l},a(window).trigger("resize"))},100)}a(window).on("resize",function g(){var d,r,l=h.getWindowSize();for(d=0;d<s.length;d++)r=s[d].layoutRect(),s[d].moveTo(s[d].settings.x||Math.max(0,l.w/2-r.w/2),s[d].settings.y||Math.max(0,l.h/2-r.h/2))})}(),y}),V("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],function(S){"use strict";var b=S.extend({init:function(h){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(h){var a,t=h.callback||function(){};function m(n,u,s){return{type:"button",text:n,subtype:s?"primary":"",onClick:function(f){f.control.parents()[1].close(),t(u)}}}switch(h.buttons){case b.OK_CANCEL:a=[m("Ok",!0,!0),m("Cancel",!1)];break;case b.YES_NO:case b.YES_NO_CANCEL:a=[m("Yes",1,!0),m("No",0)],h.buttons==b.YES_NO_CANCEL&&a.push(m("Cancel",-1));break;default:a=[m("Ok",!0,!0)]}return new S({padding:20,x:h.x,y:h.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:a,title:h.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:h.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:h.onClose,onCancel:function(){t(!1)}}).renderTo(document.body).reflow()},alert:function(h,a){return"string"==typeof h&&(h={text:h}),h.callback=a,b.msgBox(h)},confirm:function(h,a){return"string"==typeof h&&(h={text:h}),h.callback=a,h.buttons=b.OK_CANCEL,b.msgBox(h)}}});return b}),V("tinymce.core.WindowManager",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],function(S,b){return function(h){var a=this,t=[];function m(){if(t.length)return t[t.length-1]}function n(s){h.fire("OpenWindow",{win:s})}function u(s){h.fire("CloseWindow",{win:s})}a.windows=t,h.on("remove",function(){for(var s=t.length;s--;)t[s].close()}),a.open=function(s,f){var i;return h.editorManager.setActive(h),s.title=s.title||" ",s.url=s.url||s.file,s.url&&(s.width=parseInt(s.width||320,10),s.height=parseInt(s.height||240,10)),s.body&&(s.items={defaults:s.defaults,type:s.bodyType||"form",items:s.body,data:s.data,callbacks:s.commands}),!s.url&&!s.buttons&&(s.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new S(s),t.push(i),i.on("close",function(){for(var c=t.length;c--;)t[c]===i&&t.splice(c,1);t.length||h.focus(),u(i)}),s.data&&i.on("postRender",function(){this.find("*").each(function(c){var v=c.name();v in s.data&&c.value(s.data[v])})}),i.features=s||{},i.params=f||{},1===t.length&&h.nodeChanged(),n(i=i.renderTo().reflow()),i},a.alert=function(s,f,i){var c;(c=b.alert(s,function(){f?f.call(i||this):h.focus()})).on("close",function(){u(c)}),n(c)},a.confirm=function(s,f,i){var c;(c=b.confirm(s,function(v){f.call(i||this,v)})).on("close",function(){u(c)}),n(c)},a.close=function(){m()&&m().close()},a.getParams=function(){return m()?m().params:null},a.setParams=function(s){m()&&(m().params=s)},a.getWindows=function(){return t}}}),V("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],function(S,b){return S.extend({Mixins:[b],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var h=this,a=h.classPrefix;return'<div id="'+h._id+'" class="'+h.classes+'" role="presentation"><div class="'+a+'tooltip-arrow"></div><div class="'+a+'tooltip-inner">'+h.encode(h.state.get("text"))+"</div></div>"},bindStates:function(){var h=this;return h.state.on("change:text",function(a){h.getEl().lastChild.innerHTML=h.encode(a.value)}),h._super()},repaint:function(){var a,t;(a=this.getEl().style).left=(t=this._layoutRect).x+"px",a.top=t.y+"px",a.zIndex=131070}})}),V("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],function(S,b){"use strict";var h,a=S.extend({init:function(t){var m=this;m._super(t),t=m.settings,m.canFocus=!0,t.tooltip&&!1!==a.tooltips&&(m.on("mouseenter",function(n){var u=m.tooltip().moveTo(-65535);if(n.control==m){var s=u.text(t.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);u.classes.toggle("tooltip-n","bc-tc"==s),u.classes.toggle("tooltip-nw","bc-tl"==s),u.classes.toggle("tooltip-ne","bc-tr"==s),u.moveRel(m.getEl(),s)}else u.hide()}),m.on("mouseleave mousedown click",function(){m.tooltip().hide()})),m.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return h||(h=new b({type:"tooltip"})).renderTo(),h},postRender:function(){var t=this,m=t.settings;t._super(),!t.parent()&&(m.width||m.height)&&(t.initLayoutRect(),t.repaint()),m.autofocus&&t.focus()},bindStates:function(){var t=this;function m(u){t.aria("disabled",u),t.classes.toggle("disabled",u)}function n(u){t.aria("pressed",u),t.classes.toggle("active",u)}return t.state.on("change:disabled",function(u){m(u.value)}),t.state.on("change:active",function(u){n(u.value)}),t.state.get("disabled")&&m(!0),t.state.get("active")&&n(!0),t._super()},remove:function(){this._super(),h&&(h.remove(),h=null)}});return a}),V("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{value:0},init:function(b){var h=this;h._super(b),h.classes.add("progress"),h.settings.filter||(h.settings.filter=function(a){return Math.round(a)})},renderHtml:function(){var a=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+a+'bar-container"><div class="'+a+'bar"></div></div><div class="'+a+'text">0%</div></div>'},postRender:function(){var b=this;return b._super(),b.value(b.settings.value),b},bindStates:function(){var b=this;function h(a){a=b.settings.filter(a),b.getEl().lastChild.innerHTML=a+"%",b.getEl().firstChild.firstChild.style.width=a+"%"}return b.state.on("change:value",function(a){h(a.value)}),h(b.state.get("value")),b._super()}})}),V("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],function(S,b,h,a){return S.extend({Mixins:[b],Defaults:{classes:"widget notification"},init:function(t){var m=this;m._super(t),t.text&&m.text(t.text),t.icon&&(m.icon=t.icon),t.color&&(m.color=t.color),t.type&&m.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?m.closeButton=!1:(m.classes.add("has-close"),m.closeButton=!0),t.progressBar&&(m.progressBar=new h),m.on("click",function(n){-1!=n.target.className.indexOf(m.classPrefix+"close")&&m.close()})},renderHtml:function(){var t=this,m=t.classPrefix,n="",u="",s="",f="";return t.icon&&(n='<i class="'+m+"ico "+m+"i-"+t.icon+'"></i>'),t.color&&(f=' style="background-color: '+t.color+'"'),t.closeButton&&(u='<button type="button" class="'+m+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(s=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+f+' role="presentation">'+n+'<div class="'+m+'notification-inner">'+t.state.get("text")+"</div>"+s+u+"</div>"},postRender:function(){var t=this;return a.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(m){t.getEl().childNodes[1].innerHTML=m.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var m,n;(m=this.getEl().style).left=(n=this._layoutRect).x+"px",m.top=n.y+"px",m.zIndex=65534}})}),V("tinymce.core.NotificationManager",["tinymce.core.ui.Notification","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(S,b,h){return function(a){var t=this,m=[];function n(){if(m.length)return m[m.length-1]}function f(){if(m.length>0){var k=m.slice(0,1)[0],y=a.inline?a.getElement():a.getContentAreaContainer();if(k.moveRel(y,"tc-tc"),m.length>1)for(var p=1;p<m.length;p++)m[p].moveRel(m[p-1].getEl(),"bc-tc")}}t.notifications=m,a.on("remove",function(){for(var k=m.length;k--;)m[k].close()}),a.on("ResizeEditor",f),a.on("ResizeWindow",function u(){b.requestAnimationFrame(function(){(function s(){for(var k=0;k<m.length;k++)m[k].moveTo(0,0)})(),f()})}),t.open=function(k){if(!a.removed){var y;a.editorManager.setActive(a);var p=function i(k,y){if(!function v(k){return!k.progressBar&&!k.timeout}(y))return null;var p=h.grep(k,function(g){return function c(k,y){return k.type===y.settings.type&&k.text===y.settings.text}(y,g)});return 0===p.length?null:p[0]}(m,k);return null===p?(y=new S(k),m.push(y),k.timeout>0&&(y.timer=setTimeout(function(){y.close()},k.timeout)),y.on("close",function(){var g=m.length;for(y.timer&&a.getWin().clearTimeout(y.timer);g--;)m[g]===y&&m.splice(g,1);f()}),y.renderTo(),f()):y=p,y}},t.close=function(){n()&&n().close()},t.getNotifications=function(){return m},a.on("SkinLoaded",function(){var k=a.settings.service_message;k&&a.notificationManager.open({text:k,type:"warning",timeout:0,icon:""})})}}),V("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(S,b,h){var t,a=b.DOM;function m(s,f){return"selectionchange"==f?s.getDoc():!s.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(f)?s.getDoc().documentElement:s.settings.event_root?(s.eventRoot||(s.eventRoot=a.select(s.settings.event_root)[0]),s.eventRoot):s.getBody()}function n(s,f){var i,c;function v(k){return!k.hidden&&!k.readonly}if(s.delegates||(s.delegates={}),!s.delegates[f]&&!s.removed)if(i=m(s,f),s.settings.event_root){if(t||(t={},s.editorManager.on("removeEditor",function(){var k;if(!s.editorManager.activeEditor&&t){for(k in t)s.dom.unbind(m(s,k));t=null}})),t[f])return;t[f]=c=function(k){for(var y=k.target,p=s.editorManager.editors,g=p.length;g--;){var d=p[g].getBody();(d===y||a.isChildOf(y,d))&&v(p[g])&&p[g].fire(f,k)}},a.bind(i,f,c)}else a.bind(i,f,c=function(k){v(s)&&s.fire(f,k)}),s.delegates[f]=c}var u={bindPendingEventDelegates:function(){var s=this;h.each(s._pendingNativeEvents,function(f){n(s,f)})},toggleNativeEvent:function(s,f){var i=this;"focus"==s||"blur"==s||(f?i.initialized?n(i,s):i._pendingNativeEvents?i._pendingNativeEvents.push(s):i._pendingNativeEvents=[s]:i.initialized&&(i.dom.unbind(m(i,s),s,i.delegates[s]),delete i.delegates[s]))},unbindAllNativeEvents:function(){var f,s=this;if(s.delegates){for(f in s.delegates)s.dom.unbind(m(s,f),f,s.delegates[f]);delete s.delegates}s.inline||(s.getBody().onload=null,s.dom.unbind(s.getWin()),s.dom.unbind(s.getDoc())),s.dom.unbind(s.getBody()),s.dom.unbind(s.getContainer())}};return h.extend({},S,u)}),V("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(S,b){var h=S.each,a=S.explode,t={f9:120,f10:121,f11:122},m=S.makeMap("alt,ctrl,shift,meta,access");return function(n){var s={},f=[];function i(g){var d,l,r={};for(l in h(a(g,"+"),function(o){o in m?r[o]=!0:/^[0-9]{2,}$/.test(o)?r.keyCode=parseInt(o,10):(r.charCode=o.charCodeAt(0),r.keyCode=t[o]||o.toUpperCase().charCodeAt(0))}),d=[r.keyCode],m)r[l]?d.push(l):r[l]=!1;return r.id=d.join(","),r.access&&(r.alt=!0,b.mac?r.ctrl=!0:r.shift=!0),r.meta&&(b.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r}function c(g,d,l,r){var o;return(o=S.map(a(g,">"),i))[o.length-1]=S.extend(o[o.length-1],{func:l,scope:r||n}),S.extend(o[0],{desc:n.translate(d),subpatterns:o.slice(1)})}function y(g,d){return!(!d||d.ctrl!=g.ctrlKey||d.meta!=g.metaKey||d.alt!=g.altKey||d.shift!=g.shiftKey||!(g.keyCode==d.keyCode||g.charCode&&g.charCode==d.charCode)||(g.preventDefault(),0))}function p(g){return g.func?g.func.call(g.scope):null}n.on("keyup keypress keydown",function(g){(function v(g){return g.altKey||g.ctrlKey||g.metaKey}(g)||function k(g){return"keydown"===g.type&&g.keyCode>=112&&g.keyCode<=123}(g))&&!g.isDefaultPrevented()&&(h(s,function(d){if(y(g,d))return f=d.subpatterns.slice(0),"keydown"==g.type&&p(d),!0}),y(g,f[0])&&(1===f.length&&"keydown"==g.type&&p(f[0]),f.shift()))}),this.add=function(g,d,l,r){var o;return o=l,"string"==typeof l?l=function(){n.execCommand(o,!1,null)}:S.isArray(o)&&(l=function(){n.execCommand(o[0],o[1],o[2])}),h(a(S.trim(g.toLowerCase())),function(E){var e=c(E,d,l,r);s[e.id]=e}),!0},this.remove=function(g){var d=c(g);return!!s[d.id]&&(delete s[d.id],!0)}}}),Je("global!window",window),V("tinymce.core.ErrorReporter",["tinymce.core.AddOnManager"],function(S){var b=S.PluginManager,t=function(i,c){i.notificationManager.open({type:"error",text:c})},m=function(i,c){i._skinLoaded?t(i,c):i.on("SkinLoaded",function(){t(i,c)})};return{pluginLoadError:function(i,c){m(i,function(i,c){var v=function(i,c){for(var v in b.urls)if(b.urls[v]+"/plugin"+c+".js"===i)return v;return null}(c,i.suffix);return v?"Failed to load plugin: "+v+" from url "+c:"Failed to load plugin url: "+c}(i,c))},uploadError:function(i,c){m(i,"Failed to upload image: "+c)},displayError:m,contentCssError:function(i,c){m(i,"Failed to load content css: "+c[0])},initError:function(i){var c=window.console;c&&!window.test&&(c.error?c.error.apply(c,arguments):c.log.apply(c,arguments))}}}),V("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","tinymce.core.caret.CaretContainer"],function(S,b){var t=function(u,s){s.hasAttribute("data-mce-caret")&&(b.showCaretContainerBlock(s),function(u){u.selection.setRng(u.selection.getRng())}(u),u.selection.scrollIntoView(s))},m=function(u,s){var f=function(u){return u.dom.select("*[data-mce-caret]")[0]}(u);if(f){if("compositionstart"===s.type)return s.preventDefault(),s.stopPropagation(),void t(f);b.hasContent(f)&&t(u,f)}};return{setup:function(u){u.on("keyup compositionstart",S.curry(m,u))}}}),V("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],function(S,b,h){return function(a,t){var m={};function u(d,l,r,o){var E,e;(E=new XMLHttpRequest).open("POST",t.url),E.withCredentials=t.credentials,E.upload.onprogress=function(C){o(C.loaded/C.total*100)},E.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+E.status)},E.onload=function(){var C;E.status<200||E.status>=300?r("HTTP Error: "+E.status):(C=JSON.parse(E.responseText))&&"string"==typeof C.location?l(function n(d,l){return d?d.replace(/\/$/,"")+"/"+l.replace(/^\//,""):l}(t.basePath,C.location)):r("Invalid JSON: "+E.responseText)},(e=new FormData).append("file",d.blob(),d.filename()),E.send(e)}function f(d,l){return{url:l,blobInfo:d,status:!0}}function i(d,l){return{url:"",blobInfo:d,status:!1,error:l}}function c(d,l){b.each(m[d],function(r){r(l)}),delete m[d]}return t=b.extend({credentials:!1,handler:u},t),{upload:function g(d,l){return!t.url&&function k(d){return d===u}(t.handler)?function s(){return new S(function(d){d([])})}():function p(d,l){return d=b.grep(d,function(r){return!a.isUploaded(r.blobUri())}),S.all(b.map(d,function(r){return a.isPending(r.blobUri())?function y(d){var l=d.blobUri();return new S(function(r){m[l]=m[l]||[],m[l].push(r)})}(r):function v(d,l,r){return a.markPending(d.blobUri()),new S(function(o){var E;try{var w=function(){E&&E.close()};l(d,function(N){w(),a.markUploaded(d.blobUri(),N),c(d.blobUri(),f(d,N)),o(f(d,N))},function(N){w(),a.removeFailed(d.blobUri()),c(d.blobUri(),i(d,N)),o(i(d,N))},function(N){N<0||N>100||(E||(E=r()),E.progressBar.value(N))})}catch(N){o(i(d,N.message))}})}(r,t.handler,l)}))}(d,l)}}}}),V("tinymce.core.file.Conversions",["tinymce.core.util.Promise"],function(S){function h(n){var u,s;return n=decodeURIComponent(n).split(","),(s=/data:([^;]+)/.exec(n[0]))&&(u=s[1]),{type:u,data:n[1]}}return{uriToBlob:function t(n){return 0===n.indexOf("blob:")?function b(n){return new S(function(u,s){var f=function(){s("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType="blob",i.onload=function(){200==this.status?u(this.response):f()},i.onerror=f,i.send()}catch{f()}})}(n):0===n.indexOf("data:")?function a(n){return new S(function(u){var s,f,i;n=h(n);try{s=atob(n.data)}catch{return void u(new Blob([]))}for(f=new Uint8Array(s.length),i=0;i<f.length;i++)f[i]=s.charCodeAt(i);u(new Blob([f],{type:n.type}))})}(n):null},blobToDataUri:function m(n){return new S(function(u){var s=new FileReader;s.onloadend=function(){u(s.result)},s.readAsDataURL(n)})},parseDataUri:h}}),V("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(S,b,h,a,t){var m=0,n=function(f){return(f||"blobid")+m++};return function(f,i){var c={};return{findAll:function v(k,y){var p,g;return y||(y=h.constant(!0)),p=b.filter(function(f){return f?f.getElementsByTagName("img"):[]}(k),function(d){var l=d.src;return!(!t.fileApi||d.hasAttribute("data-mce-bogus")||d.hasAttribute("data-mce-placeholder")||!l||l==t.transparentSrc)&&(0===l.indexOf("blob:")?!f.isUploaded(l):0===l.indexOf("data:")&&y(d))}),g=b.map(p,function(d){var l;return c[d.src]?new S(function(r){c[d.src].then(function(o){if("string"==typeof o)return o;r({image:d,blobInfo:o.blobInfo})})}):(l=new S(function(r,o){!function(f,i,c,v){var k,y;0!==i.src.indexOf("blob:")?(k=a.parseDataUri(i.src).data,(y=f.findFirst(function(p){return p.base64()===k}))?c({image:i,blobInfo:y}):a.uriToBlob(i.src).then(function(p){y=f.create(n(),p,k),f.add(y),c({image:i,blobInfo:y})},function(p){v(p)})):(y=f.getByUri(i.src))?c({image:i,blobInfo:y}):a.uriToBlob(i.src).then(function(p){a.blobToDataUri(p).then(function(g){k=a.parseDataUri(g).data,y=f.create(n(),p,k),f.add(y),c({image:i,blobInfo:y})})},function(p){v(p)})}(i,d,r,o)}).then(function(r){return delete c[r.image.src],r}).catch(function(r){return delete c[d.src],r}),c[d.src]=l,l)}),S.all(g)}}}}),V("tinymce.core.util.Uuid",[],function(){var S=0;return{uuid:function(a){return a+S+++function(){var a=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+a()+a()+a()}()}}}),Je("global!URL",URL),V("tinymce.core.file.BlobCache",["tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid","global!URL"],function(S,b,h,a){return function(){var t=[],m=b.constant;function n(p){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[p.toLowerCase()]||"dat"}function i(p){return c(function(g){return g.id()===p})}function c(p){return S.filter(t,p)[0]}return{create:function u(p,g,d,l){return function s(p){var g,d;if(!p.blob||!p.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return g=p.id||h.uuid("blobid"),d=p.name||g,{id:m(g),name:m(d),filename:m(d+"."+n(p.blob.type)),blob:m(p.blob),base64:m(p.base64),blobUri:m(p.blobUri||a.createObjectURL(p.blob)),uri:m(p.uri)}}("object"==typeof p?p:{id:p,name:l,blob:g,base64:d})},add:function f(p){i(p.id())||t.push(p)},get:i,getByUri:function v(p){return c(function(g){return g.blobUri()==p})},findFirst:c,removeByUri:function k(p){t=S.filter(t,function(g){return g.blobUri()!==p||(a.revokeObjectURL(g.blobUri()),!1)})},destroy:function y(){S.each(t,function(p){a.revokeObjectURL(p.blobUri())}),t=[]}}}}),V("tinymce.core.file.UploadStatus",[],function(){return function(){var h={};function a(v,k){return{status:v,resultUri:k}}function t(v){return v in h}return{hasBlobUri:t,getResultUri:function m(v){var k=h[v];return k?k.resultUri:null},isPending:function n(v){return!!t(v)&&1===h[v].status},isUploaded:function u(v){return!!t(v)&&2===h[v].status},markPending:function s(v){h[v]=a(1,null)},markUploaded:function f(v,k){h[v]=a(2,k)},removeFailed:function i(v){delete h[v]},destroy:function c(){h={}}}}}),V("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(S,b,h,a,t,m){return function(n){var s,f,u=new a,i=n.settings,c=new t;function v(x){return function(T){return n.selection?x(T):[]}}function y(x,T,N){var _=0;do{-1!==(_=x.indexOf(T,_))&&(x=x.substring(0,_)+N+x.substr(_+T.length),_+=N.length-T.length+1)}while(-1!==_);return x}function p(x,T,N){return x=y(x,'src="'+T+'"','src="'+N+'"'),y(x,'data-mce-src="'+T+'"','data-mce-src="'+N+'"')}function g(x,T){S.each(n.undoManager.data,function(N){"fragmented"===N.type?N.fragments=S.map(N.fragments,function(_){return p(_,x,T)}):N.content=p(N.content,x,T)})}function d(){return n.notificationManager.open({text:n.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function r(x){return s||(s=new b(c,{url:i.images_upload_url,basePath:i.images_upload_base_path,credentials:i.images_upload_credentials,handler:i.images_upload_handler})),e().then(v(function(T){var N;return N=S.map(T,function(_){return _.blobInfo}),s.upload(N,d).then(v(function(_){var A=S.map(_,function(F,O){var R=T[O].image;return F.status&&!1!==n.settings.images_replace_blob_uris?function l(x,T){u.removeByUri(x.src),g(x.src,T),n.$(x).attr({src:i.images_reuse_filename?T+"?"+(new Date).getTime():T,"data-mce-src":n.convertURL(T,"src")})}(R,F.url):F.error&&m.uploadError(n,F.error),{element:R,status:F.status}});return x&&x(A),A}))}))}function o(x){if(!1!==i.automatic_uploads)return r(x)}function E(x){return!i.images_dataimg_filter||i.images_dataimg_filter(x)}function e(){return f||(f=new h(c,u)),f.findAll(n.getBody(),E).then(v(function(x){return x=S.filter(x,function(T){return"string"!=typeof T||(m.displayError(n,T),!1)}),S.each(x,function(T){g(T.image.src,T.blobInfo.blobUri()),T.image.src=T.blobInfo.blobUri(),T.image.removeAttribute("data-mce-src")}),x}))}function w(x){return x.replace(/src="(blob:[^"]+)"/g,function(T,N){var _=c.getResultUri(N);if(_)return'src="'+_+'"';var A=u.getByUri(N);return A||(A=S.reduce(n.editorManager.editors,function(F,O){return F||O.editorUpload&&O.editorUpload.blobCache.getByUri(N)},null)),A?'src="data:'+A.blob().type+";base64,"+A.base64()+'"':T})}return n.on("setContent",function(){!1!==n.settings.automatic_uploads?o():e()}),n.on("RawSaveContent",function(x){x.content=w(x.content)}),n.on("getContent",function(x){x.source_view||"raw"==x.format||(x.content=w(x.content))}),n.on("PostRender",function(){n.parser.addNodeFilter("img",function(x){S.each(x,function(T){var N=T.attr("src");if(!u.getByUri(N)){var _=c.getResultUri(N);_&&T.attr("src",_)}})})}),{blobCache:u,uploadImages:r,uploadImagesAuto:o,scanForImages:e,destroy:function C(){u.destroy(),c.destroy(),f=s=null}}}}),V("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],function(S){var b=function(a){var c,v,k,y,p,g,d,r,o,E,e,C,t=a.settings,m=a.dom,n=a.selection,u=a.schema,s=u.getBlockElements(),f=n.getStart(),i=a.getBody(),l=-16777215;if(C=t.forced_root_block,f&&1===f.nodeType&&C){for(;f&&f!==i;){if(s[f.nodeName])return;f=f.parentNode}if((c=n.getRng()).setStart){v=c.startContainer,k=c.startOffset,y=c.endContainer,p=c.endOffset;try{o=a.getDoc().activeElement===i}catch{}}else c.item&&(f=c.item(0),(c=a.getDoc().body.createTextRange()).moveToElementText(f)),o=c.parentElement().ownerDocument===a.getDoc(),(E=c.duplicate()).collapse(!0),k=-1*E.move("character",l),E.collapsed||((E=c.duplicate()).collapse(!1),p=-1*E.move("character",l)-k);for(f=i.firstChild,e=i.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!s[f.nodeName])&&u.isValidChild(e,C.toLowerCase())){if(3===f.nodeType&&0===f.nodeValue.length){d=f,f=f.nextSibling,m.remove(d);continue}g||(g=m.create(C,a.settings.forced_root_block_attrs),f.parentNode.insertBefore(g,f),r=!0),d=f,f=f.nextSibling,g.appendChild(d)}else g=null,f=f.nextSibling;if(r&&o){if(c.setStart)c.setStart(v,k),c.setEnd(y,p),n.setRng(c);else try{(c=a.getDoc().body.createTextRange()).moveToElementText(i),c.collapse(!0),c.moveStart("character",k),p>0&&c.moveEnd("character",p),c.select()}catch{}a.nodeChanged()}}};return{setup:function(a){a.settings.forced_root_block&&a.on("NodeChange",S.curry(b,a))}}}),V("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(S,b,h){return{getClientRects:function a(t){function m(u){return S.map(u,function(s){return(s=h.clone(s)).node=t,s})}if(S.isArray(t))return S.reduce(t,function(u,s){return u.concat(a(s))},[]);if(b.isElement(t))return m(t.getClientRects());if(b.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),m(n.getClientRects())}}}}),V("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(S,b,h,a,t,m,n){var u=h.isContentEditableFalse,s=m.findNode,f=S.curry;function i(l,r){return Math.abs(l.left-r)}function c(l,r){return Math.abs(l.right-r)}function v(l,r){function o(E,e){return E>=e.left&&E<=e.right}return b.reduce(l,function(E,e){var C,w;return C=Math.min(i(E,r),c(E,r)),w=Math.min(i(e,r),c(e,r)),o(r,e)?e:o(r,E)?E:w==C&&u(e.node)||w<C?e:E})}function k(l,r,o,E){for(;E=s(E,l,n.isEditableCaretCandidate,r);)if(o(E))return}function y(l,r){var o=[];function E(e,C){var w;return w=b.filter(a.getClientRects(C),function(x){return!e(x,r)}),o=o.concat(w),0===w.length}return o.push(r),k(-1,l,f(E,t.isAbove),r.node),k(1,l,f(E,t.isBelow),r.node),o}return{findClosestClientRect:v,findLineNodeRects:y,closestCaret:function d(l,r,o){var E,e;return E=a.getClientRects(function p(l){return b.filter(b.toArray(l.getElementsByTagName("*")),u)}(l)),(e=v(E=b.filter(E,function(C){return o>=C.top&&o<=C.bottom}),r))&&(e=v(y(l,e),r))&&u(e.node)?function g(l,r){return{node:l.node,before:i(l,r)<c(l,r)}}(e,r):null}}}),V("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(S,b,h,a,t,m,n,u){var s=S.curry;function i(g,d,l,r,o,E){var C,x,e=0,w=[];function T(N){var _,A,F;for(F=h.getClientRects(N),-1==g&&(F=F.reverse()),_=0;_<F.length;_++)if(!l(A=F[_],x)){if(w.length>0&&d(A,b.last(w))&&e++,A.line=e,o(A))return!0;w.push(A)}}return(x=b.last(E.getClientRects()))&&(T(C=E.getNode()),function f(g,d,l,r){for(;r=t.findNode(r,g,a.isEditableCaretCandidate,d);)if(l(r))return}(g,r,T,C)),w}return{upUntil:s(i,-1,u.isAbove,u.isBelow),downUntil:s(i,1,u.isBelow,u.isAbove),positionsUntil:function p(g,d,l,r){var E,e,C,w,N,_,o=new m(d),x=[],T=0;function A(F){return b.last(F.getClientRects())}1==g?(E=o.next,e=u.isBelow,C=u.isAbove,w=n.after(r)):(E=o.prev,e=u.isAbove,C=u.isBelow,w=n.before(r)),_=A(w);do{if(w.isVisible()&&!C(N=A(w),_)){if(x.length>0&&e(N,b.last(x))&&T++,(N=u.clone(N)).position=w,N.line=T,l(N))return x;x.push(N)}}while(w=E(w));return x},isAboveLine:s(function c(g,d){return d.line>g}),isLine:s(function v(g,d){return d.line===g})}}),V("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(S,b,h,a){var t=h.isContentEditableTrue,m=h.isContentEditableFalse,n=function(c,v,k,y){return v._selectionOverrides.showCaret(c,k,y)},f=function(c,v){var k,y;return v=b.normalizeRange(1,c.getBody(),v),k=S.fromRangeStart(v),m(k.getNode())?n(1,c,k.getNode(),!k.isAtEnd()):m(k.getNode(!0))?n(1,c,k.getNode(!0),!1):(y=c.dom.getParent(k.getNode(),a.or(m,t)),m(y)?n(1,c,y,!1):null)};return{showCaret:n,selectNode:function(c,v){return c.fire("BeforeObjectSelected",{target:v}).isDefaultPrevented()?null:function(c){var v=c.ownerDocument.createRange();return v.selectNode(c),v}(v)},renderCaretAtRange:f,renderRangeCaret:function(c,v){return v&&v.collapsed&&f(c,v)||v}}}),V("tinymce.core.keyboard.CefNavigation",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(S,b,h,a,t,m,n,u,s,f,i,c){var v=n.isContentEditableFalse,k=u.getSelectedNode,y=h.isAfterContentEditableFalse,p=h.isBeforeContentEditableFalse,g=function(_,A){for(;A=_(A);)if(A.isVisible())return A;return A},r=function(_,A,F){return F=h.normalizeRange(_,A,F),-1===_?b.fromRangeStart(F):b.fromRangeEnd(F)},C=function(_,A,F){var O,M,U=new a(_.getBody()),P=c.curry(g,U.next),B=c.curry(g,U.prev);if(F.collapsed&&_.settings.forced_root_block){if(!(O=_.dom.getParent(F.startContainer,"PRE")))return;(1===A?P(b.fromRangeStart(F)):B(b.fromRangeStart(F)))||(M=function(_){var A=_.dom.create(_.settings.forced_root_block);return(!s.ie||s.ie>=11)&&(A.innerHTML='<br data-mce-bogus="1">'),A}(_),1===A?_.$(O).after(M):_.$(O).before(M),_.selection.select(M,!0),_.selection.collapse())}};return{moveH:function(_,A){return function(){var F=function(_,A){var M,F=new a(_.getBody()),O=c.curry(g,F.next),R=c.curry(g,F.prev),U=A?1:-1,P=A?O:R,B=A?p:y,L=_.selection.getRng();return(M=function(_,A,F,O,R){var M,U,P,B;return!R.collapsed&&(M=k(R),v(M))?f.showCaret(_,A,M,-1===_):(B=function(_){return S.isCaretContainerBlock(_.startContainer)}(R),O(U=r(_,A.getBody(),R))?f.selectNode(A,U.getNode(-1===_)):(U=F(U))?O(U)?f.showCaret(_,A,U.getNode(-1===_),1===_):O(P=F(U))&&function(_,A){var F=h.isInSameBlock(_,A);return!(F||!n.isBr(_.getNode()))||F}(U,P)?f.showCaret(_,A,P.getNode(-1===_),1===_):B?f.renderRangeCaret(A,U.toRange()):null:B?R:null)}(U,_,P,B,L))||(M=C(_,U,L))?M:null}(_,A);return!!F&&(_.selection.setRng(F),!0)}},moveV:function(_,A){return function(){var F=function(_,A){var F,O=A?1:-1,R=A?m.downUntil:m.upUntil,M=_.selection.getRng();return F=function(_,A,F,O){var R,M,U,P,B,L,z,q,ee;if(ee=k(O),R=r(_,A.getBody(),O),M=F(A.getBody(),m.isAboveLine(1),R),U=i.filter(M,m.isLine(1)),B=i.last(R.getClientRects()),p(R)&&(ee=R.getNode()),y(R)&&(ee=R.getNode(!0)),!B)return null;if((P=t.findClosestClientRect(U,L=B.left))&&v(P.node))return z=Math.abs(L-P.left),q=Math.abs(L-P.right),f.showCaret(_,A,P.node,z<q);if(ee){var ue=m.positionsUntil(_,A.getBody(),m.isAboveLine(1),ee);if((P=t.findClosestClientRect(i.filter(ue,m.isLine(1)),L))||(P=i.last(i.filter(ue,m.isLine(0)))))return f.renderRangeCaret(A,P.position.toRange())}}(O,_,R,M),F||(F=C(_,O,M))?F:null}(_,A);return!!F&&(_.selection.setRng(F),!0)}}}}),V("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(S,b,h){var m=function(s){return function(){for(var f=new b(arguments.length),i=0;i<f.length;i++)f[i]=arguments[i];if(0===f.length)throw new h("Can't merge zero objects");for(var c={},v=0;v<f.length;v++){var k=f[v];for(var y in k)k.hasOwnProperty(y)&&(c[y]=s(c[y],k[y]))}return c}},n=m(function(s,f){return S.isObject(s)&&S.isObject(f)?n(s,f):f}),u=m(function(s,f){return f});return{deepMerge:n,merge:u}}),V("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(S,b,h){return{match:function(u,s){return S.bind(function(u){return S.map(u,function(s){return h.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:b.noop},s)})}(u),function(f){return function(u,s){return s.keyCode===u.keyCode&&s.shiftKey===u.shiftKey&&s.altKey===u.altKey&&s.ctrlKey===u.ctrlKey&&s.metaKey===u.metaKey}(f,s)?[f]:[]})},action:function(u){var s=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,s)}}}}),V("tinymce.core.keyboard.ArrowKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,b,h,a,t,m){return{setup:function(s,f){s.on("keydown",function(i){!1===i.isDefaultPrevented()&&function(s,f,i){var c=t.match([{keyCode:m.RIGHT,action:a.moveH(s,!0)},{keyCode:m.LEFT,action:a.moveH(s,!1)},{keyCode:m.UP,action:a.moveV(s,!1)},{keyCode:m.DOWN,action:a.moveV(s,!0)},{keyCode:m.RIGHT,action:h.move(s,f,!0)},{keyCode:m.LEFT,action:h.move(s,f,!1)}],i);S.find(c,function(v){return v.action()}).each(function(v){i.preventDefault()})}(s,f,i)})}}}),V("tinymce.core.keyboard.DeleteBackspaceKeys",["ephox.katamari.api.Arr","tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,b,h,a,t,m,n){return{setup:function(i,c){i.on("keydown",function(v){!1===v.isDefaultPrevented()&&function(i,c,v){var k=m.match([{keyCode:n.BACKSPACE,action:m.action(a.backspaceDelete,i,!1)},{keyCode:n.DELETE,action:m.action(a.backspaceDelete,i,!0)},{keyCode:n.BACKSPACE,action:m.action(t.backspaceDelete,i,c,!1)},{keyCode:n.DELETE,action:m.action(t.backspaceDelete,i,c,!0)},{keyCode:n.BACKSPACE,action:m.action(h.backspaceDelete,i,!1)},{keyCode:n.DELETE,action:m.action(h.backspaceDelete,i,!0)},{keyCode:n.BACKSPACE,action:m.action(b.backspaceDelete,i,!1)},{keyCode:n.DELETE,action:m.action(b.backspaceDelete,i,!0)}],v);S.find(k,function(y){return y.action()}).each(function(y){v.preventDefault()})}(i,c,v)}),i.on("keyup",function(v){!1===v.isDefaultPrevented()&&function(i,c){var v=m.match([{keyCode:n.BACKSPACE,action:m.action(a.paddEmptyElement,i)},{keyCode:n.DELETE,action:m.action(a.paddEmptyElement,i)}],c);S.find(v,function(k){return k.action()})}(i,v)})}}}),V("tinymce.core.keyboard.EnterKey",["tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n){var u=t.ie&&t.ie<11,s=function(r){return r&&"A"===r.nodeName&&0===n.trim(m.trim(r.innerText||r.textContent)).length},i=function(r){r.innerHTML=u?"":'<br data-mce-bogus="1">'},c=function(r,o){return r.nodeName===o||r.previousSibling&&r.previousSibling.nodeName===o},v=function(r,o){return o&&r.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==r.getContentEditable(o)},k=function(r,o,E){var e;r.isBlock(E)&&(e=o.getRng(),E.appendChild(r.create("span",null,"\xa0")),o.select(E),E.lastChild.outerHTML="",o.setRng(e))},p=function(r,o,E){return!1===b.isText(o)?E:r?1===E&&o.data.charAt(E-1)===m.ZWSP?0:E:E===o.data.length-1&&o.data.charAt(E)===m.ZWSP?o.data.length:E},d=function(r){for(;r;){if(1===r.nodeType||3===r.nodeType&&r.data&&/[\r\n\s]/.test(r.data))return r;r=r.nextSibling}};return{setup:function(r){var o=r.dom,E=r.selection,e=r.settings,C=r.undoManager,w=r.schema,x=w.getNonEmptyElements(),T=w.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(_){13==_.keyCode&&!1!==function N(_){var A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne;function he(K){var se,be,we,ve,De=K;if(K){if(t.ie&&t.ie<9&&U&&U.firstChild&&U.firstChild==U.lastChild&&"BR"==U.firstChild.tagName&&o.remove(U.firstChild),/^(LI|DT|DD)$/.test(K.nodeName)){var Ue=d(K.firstChild);Ue&&/^(UL|OL|DL)$/.test(Ue.nodeName)&&K.insertBefore(o.doc.createTextNode("\xa0"),K.firstChild)}if(we=o.createRng(),t.ie||K.normalize(),K.hasChildNodes()){for(se=new a(K,K);be=se.current();){if(3==be.nodeType){we.setStart(be,0),we.setEnd(be,0);break}if(T[be.nodeName.toLowerCase()]){we.setStartBefore(be),we.setEndBefore(be);break}De=be,be=se.next()}be||(we.setStart(De,0),we.setEnd(De,0))}else"BR"==K.nodeName?K.nextSibling&&o.isBlock(K.nextSibling)?((!P||P<9)&&(ve=o.create("br"),K.parentNode.insertBefore(ve,K)),we.setStartBefore(K),we.setEndBefore(K)):(we.setStartAfter(K),we.setEndAfter(K)):(we.setStart(K,0),we.setEnd(K,0));E.setRng(we),o.remove(ve),E.scrollIntoView(K)}}function Ee(K){var se=e.forced_root_block;se&&se.toLowerCase()===K.tagName.toLowerCase()&&o.setAttribs(K,e.forced_root_block_attrs)}function me(K){var be,we,De,se=R,ve=w.getTextInlineElements();if(K||"TABLE"==ee||"HR"==ee?Ee(be=o.create(K||ae)):be=U.cloneNode(!1),De=be,!1===e.keep_styles)o.setAttrib(be,"style",null),o.setAttrib(be,"class",null);else do{if(ve[se.nodeName]){if("_mce_caret"==se.id)continue;we=se.cloneNode(!1),o.setAttrib(we,"id",""),be.hasChildNodes()?(we.appendChild(be.firstChild),be.appendChild(we)):(De=we,be.appendChild(we))}}while((se=se.parentNode)&&se!=O);return u||(De.innerHTML='<br data-mce-bogus="1">'),be}function $(K){var se,be,we,De;if(De=p(K,R,M),3==R.nodeType&&(K?De>0:De<R.nodeValue.length))return!1;if(R.parentNode==U&&ne&&!K||K&&1==R.nodeType&&R==U.firstChild)return!0;if(c(R,"TABLE")||c(R,"HR"))return ne&&!K||!ne&&K;for(se=new a(R,U),3==R.nodeType&&(K&&0===De?se.prev():!K&&De==R.nodeValue.length&&se.next());be=se.current();){if(1===be.nodeType){if(!be.getAttribute("data-mce-bogus")&&(we=be.nodeName.toLowerCase(),x[we]&&"br"!==we))return!1}else if(3===be.nodeType&&!/^[ \t\r\n]*$/.test(be.nodeValue))return!1;K?se.prev():se.next()}return!0}function Y(){r.execCommand("InsertLineBreak",!1,_)}function oe(){L=/^(H[1-6]|PRE|FIGURE)$/.test(ee)&&"HGROUP"!=ue?me(ae):me(),e.end_container_on_empty_block&&v(o,q)&&o.isEmpty(U)?L=o.split(q,U):o.insertAfter(L,U),he(L)}if(A=E.getRng(!0),!_.isDefaultPrevented()){if(!A.collapsed)return void r.execCommand("Delete");if(new h(o).normalize(A),R=A.startContainer,M=A.startOffset,ae=(ae=(e.force_p_newlines?"p":"")||e.forced_root_block)?ae.toUpperCase():"",P=o.doc.documentMode,B=_.shiftKey,1==R.nodeType&&R.hasChildNodes()&&(ne=M>R.childNodes.length-1,R=R.childNodes[Math.min(M,R.childNodes.length-1)]||R,M=ne&&3==R.nodeType?R.nodeValue.length:0),O=function ke(K){var be,we,se=o.getRoot();for(be=K;be!==se&&"false"!==o.getContentEditable(be);)"true"===o.getContentEditable(be)&&(we=be),be=be.parentNode;return be!==se?we:se}(R)){if(C.beforeChange(),!o.isBlock(O)&&O!=o.getRoot())return void((!ae||B)&&Y());if((ae&&!B||!ae&&B)&&(R=function G(K,se){var be,we,De,ve,Ue,qe,Te=ae||"P";if(!(we=o.getParent(K,o.isBlock))||!v(o,we)){if(qe=(we=we||O)==r.getBody()||function(r){return r&&/^(TD|TH|CAPTION)$/.test(r.nodeName)}(we)?we.nodeName.toLowerCase():we.parentNode.nodeName.toLowerCase(),!we.hasChildNodes())return Ee(be=o.create(Te)),we.appendChild(be),A.setStart(be,0),A.setEnd(be,0),be;for(ve=K;ve.parentNode!=we;)ve=ve.parentNode;for(;ve&&!o.isBlock(ve);)De=ve,ve=ve.previousSibling;if(De&&w.isValidChild(qe,Te.toLowerCase())){for(Ee(be=o.create(Te)),De.parentNode.insertBefore(be,De),ve=De;ve&&!o.isBlock(ve);)Ue=ve.nextSibling,be.appendChild(ve),ve=Ue;A.setStart(K,se),A.setEnd(K,se)}}return K}(R,M)),U=o.getParent(R,o.isBlock),q=U?o.getParent(U.parentNode,o.isBlock):null,ee=U?U.nodeName.toUpperCase():"","LI"==(ue=q?q.nodeName.toUpperCase():"")&&!_.ctrlKey&&(U=q,ee=ue),r.undoManager.typing&&(r.undoManager.typing=!1,r.undoManager.add()),/^(LI|DT|DD)$/.test(ee)){if(!ae&&B)return void Y();if(o.isEmpty(U))return void function Z(){function K(we){for(var De=q[we?"firstChild":"lastChild"];De&&1!=De.nodeType;)De=De[we?"nextSibling":"previousSibling"];return De===U}function se(){var we=q.parentNode;return/^(LI|DT|DD)$/.test(we.nodeName)?we:q}if(q!=r.getBody()){var be=q.parentNode.nodeName;/^(OL|UL|LI)$/.test(be)&&(ae="LI"),L=ae?me(ae):o.create("BR"),K(!0)&&K()?"LI"==be?o.insertAfter(L,se()):o.replace(L,q):K(!0)?"LI"==be?(o.insertAfter(L,se()),L.appendChild(o.doc.createTextNode(" ")),L.appendChild(q)):q.parentNode.insertBefore(L,q):K()?(o.insertAfter(L,se()),k(o,E,L)):(q=se(),(F=A.cloneRange()).setStartAfter(U),F.setEndAfter(q),z=F.extractContents(),"LI"==ae&&"LI"==z.firstChild.nodeName?(L=z.firstChild,o.insertAfter(z,q)):(o.insertAfter(z,q),o.insertAfter(L,q))),o.remove(U),he(L),C.add()}}()}if("PRE"==ee&&!1!==e.br_in_pre){if(!B)return void Y()}else if(!ae&&!B&&"LI"!=ee||ae&&B)return void Y();ae&&U===r.getBody()||(ae=ae||"P",S.isCaretContainerBlock(U)?(L=S.showCaretContainerBlock(U),o.isEmpty(U)&&i(U),he(L)):$()?oe():$(!0)?(L=U.parentNode.insertBefore(me(),U),k(o,E,L),c(U,"HR")?he(L):he(U)):((F=function(r){var o=r.cloneRange();return o.setStart(r.startContainer,p(!0,r.startContainer,r.startOffset)),o.setEnd(r.endContainer,p(!1,r.endContainer,r.endOffset)),o}(A).cloneRange()).setEndAfter(U),function ie(K){do{3===K.nodeType&&(K.nodeValue=K.nodeValue.replace(/^[\r\n]+/,"")),K=K.firstChild}while(K)}(z=F.extractContents()),L=z.firstChild,o.insertAfter(z,U),function(r,o,E){var w,e=E,C=[];if(e){for(;e=e.firstChild;){if(r.isBlock(e))return;1==e.nodeType&&!o[e.nodeName.toLowerCase()]&&C.push(e)}for(w=C.length;w--;)(!(e=C[w]).hasChildNodes()||e.firstChild==e.lastChild&&""===e.firstChild.nodeValue||s(e))&&r.remove(e)}}(o,x,L),function ye(K){var se;u||(K.normalize(),(!(se=K.lastChild)||/^(left|right)$/gi.test(o.getStyle(se,"float",!0)))&&o.add(K,"br"))}(U),o.isEmpty(U)&&i(U),L.normalize(),o.isEmpty(L)?(o.remove(L),oe()):he(L)),o.setAttrib(L,"id",""),r.fire("NewBlock",{newBlock:L}),C.typing=!1,C.add())}}}(_)&&_.preventDefault()})}}}),V("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation"],function(S,b,h,a){var n=function(i,c,v){return!!function(i,c){return s(i)&&h.isText(c.container())}(v,c)&&(function(i,c){var v=c.container(),k=c.offset();v.insertData(k,"\xa0"),i.selection.setCursorLocation(v,k+1)}(i,c),!0)},s=function(i){return i.fold(S.constant(!1),S.constant(!0),S.constant(!0),S.constant(!1))};return{insertAtSelection:function(i){return!!i.selection.isCollapsed()&&function(i){var c=b.fromRangeStart(i.selection.getRng());return a.readLocation(i.getBody(),c).map(S.curry(n,i,c)).getOr(!1)}(i)}}}),V("tinymce.core.keyboard.SpaceKey",["ephox.katamari.api.Arr","tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,b,h,a){return{setup:function(n){n.on("keydown",function(u){!1===u.isDefaultPrevented()&&function(n,u){var s=h.match([{keyCode:a.SPACEBAR,action:h.action(b.insertAtSelection,n)}],u);S.find(s,function(f){return f.action()}).each(function(f){u.preventDefault()})}(n,u)})}}}),V("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(S,b,h,a,t){return{setup:function(n){var u=b.setupSelectedState(n);S.setup(n,u),h.setup(n,u),a.setup(n),t.setup(n)}}}),V("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(S,b,h){return function(a){var t,m=[];"onselectionchange"in a.getDoc()||a.on("NodeChange Click MouseUp KeyUp Focus",function(u){var s,f;f={startContainer:(s=a.selection.getRng()).startContainer,startOffset:s.startOffset,endContainer:s.endContainer,endOffset:s.endOffset},("nodechange"==u.type||!S.compareRanges(f,t))&&a.fire("SelectionChange"),t=f}),a.on("contextmenu",function(){a.fire("SelectionChange")}),a.on("SelectionChange",function(){var u=a.selection.getStart(!0);!b.range&&a.selection.isCollapsed()||!function n(u){var s,f;if((f=a.$(u).parentsUntil(a.getBody()).add(u)).length===m.length){for(s=f.length;s>=0&&f[s]===m[s];s--);if(-1===s)return m=f,!0}return m=f,!1}(u)&&a.dom.isChildOf(u,a.getBody())&&a.nodeChanged({selectionChange:!0})}),a.on("MouseUp",function(u){u.isDefaultPrevented()||("IMG"==a.selection.getNode().nodeName?h.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())}),this.nodeChanged=function(u){var f,i,c,s=a.selection;a.initialized&&s&&!a.settings.disable_nodechange&&!a.readonly&&(c=a.getBody(),((f=s.getStart(!0)||c).ownerDocument!=a.getDoc()||!a.dom.isChildOf(f,c))&&(f=c),i=[],a.dom.getParent(f,function(v){if(v===c)return!0;i.push(v)}),(u=u||{}).element=f,u.parents=i,a.fire("NodeChange",u))}}}),V("tinymce.core.caret.FakeCaret",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(S,b,h,a,t,m,n,u){var s=t.isContentEditableFalse;return function(i,c){var v,k,y;function l(){(function g(){var e,C,w,x,T;for(e=a("*[contentEditable=false]",i),x=0;x<e.length;x++)S.endsWithCaretContainer(w=(C=e[x]).previousSibling)&&(1==(T=w.data).length?w.parentNode.removeChild(w):w.deleteData(T.length-1,1)),S.startsWithCaretContainer(w=C.nextSibling)&&(1==(T=w.data).length?w.parentNode.removeChild(w):w.deleteData(0,1))})(),y&&(b.remove(y),y=null),k&&(k.remove(),k=null),clearInterval(v)}return{show:function d(e,C){var w,x;return l(),function(i){return i&&/^(TD|TH)$/i.test(i.nodeName)}(C)?null:c(C)?(y=S.insertBlock("p",C,e),w=function p(e,C){var x,T,N,_,A,w=n.collapse(e.getBoundingClientRect(),C);return"BODY"==i.tagName?(x=i.ownerDocument.documentElement,T=i.scrollLeft||x.scrollLeft,N=i.scrollTop||x.scrollTop):(A=i.getBoundingClientRect(),T=i.scrollLeft-A.left,N=i.scrollTop-A.top),w.left+=T,w.right+=T,w.top+=N,w.bottom+=N,w.width=1,(_=e.offsetWidth-e.clientWidth)>0&&(C&&(_*=-1),w.left+=_,w.right+=_),w}(C,e),a(y).css("top",w.top),k=a('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(w).appendTo(i),e&&k.addClass("mce-visual-caret-before"),function r(){v=u.setInterval(function(){a("div.mce-visual-caret",i).toggleClass("mce-visual-caret-hidden")},500)}(),(x=C.ownerDocument.createRange()).setStart(y,0),x.setEnd(y,0),x):(y=S.insertInline(C,e),x=C.ownerDocument.createRange(),s(y.nextSibling)?(x.setStart(y,0),x.setEnd(y,0)):(x.setStart(y,1),x.setEnd(y,1)),x)},hide:l,getCss:function E(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function o(){u.clearInterval(v)}}}}),V("tinymce.core.dom.MousePosition",[],function(){var S=function(u){var s,f,i,c;return{top:(c=u.getBoundingClientRect()).top+(i=(s=u.ownerDocument).defaultView).pageYOffset-(f=s.documentElement).clientTop,left:c.left+i.pageXOffset-f.clientLeft}};return{calc:function(u,s){return function(u,s,f){return{pageX:f.left-u.left+s.left,pageY:f.top-u.top+s.top}}(function(u){return u.inline?S(u.getBody()):{left:0,top:0}}(u),function(u){var s=u.getBody();return u.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}}(u),function(u,s){if(s.target.ownerDocument!==u.getDoc()){var f=S(u.getContentAreaContainer()),i=function(u){var s=u.getBody(),f=u.getDoc().documentElement;return u.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:s.scrollLeft||f.scrollLeft,top:s.scrollTop||f.scrollTop}}(u);return{left:s.pageX-f.left+i.left,top:s.pageY-f.top+i.top}}return{left:s.pageX,top:s.pageY}}(u,s))}}}),V("tinymce.core.DragDropOverrides",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Delay","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition"],function(S,b,h,a,t,m){var n=S.isContentEditableFalse,u=S.isContentEditableTrue,y=function(N){N&&N.parentNode&&N.parentNode.removeChild(N)},C=function(N){N.dragging=!1,N.element=null,y(N.ghost)},w=function(N){var A,F,O,R,M,U,_={};A=t.DOM,U=document,F=function(N,_){return function(A){if(function(N){return 0===N.button}(A)){var F=b.find(_.dom.getParents(A.target),h.or(n,u));if(function(N,_){return n(_)&&_!==N}(_.getBody(),F)){var O=_.dom.getPos(F),R=_.getBody(),M=_.getDoc().documentElement;N.element=F,N.screenX=A.screenX,N.screenY=A.screenY,N.maxX=(_.inline?R.scrollWidth:M.offsetWidth)-2,N.maxY=(_.inline?R.scrollHeight:M.offsetHeight)-2,N.relX=A.pageX-O.x,N.relY=A.pageY-O.y,N.width=F.offsetWidth,N.height=F.offsetHeight,N.ghost=function(N,_,A,F){var O=_.cloneNode(!0);N.dom.setStyles(O,{width:A,height:F}),N.dom.setAttrib(O,"data-mce-selected",null);var R=N.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return N.dom.setStyles(R,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:A,height:F}),N.dom.setStyles(O,{margin:0,boxSizing:"border-box"}),R.appendChild(O),R}(_,F,N.width,N.height)}}}}(_,N),O=function(N,_){var A=a.throttle(function(F,O){_._selectionOverrides.hideFakeCaret(),_.selection.placeCaretAt(F,O)},0);return function(F){var O=Math.max(Math.abs(F.screenX-N.screenX),Math.abs(F.screenY-N.screenY));if(function(N){return N.element}(N)&&!N.dragging&&O>10){if(_.fire("dragstart",{target:N.element}).isDefaultPrevented())return;N.dragging=!0,_.focus()}if(N.dragging){var M=function(N,_){return{pageX:_.pageX-N.relX,pageY:_.pageY+5}}(N,m.calc(_,F));(function(N,_){N.parentNode!==_&&_.appendChild(N)})(N.ghost,_.getBody()),function(N,_,A,F,O,R){var M=0,U=0;N.style.left=_.pageX+"px",N.style.top=_.pageY+"px",_.pageX+A>O&&(M=_.pageX+A-O),_.pageY+F>R&&(U=_.pageY+F-R),N.style.width=A-M+"px",N.style.height=F-U+"px"}(N.ghost,M,N.width,N.height,N.maxX,N.maxY),A(F.clientX,F.clientY)}}}(_,N),R=function(N,_){return function(A){if(N.dragging&&function(N,_,A){return!(_===A||N.dom.isChildOf(_,A)||n(_))}(_,function(N){var A=N.getSel().getRangeAt(0).startContainer;return 3===A.nodeType?A.parentNode:A}(_.selection),N.element)){var F=function(N){var _=N.cloneNode(!0);return _.removeAttribute("data-mce-selected"),_}(N.element),O=_.fire("drop",{targetClone:F,clientX:A.clientX,clientY:A.clientY});O.isDefaultPrevented()||(F=O.targetClone,_.undoManager.transact(function(){y(N.element),_.insertContent(_.dom.getOuterHTML(F)),_._selectionOverrides.hideFakeCaret()}))}C(N)}}(_,N),M=function(N,_){return function(){C(N),N.dragging&&_.fire("dragend")}}(_,N),N.on("mousedown",F),N.on("mousemove",O),N.on("mouseup",R),A.bind(U,"mousemove",O),A.bind(U,"mouseup",M),N.on("remove",function(){A.unbind(U,"mousemove",O),A.unbind(U,"mouseup",M)})};return{init:function(N){w(N),function(N){N.on("drop",function(_){var A=typeof _.clientX<"u"?N.getDoc().elementFromPoint(_.clientX,_.clientY):null;(n(A)||n(N.dom.getContentEditableParent(A)))&&_.preventDefault()})}(N)}}}),V("tinymce.core.SelectionOverrides",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.DragDropOverrides","tinymce.core.Env","tinymce.core.geom.ClientRect","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Delay","tinymce.core.util.Fun","tinymce.core.util.VK"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k,y){var p=n.isContentEditableTrue,g=n.isContentEditableFalse,d=h.isAfterContentEditableFalse,l=h.isBeforeContentEditableFalse;return function r(o){var w,E=o.getBody(),e=new t(o.getBody(),function N(ae){return o.dom.isBlock(ae)}),C="sel-"+o.dom.uniqueId();function _(ae){ae&&o.selection.setRng(ae)}function A(){return o.selection.getRng()}function F(ae,ne){o.selection.scrollIntoView(ae,ne)}function O(ae,ne,he){return o.fire("ShowCaret",{target:ne,direction:ae,before:he}).isDefaultPrevented()?null:(F(ne,-1===ae),e.show(he,ne))}function R(ae,ne){return ne=h.normalizeRange(ae,E,ne),-1==ae?b.fromRangeStart(ne):b.fromRangeEnd(ne)}function B(ae){return S.isCaretContainer(ae)||S.startsWithCaretContainer(ae)||S.endsWithCaretContainer(ae)}function L(ae){return B(ae.startContainer)||B(ae.endContainer)}function z(ae,ne){var he,$,G,Z,Y,ie,ke,ye,oe,K,Ee=o.$,me=o.dom;if(!ae)return null;if(ae.collapsed){if(!L(ae))if(!1===ne){if(ye=R(-1,ae),g(ye.getNode(!0)))return O(-1,ye.getNode(!0),!1);if(g(ye.getNode()))return O(-1,ye.getNode(),!ye.isAtEnd())}else{if(ye=R(1,ae),g(ye.getNode()))return O(1,ye.getNode(),!ye.isAtEnd());if(g(ye.getNode(!0)))return O(1,ye.getNode(!0),!1)}return null}return Y=ae.startOffset,ie=ae.endOffset,3==(Z=ae.startContainer).nodeType&&0==Y&&g(Z.parentNode)&&(Y=me.nodeIndex(Z=Z.parentNode),Z=Z.parentNode),1!=Z.nodeType||(ie==Y+1&&(he=Z.childNodes[Y]),!g(he))||(oe=K=he.cloneNode(!0),(ke=o.fire("ObjectSelected",{target:he,targetClone:oe})).isDefaultPrevented())?null:(oe=ke.targetClone,0===($=Ee("#"+C)).length&&($=Ee('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",C)).appendTo(o.getBody()),ae=o.dom.createRng(),oe===K&&s.ie?($.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(oe),ae.setStartAfter($[0].firstChild.firstChild),ae.setEndAfter(oe)):($.empty().append("\xa0").append(oe).append("\xa0"),ae.setStart($[0].firstChild,1),ae.setEnd($[0].lastChild,0)),$.css({top:me.getPos(he,o.getBody()).y}),$[0].focus(),(G=o.selection.getSel()).removeAllRanges(),G.addRange(ae),o.$("*[data-mce-selected]").removeAttr("data-mce-selected"),he.setAttribute("data-mce-selected",1),w=he,ue(),ae)}function q(){w&&(w.removeAttribute("data-mce-selected"),o.$("#"+C).remove(),w=null)}function ue(){e.hide()}return s.ceFalse&&(function U(){function ae(G){for(var Z=o.getBody();G&&G!=Z;){if(p(G)||g(G))return G;G=G.parentNode}return null}o.on("mouseup",function(){var G=A();G.collapsed&&_(i.renderCaretAtRange(o,G))}),o.on("click",function(G){var Z;(Z=ae(G.target))&&(g(Z)&&(G.preventDefault(),o.focus()),p(Z)&&o.dom.isChildOf(Z,o.selection.getNode())&&q())}),o.on("blur NewBlock",function(){q(),ue()});(function he(G){var Z=!1;G.on("touchstart",function(){Z=!1}),G.on("touchmove",function(){Z=!0}),G.on("touchend",function(Y){var ie=ae(Y.target);g(ie)&&(Z||(Y.preventDefault(),z(i.selectNode(G,ie))))})})(o),o.on("mousedown",function(G){var Z;if(Z=ae(G.target))g(Z)?(G.preventDefault(),z(i.selectNode(o,Z))):(q(),(!p(Z)||!G.shiftKey)&&!function ne(G,Z,Y){return!Y.collapsed&&c.reduce(Y.getClientRects(),function(ie,ke){return ie||f.containsXY(ke,G,Z)},!1)}(G.clientX,G.clientY,o.selection.getRng())&&o.selection.placeCaretAt(G.clientX,G.clientY));else{q(),ue();var Y=m.closestCaret(E,G.clientX,G.clientY);Y&&(function(G,Z){var Y=o.dom.getParent(G,o.dom.isBlock),ie=o.dom.getParent(Z,o.dom.isBlock);return Y&&!function(G,Z){return o.dom.getParent(G,o.dom.isBlock)===o.dom.getParent(Z,o.dom.isBlock)}(Y,ie)&&function(G){var Z=new a(G);if(!G.firstChild)return!1;var Y=b.before(G.firstChild),ie=Z.next(Y);return ie&&!l(ie)&&!d(ie)}(Y)}(G.target,Y.node)||(G.preventDefault(),o.getBody().focus(),_(O(1,Y.node,Y.before))))}}),o.on("keypress",function(G){y.modifierPressed(G)||g(o.selection.getNode())&&G.preventDefault()}),o.on("getSelectionRange",function(G){var Z=G.range;if(w){if(!w.parentNode)return void(w=null);(Z=Z.cloneRange()).selectNode(w),G.range=Z}}),o.on("setSelectionRange",function(G){var Z;(Z=z(G.range,G.forward))&&(G.range=Z)}),o.on("AfterSetSelectionRange",function(G){var Z=G.range;L(Z)||ue(),function x(ae){return o.dom.hasClass(ae,"mce-offscreen-selection")}(Z.startContainer.parentNode)||q()}),o.on("focus",function(){v.setEditorTimeout(o,function(){o.selection.setRng(i.renderRangeCaret(o,o.selection.getRng()))},0)}),o.on("copy",function(G){var Z=G.clipboardData;if(!G.isDefaultPrevented()&&G.clipboardData&&!s.ie){var Y=function T(){var ae=o.dom.get(C);return ae&&ae.getElementsByTagName("*")[0]}();Y&&(G.preventDefault(),Z.clearData(),Z.setData("text/html",Y.outerHTML),Z.setData("text/plain",Y.outerText))}}),u.init(o)}(),function P(){var ae=o.contentStyles,ne=".mce-content-body";ae.push(e.getCss()),ae.push(ne+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+ne+" *[contentEditable=false] {cursor: default;}"+ne+" *[contentEditable=true] {cursor: text;}")}()),{showCaret:O,showBlockCaretContainer:function M(ae){ae.hasAttribute("data-mce-caret")&&(S.showCaretContainerBlock(ae),_(A()),F(ae[0]))},hideFakeCaret:ue,destroy:function ee(){e.destroy(),w=null}}}}),V("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],function(S){return{create:function b(a,t,m){for(var n=[];t&&t!=a;t=t.parentNode)n.push(S.nodeIndex(t,m));return n},resolve:function h(a,t){var m,n,u;for(n=a,m=t.length-1;m>=0;m--){if(t[m]>(u=n.childNodes).length-1)return null;n=u[t[m]]}return n}}}),V("tinymce.core.util.Quirks",["tinymce.core.util.VK","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodePath","tinymce.core.html.Node","tinymce.core.html.Entities","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker"],function(S,b,h,a,t,m,n,u,s,f,i,c){return function(v){var k=u.each,y=S.BACKSPACE,p=S.DELETE,g=v.dom,d=v.selection,l=v.settings,r=v.parser,o=v.serializer,E=n.gecko,e=n.ie,C=n.webkit,w="data:text/mce-internal,",x=e?"Text":"URL";function T(re,fe){try{v.getDoc().execCommand(re,!1,fe)}catch{}}function N(){return v.getDoc().documentMode||6}function _(re){return re.isDefaultPrevented()}function M(){v.shortcuts.add("meta+a",null,"SelectAll")}function P(){v.on("keydown",function(re){if(!_(re)&&re.keyCode===y){if(!v.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng(!0).startOffset){var fe=d.getNode(),Ce=fe.previousSibling;if("HR"==fe.nodeName)return g.remove(fe),void re.preventDefault();Ce&&Ce.nodeName&&"hr"===Ce.nodeName.toLowerCase()&&(g.remove(Ce),re.preventDefault())}}})}function ee(){v.on("keydown",function(re){if(!_(re)&&re.keyCode===y&&d.isCollapsed()&&0===d.getRng(!0).startOffset){var fe=d.getNode().previousSibling;if(fe&&fe.nodeName&&"table"===fe.nodeName.toLowerCase())return re.preventDefault(),!1}})}function oe(){v.inline||(v.contentStyles.push("body {min-height: 150px}"),v.on("click",function(re){var fe;if("HTML"==re.target.nodeName){if(n.ie>11)return void v.getBody().focus();fe=v.selection.getRng(),v.getBody().focus(),v.selection.setRng(fe),v.selection.normalize(),v.nodeChanged()}}))}function Te(){function re(fe){var Ce=new c(fe.getBody()),Ae=fe.selection.getRng(),Me=i.fromRangeStart(Ae),Le=i.fromRangeEnd(Ae),Ye=Ce.prev(Me),Ke=Ce.next(Le);return!fe.selection.isCollapsed()&&(!Ye||Ye.isAtStart()&&Me.isEqual(Ye))&&(!Ke||Ke.isAtEnd()&&Me.isEqual(Ke))}v.on("keypress",function(fe){!_(fe)&&!d.isCollapsed()&&fe.charCode>31&&!S.metaKeyPressed(fe)&&re(v)&&(fe.preventDefault(),v.setContent(String.fromCharCode(fe.charCode)),v.selection.select(v.getBody(),!0),v.selection.collapse(!1),v.nodeChanged())}),v.on("keydown",function(fe){var Ce=fe.keyCode;!_(fe)&&(Ce==p||Ce==y)&&re(v)&&(fe.preventDefault(),v.setContent(""),v.nodeChanged())})}return function ne(){v.on("keydown",function(re){var fe,Ce,Ae,Me,Le;if(!_(re)&&re.keyCode==S.BACKSPACE&&(Ce=(fe=d.getRng()).startContainer,Ae=fe.startOffset,Me=g.getRoot(),Le=Ce,fe.collapsed&&0===Ae)){for(;Le&&Le.parentNode&&Le.parentNode.firstChild==Le&&Le.parentNode!=Me;)Le=Le.parentNode;"BLOCKQUOTE"===Le.tagName&&(v.formatter.toggle("blockquote",null,Le),(fe=g.createRng()).setStart(Ce,0),fe.setEnd(Ce,0),d.setRng(fe))}})}(),function R(){function re(Ce){var Ae=g.create("body"),Me=Ce.cloneContents();return Ae.appendChild(Me),d.serializer.serialize(Ae,{format:"html"})}v.on("keydown",function(Ce){var Me,Le,Ae=Ce.keyCode;if(!_(Ce)&&(Ae==p||Ae==y)){if(Me=v.selection.isCollapsed(),Le=v.getBody(),Me&&!g.isEmpty(Le)||!Me&&!function fe(Ce){if(!Ce.setStart){if(Ce.item)return!1;var Ae=Ce.duplicate();return Ae.moveToElementText(v.getBody()),b.compareRanges(Ce,Ae)}var Me=re(Ce),Le=g.createRng();return Le.selectNode(v.getBody()),Me===re(Le)}(v.selection.getRng()))return;Ce.preventDefault(),v.setContent(""),Le.firstChild&&g.isBlock(Le.firstChild)?v.selection.setCursorLocation(Le.firstChild,0):v.selection.setCursorLocation(Le,0),v.nodeChanged()}})}(),n.windowsPhone||function ie(){v.on("keyup focusin mouseup",function(re){(65!=re.keyCode||!S.metaKeyPressed(re))&&d.normalize()},!0)}(),C&&(Te(),function U(){v.settings.content_editable||g.bind(v.getDoc(),"mousedown mouseup",function(re){var fe;if(re.target==v.getDoc().documentElement)if(fe=d.getRng(),v.getBody().focus(),"mousedown"==re.type){if(f.isCaretContainer(fe.startContainer))return;d.placeCaretAt(re.clientX,re.clientY)}else d.setRng(fe)})}(),function L(){v.on("click",function(re){var fe=re.target;/^(IMG|HR)$/.test(fe.nodeName)&&"false"!==g.getContentEditableParent(fe)&&(re.preventDefault(),v.selection.select(fe),v.nodeChanged()),"A"==fe.nodeName&&g.hasClass(fe,"mce-item-anchor")&&(re.preventDefault(),d.select(fe))})}(),function me(){l.forced_root_block&&v.on("init",function(){T("DefaultParagraphSeparator",l.forced_root_block)})}(),function we(){v.on("init",function(){v.dom.bind(v.getBody(),"submit",function(re){re.preventDefault()})})}(),ee(),function De(){r.addNodeFilter("br",function(re){for(var fe=re.length;fe--;)"Apple-interchange-newline"==re[fe].attr("class")&&re[fe].remove()})}(),n.iOS?(function ye(){v.inline||v.on("keydown",function(){document.activeElement==document.body&&v.getWin().focus()})}(),oe(),function be(){v.on("click",function(re){var fe=re.target;do{if("A"===fe.tagName)return void re.preventDefault()}while(fe=fe.parentNode)}),v.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):M()),e&&n.ie<11&&(P(),function q(){document.body.setAttribute("role","application")}(),function ue(){N()>7||(T("RespectVisibilityInDesign",!0),v.contentStyles.push(".mceHideBrInPre pre br {display: none}"),g.addClass(v.getBody(),"mceHideBrInPre"),r.addNodeFilter("pre",function(re){for(var Ce,Ae,Me,Le,fe=re.length;fe--;)for(Ae=(Ce=re[fe].getAll("br")).length;Ae--;)(Le=(Me=Ce[Ae]).prev)&&3===Le.type&&"\n"!=Le.value.charAt(Le.value-1)?Le.value+="\n":Me.parent.insert(new t("#text",3),Me,!0).value="\n"}),o.addNodeFilter("pre",function(re){for(var Ce,Ae,Le,fe=re.length;fe--;)for(Ae=(Ce=re[fe].getAll("br")).length;Ae--;)(Le=Ce[Ae].prev)&&3==Le.type&&(Le.value=Le.value.replace(/\r?\n$/,""))}))}(),function ae(){g.bind(v.getBody(),"mouseup",function(){var re,fe=d.getNode();"IMG"==fe.nodeName&&((re=g.getStyle(fe,"width"))&&(g.setAttrib(fe,"width",re.replace(/[^0-9%]+/g,"")),g.setStyle(fe,"width","")),(re=g.getStyle(fe,"height"))&&(g.setAttrib(fe,"height",re.replace(/[^0-9%]+/g,"")),g.setStyle(fe,"height","")))})}(),function $(){v.on("keydown",function(re){var fe;!_(re)&&re.keyCode==y&&(fe=v.getDoc().selection.createRange())&&fe.item&&(re.preventDefault(),v.undoManager.beforeChange(),g.remove(fe.item(0)),v.undoManager.add())})}(),function G(){var re;N()>=10&&(re="",k("p div h1 h2 h3 h4 h5 h6".split(" "),function(fe,Ce){re+=(Ce>0?",":"")+fe+":empty"}),v.contentStyles.push(re+"{padding-right: 1px !important}"))}(),function Z(){N()<9&&(r.addNodeFilter("noscript",function(re){for(var Ce,Ae,fe=re.length;fe--;)(Ae=(Ce=re[fe]).firstChild)&&Ce.attr("data-mce-innertext",Ae.value)}),o.addNodeFilter("noscript",function(re){for(var Ce,Ae,Me,fe=re.length;fe--;)Ce=re[fe],(Ae=re[fe].firstChild)?Ae.value=m.decode(Ae.value):(Me=Ce.attributes.map["data-mce-innertext"])&&(Ce.attr("data-mce-innertext",null),(Ae=new t("#text",3)).value=Me,Ae.raw=!0,Ce.append(Ae))}))}(),function Y(){var Ce,Ae,Me,re=g.doc,fe=re.body;function Le(je,Xe){var it=fe.createTextRange();try{it.moveToPoint(je,Xe)}catch{it=null}return it}function Ye(je){var Xe;je.button?(Xe=Le(je.x,je.y))&&(Xe.compareEndPoints("StartToStart",Ae)>0?Xe.setEndPoint("StartToStart",Ae):Xe.setEndPoint("EndToEnd",Ae),Xe.select()):Ke()}function Ke(){var je=re.selection.createRange();Ae&&!je.item&&0===je.compareEndPoints("StartToEnd",je)&&Ae.select(),g.unbind(re,"mouseup",Ke),g.unbind(re,"mousemove",Ye),Ae=Ce=0}re.documentElement.unselectable=!0,g.bind(re,"mousedown contextmenu",function(je){if("HTML"===je.target.nodeName){if(Ce&&Ke(),(Me=re.documentElement).scrollHeight>Me.clientHeight)return;Ce=1,(Ae=Le(je.x,je.y))&&(g.bind(re,"mouseup",Ke),g.bind(re,"mousemove",Ye),g.getRoot().focus(),Ae.select())}})}()),n.ie>=11&&(oe(),ee()),n.ie&&(M(),function se(){T("AutoUrlDetect",!1)}(),function ve(){v.on("dragstart",function(re){!function A(re){var fe,Ce;re.dataTransfer&&(v.selection.isCollapsed()&&"IMG"==re.target.tagName&&d.select(re.target),(fe=v.selection.getContent()).length>0&&(Ce=w+escape(v.id)+","+escape(fe),re.dataTransfer.setData(x,Ce)))}(re)}),v.on("drop",function(re){if(!_(re)){var fe=function F(re){var fe;return re.dataTransfer&&(fe=re.dataTransfer.getData(x))&&fe.indexOf(w)>=0?(fe=fe.substr(w.length).split(","),{id:unescape(fe[0]),html:unescape(fe[1])}):null}(re);if(fe&&fe.id!=v.id){re.preventDefault();var Ce=b.getCaretRangeFromPoint(re.x,re.y,v.getDoc());d.setRng(Ce),function O(re,fe){v.queryCommandSupported("mceInsertClipboardContent")?v.execCommand("mceInsertClipboardContent",!1,{content:re,internal:fe}):v.execCommand("mceInsertContent",!1,re)}(fe.html,!0)}}})}()),E&&(Te(),P(),function B(){window.Range.prototype.getClientRects||v.on("mousedown",function(re){if(!_(re)&&"HTML"===re.target.nodeName){var fe=v.getBody();fe.blur(),s.setEditorTimeout(v,function(){fe.focus()})}})}(),function z(){function re(){var Ce=g.getAttribs(d.getStart().cloneNode(!1));return function(){var Ae=d.getStart();Ae!==v.getBody()&&(g.setAttrib(Ae,"style",null),k(Ce,function(Me){Ae.setAttributeNode(Me.cloneNode(!0))}))}}function fe(){return!d.isCollapsed()&&g.getParent(d.getStart(),g.isBlock)!=g.getParent(d.getEnd(),g.isBlock)}v.on("keypress",function(Ce){var Ae;if(!_(Ce)&&(8==Ce.keyCode||46==Ce.keyCode)&&fe())return Ae=re(),v.getDoc().execCommand("delete",!1,null),Ae(),Ce.preventDefault(),!1}),g.bind(v.getDoc(),"cut",function(Ce){var Ae;!_(Ce)&&fe()&&(Ae=re(),s.setEditorTimeout(v,function(){Ae()}))})}(),function he(){l.readonly||v.on("BeforeExecCommand MouseDown",function re(){T("StyleWithCSS",!1),T("enableInlineTableEditing",!1),l.object_resizing||T("enableObjectResizing",!1)})}(),function Ee(){v.on("SetContent ExecCommand",function(fe){("setcontent"==fe.type||"mceInsertLink"===fe.command)&&function re(){k(g.select("a"),function(fe){var Ce=fe.parentNode,Ae=g.getRoot();if(Ce.lastChild===fe){for(;Ce&&!g.isBlock(Ce);){if(Ce.parentNode.lastChild!==Ce||Ce===Ae)return;Ce=Ce.parentNode}g.add(Ce,"br",{"data-mce-bogus":1})}})}()})}(),function ke(){v.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function K(){n.mac&&v.on("keydown",function(re){S.metaKeyPressed(re)&&!re.shiftKey&&(37==re.keyCode||39==re.keyCode)&&(re.preventDefault(),v.selection.getSel().modify("move",37==re.keyCode?"backward":"forward","lineboundary"))})}(),ee()),{refreshContentEditable:function Ue(){},isHidden:function qe(){var re;return!E||v.removed?0:!(re=v.selection.getSel())||!re.rangeCount||0===re.rangeCount}}}}),V("tinymce.core.init.InitContentBody",["global!document","global!window","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.EditorUpload","tinymce.core.ErrorReporter","tinymce.core.ForceBlocks","tinymce.core.Formatter","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k,y,p,g,d,l,r){var o=a.DOM,C=function(x){x.bindPendingEventDelegates(),x.initialized=!0,x.fire("init"),x.focus(!0),x.nodeChanged({initial:!0}),x.execCallback("init_instance_callback",x),function(x){x.settings.auto_focus&&d.setEditorTimeout(x,function(){var T;(T=!0===x.settings.auto_focus?x:x.editorManager.get(x.settings.auto_focus)).destroyed||T.focus()},100)}(x)};return{initContentBody:function(x,T){var F,O,N=x.settings,_=x.getElement(),A=x.getDoc();N.inline||(x.getElement().style.visibility=x.orgVisibility),!T&&!N.content_editable&&(A.open(),A.write(x.iframeHTML),A.close()),N.content_editable&&(x.on("remove",function(){var R=this.getBody();o.removeClass(R,"mce-content-body"),o.removeClass(R,"mce-edit-focus"),o.setAttrib(R,"contentEditable",null)}),o.addClass(_,"mce-content-body"),x.contentDocument=A=N.content_document||S,x.contentWindow=N.content_window||b,x.bodyElement=_,N.content_document=N.content_window=null,N.root_name=_.nodeName.toLowerCase()),(F=x.getBody()).disabled=!0,x.readonly=N.readonly,x.readonly||(x.inline&&"static"===o.getStyle(F,"position",!0)&&(F.style.position="relative"),F.contentEditable=x.getParam("content_editable_state",!0)),F.disabled=!1,x.editorUpload=new n(x),x.schema=new v(N),x.dom=new a(A,{keep_values:!0,url_converter:x.convertURL,url_converter_scope:x,hex_colors:N.force_hex_style_colors,class_filter:N.class_filter,update_styles:!0,root_element:x.inline?x.getBody():null,collect:N.content_editable,schema:x.schema,onSetAttrib:function(R){x.fire("SetAttrib",R)}}),x.parser=function(x){var T=new i(x.settings,x.schema);return T.addAttributeFilter("src,href,style,tabindex",function(N,_){for(var F,R,M,A=N.length,O=x.dom;A--;)if(R=(F=N[A]).attr(_),!F.attributes.map[M="data-mce-"+_]){if(0===R.indexOf("data:")||0===R.indexOf("blob:"))continue;"style"===_?((R=O.serializeStyle(O.parseStyle(R),F.name)).length||(R=null),F.attr(M,R),F.attr(_,R)):"tabindex"===_?(F.attr(M,R),F.attr(_,null)):F.attr(M,x.convertURL(R,_,F.name))}}),T.addNodeFilter("script",function(N){for(var A,F,_=N.length;_--;)0!==(F=(A=N[_]).attr("type")||"no/type").indexOf("mce-")&&A.attr("type","mce-"+F)}),T.addNodeFilter("#cdata",function(N){for(var A,_=N.length;_--;)(A=N[_]).type=8,A.name="#comment",A.value="[CDATA["+A.value+"]]"}),T.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(N){for(var A,_=N.length,F=x.schema.getNonEmptyElements();_--;)(A=N[_]).isEmpty(F)&&0===A.getAll("br").length&&(A.append(new c("br",1)).shortEnded=!0)}),T}(x),x.serializer=new m(N,x),x.selection=new t(x.dom,x.getWin(),x.serializer,x),x.formatter=new f(x),x.undoManager=new g(x),x._nodeChangeDispatcher=new y(x),x._selectionOverrides=new p(x),h.setup(x),k.setup(x),s.setup(x),x.fire("PreInit"),!N.browser_spellcheck&&!N.gecko_spellcheck&&(A.body.spellcheck=!1,o.setAttrib(F,"spellcheck","false")),x.quirks=new l(x),x.fire("PostRender"),N.directionality&&(F.dir=N.directionality),N.nowrap&&(F.style.whiteSpace="nowrap"),N.protect&&x.on("BeforeSetContent",function(R){r.each(N.protect,function(M){R.content=R.content.replace(M,function(U){return"\x3c!--mce:protected "+escape(U)+"--\x3e"})})}),x.on("SetContent",function(){x.addVisual(x.getBody())}),N.padd_empty_editor&&x.on("PostProcess",function(R){R.content=R.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),x.load({initial:!0,format:"html"}),x.startContent=x.getContent({format:"raw"}),x.on("compositionstart compositionend",function(R){x.composing="compositionstart"===R.type}),x.contentStyles.length>0&&(O="",r.each(x.contentStyles,function(R){O+=R+"\r\n"}),x.dom.addStyle(O)),x.dom.styleSheetLoader.loadAll(x.contentCSS,function(R){C(x)},function(R){C(x),u.contentCssError(x,R)})}}}),V("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(S){return S.PluginManager}),V("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(S){return S.ThemeManager}),V("tinymce.core.init.Init",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.init.InitContentBody","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(S,b,h,a,t,m,n,u,s){var f=h.DOM,i=function(d,l,r){var E,e,o=m.get(r);if(E=m.urls[r]||d.documentBaseUrl.replace(/\/$/,""),r=u.trim(r),o&&-1===u.inArray(l,r)){if(u.each(m.dependencies(r),function(C){i(d,l,C)}),d.plugins[r])return;e=new o(d,E,d.$),d.plugins[r]=e,e.init&&(e.init(d,E),l.push(r))}};return{init:function(d){var o,l=d.settings,r=d.getElement();if(d.rtl=l.rtl_ui||d.editorManager.i18n.rtl,d.editorManager.i18n.setCode(l.language),l.aria_label=l.aria_label||f.getAttrib(r,"aria-label",d.getLang("aria.rich_text_area")),d.fire("ScriptsLoaded"),function(d){var l,r=d.settings;r.theme&&("function"!=typeof r.theme?(r.theme=r.theme.replace(/-/,""),l=n.get(r.theme),d.theme=new l(d,n.urls[r.theme]),d.theme.init&&d.theme.init(d,n.urls[r.theme]||d.documentBaseUrl.replace(/\/$/,""),d.$)):d.theme=r.theme)}(d),function(d){var l=[];u.each(d.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(r){i(d,l,r)})}(d),o=function(d){var l,r,o,E,e,C=d.settings,w=d.getElement();return C.render_ui&&d.theme&&(d.orgDisplay=w.style.display,"function"!=typeof C.theme?(l=C.width||f.getStyle(w,"width")||"100%",r=C.height||f.getStyle(w,"height")||w.offsetHeight,o=C.min_height||100,(E=/^[0-9\.]+(|px)$/i).test(""+l)&&(l=Math.max(parseInt(l,10),100)),E.test(""+r)&&(r=Math.max(parseInt(r,10),o)),e=d.theme.renderUI({targetNode:w,width:l,height:r,deltaWidth:C.delta_width,deltaHeight:C.delta_height}),C.content_editable||(r=(e.iframeHeight||r)+("number"==typeof r?e.deltaHeight||0:""))<o&&(r=o)):((e=C.theme(d,w)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||d.id+"_parent"),e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||d.id+"_iframecontainer"),r=e.iframeHeight||w.offsetHeight),d.editorContainer=e.editorContainer,e.height=r),e}(d),l.content_css&&u.each(u.explode(l.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),l.content_style&&d.contentStyles.push(l.content_style),l.content_editable)return t.initContentBody(d);var E=function(d,l){var o,E,r=d.settings;d.iframeHTML=r.doctype+"<html><head>",r.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!a.caretAfter&&r.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(o=r.body_id||"tinymce").indexOf("=")&&(o=(o=d.getParam("body_id","","hash"))[d.id]||o),-1!=(E=r.body_class||"").indexOf("=")&&(E=(E=d.getParam("body_class","","hash"))[d.id]||""),r.content_security_policy&&(d.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+r.content_security_policy+'" />'),d.iframeHTML+='</head><body id="'+o+'" class="mce-content-body '+E+'" data-id="'+d.id+'"><br></body></html>';var e=f.create("iframe",{id:d.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:l.height,display:"block"}});e.onload=function(){e.onload=null,d.fire("load")};var C=function(d,l){if(S.domain!==b.location.hostname&&a.ie&&a.ie<12){var r=s.uuid("mce");return d[r]=function(){t.initContentBody(d)},f.setAttrib(l,"src",'javascript:(function(){document.open();document.domain="'+S.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()"),!0}return!1}(d,e);return d.contentAreaContainer=l.iframeContainer,d.iframeElement=e,f.add(l.iframeContainer,e),C}(d,o);o.editorContainer&&(f.get(o.editorContainer).style.display=d.orgDisplay,d.hidden=f.isHidden(o.editorContainer)),d.getElement().style.display="none",f.setAttrib(d.id,"aria-hidden",!0),E||t.initContentBody(d)}}}),V("tinymce.core.init.Render",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.NotificationManager","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.WindowManager"],function(S,b,h,a,t,m,n,u,s,f,i,c){var v=b.DOM;return{render:function(p){var g=p.settings,d=p.id;if(h.Event.domLoaded){if(p.getElement()&&t.contentEditable){g.inline?p.inline=!0:(p.orgVisibility=p.getElement().style.visibility,p.getElement().style.visibility="hidden");var r=p.getElement().form||v.getParent(d,"form");r&&(p.formElement=r,g.hidden_input&&!/TEXTAREA|INPUT/i.test(p.getElement().nodeName)&&(v.insertAfter(v.create("input",{type:"hidden",name:d}),d),p.hasHiddenInput=!0),p.formEventDelegate=function(o){p.fire(o.type,o)},v.bind(r,"submit reset",p.formEventDelegate),p.on("reset",function(){p.setContent(p.startContent,{format:"raw"})}),g.submit_patch&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit&&(r._mceOldSubmit=r.submit,r.submit=function(){return p.editorManager.triggerSave(),p.setDirty(!1),r._mceOldSubmit(r)})),p.windowManager=new c(p),p.notificationManager=new u(p),"xml"===g.encoding&&p.on("GetContent",function(o){o.save&&(o.content=v.encode(o.content))}),g.add_form_submit_trigger&&p.on("submit",function(){p.initialized&&p.save()}),g.add_unload_trigger&&(p._beforeUnload=function(){p.initialized&&!p.destroyed&&!p.isHidden()&&p.save({format:"raw",no_events:!0,set_dirty:!1})},p.editorManager.on("BeforeUnload",p._beforeUnload)),p.editorManager.add(p),function(p,g){var d=p.settings,l=a.ScriptLoader;if(d.language&&"en"!=d.language&&!d.language_url&&(d.language_url=p.editorManager.baseURL+"/langs/"+d.language+".js"),d.language_url&&l.add(d.language_url),d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!f.urls[d.theme]){var r=d.theme_url;r=r?p.documentBaseURI.toAbsolute(r):"themes/"+d.theme+"/theme"+g+".js",f.load(d.theme,r)}i.isArray(d.plugins)&&(d.plugins=d.plugins.join(" ")),i.each(d.external_plugins,function(o,E){s.load(E,o),d.plugins+=" "+E}),i.each(d.plugins.split(/[ ,]/),function(o){if((o=i.trim(o))&&!s.urls[o])if("-"===o.charAt(0)){o=o.substr(1,o.length);var E=s.dependencies(o);i.each(E,function(e){e=s.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+g+".js"},e),s.load(e.resource,e)})}else s.load(o,{prefix:"plugins/",resource:o,suffix:"/plugin"+g+".js"})}),l.loadQueue(function(){p.removed||n.init(p)},p,function(o){m.pluginLoadError(p,o[0]),p.removed||n.init(p)})}(p,p.suffix)}}else v.bind(S,"ready",function l(){v.unbind(S,"ready",l),p.render()})}}}),V("tinymce.core.Mode",[],function(){function S(t,m,n){try{t.getDoc().execCommand(m,!1,n)}catch{}}function h(t,m){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),m?(t._clickBlocker=function b(t){var m,n;return m=t.getBody(),n=function(u){t.dom.getParents(u.target,"a").length>0&&u.preventDefault()},t.dom.bind(m,"click",n),{unbind:function(){t.dom.unbind(m,"click",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,S(t,"StyleWithCSS",!1),S(t,"enableInlineTableEditing",!1),S(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())}return{setMode:function a(t,m){m!=(t.readonly?"readonly":"design")&&(t.initialized?h(t,"readonly"==m):t.on("init",function(){h(t,"readonly"==m)}),t.fire("SwitchMode",{mode:m}))}}}),V("tinymce.core.ui.Sidebar",[],function(){return{add:function(b,h,a){var t=b.sidebars?b.sidebars:[];t.push({name:h,settings:a}),b.sidebars=t}}}),V("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k){var y=h.DOM,p=c.extend,g=c.each,d=c.trim,l=c.resolve,r=m.gecko,o=m.ie;function E(e,C,w){var T,N,_,x=this;T=x.documentBaseUrl=w.documentBaseURL,N=w.baseURI,C=p({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:T,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:x.convertURL,url_converter_scope:x,ie7_compat:!0},_=w.defaultSettings,C),_&&_.external_plugins&&C.external_plugins&&(C.external_plugins=p({},_.external_plugins,C.external_plugins)),x.settings=C,S.language=C.language||"en",S.languageLoad=C.language_load,S.baseURL=w.baseURL,x.id=C.id=e,x.setDirty(!1),x.plugins={},x.documentBaseURI=new v(C.document_base_url||T,{base_uri:N}),x.baseURI=N,x.contentCSS=[],x.contentStyles=[],x.shortcuts=new f(x),x.loadedCSS={},x.editorCommands=new a(x),x.suffix=w.suffix,x.editorManager=w,x.inline=C.inline,x.settings.content_editable=x.inline,C.cache_suffix&&(m.cacheSuffix=C.cache_suffix.replace(/^[\?\&]+/,"")),!1===C.override_viewport&&(m.overrideViewPort=!1),w.fire("SetupEditor",x),x.execCallback("setup",x),x.$=b.overrideDefaults(function(){return{context:x.inline?x.getBody():x.getDoc(),element:x.getBody()}})}return E.prototype={render:function(){u.render(this)},focus:function(e){var T,N,F,C=this,w=C.selection,x=C.settings.content_editable,_=C.getDoc(),A=C.getBody();if(!C.removed){if(!e){if((T=w.getRng()).item&&(N=T.item(0)),C.quirks.refreshContentEditable(),F=function O(R){return C.dom.getParent(R,function(M){return"true"===C.dom.getContentEditable(M)})}(w.getNode()),C.$.contains(A,F))return F.focus(),w.normalize(),void C.editorManager.setActive(C);if(x||(m.opera||C.getBody().focus(),C.getWin().focus()),r||x){if(A.setActive)try{A.setActive()}catch{A.focus()}else A.focus();x&&w.normalize()}N&&N.ownerDocument==_&&((T=_.body.createControlRange()).addElement(N),T.select())}C.editorManager.setActive(C)}},execCallback:function(e){var x,C=this,w=C.settings[e];if(w)return C.callbackLookup&&(x=C.callbackLookup[e])&&(w=x.func,x=x.scope),"string"==typeof w&&(x=(x=w.replace(/\.\w+$/,""))?l(x):0,w=l(w),C.callbackLookup=C.callbackLookup||{},C.callbackLookup[e]={func:w,scope:x}),w.apply(x||C,Array.prototype.slice.call(arguments,1))},translate:function(e){var C=this.settings.language||"en",w=this.editorManager.i18n;return e?(e=w.data[C+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(x,T){return w.data[C+"."+T]||"{#"+T+"}"}),this.editorManager.translate(e)):""},getLang:function(e,C){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==C?C:"{#"+e+"}")},getParam:function(e,C,w){var T,x=e in this.settings?this.settings[e]:C;return"hash"===w?(T={},"string"==typeof x?g(x.indexOf("=")>0?x.split(/[;,](?![^=;,]*(?:[;,]|$))/):x.split(","),function(N){N=N.split("="),T[d(N[0])]=d(N.length>1?N[1]:N)}):T=x,T):x},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,C){var w=this;C.cmd&&(C.onclick=function(){w.execCommand(C.cmd)}),!C.text&&!C.icon&&(C.icon=e),w.buttons=w.buttons||{},C.tooltip=C.tooltip||C.title,w.buttons[e]=C},addSidebar:function(e,C){return i.add(this,e,C)},addMenuItem:function(e,C){var w=this;C.cmd&&(C.onclick=function(){w.execCommand(C.cmd)}),w.menuItems=w.menuItems||{},w.menuItems[e]=C},addContextToolbar:function(e,C){var x,w=this;w.contextToolbars=w.contextToolbars||[],"string"==typeof e&&(x=e,e=function(T){return w.dom.is(T,x)}),w.contextToolbars.push({id:k.uuid("mcet"),predicate:e,items:C})},addCommand:function(e,C,w){this.editorCommands.addCommand(e,C,w)},addQueryStateHandler:function(e,C,w){this.editorCommands.addQueryStateHandler(e,C,w)},addQueryValueHandler:function(e,C,w){this.editorCommands.addQueryValueHandler(e,C,w)},addShortcut:function(e,C,w,x){this.shortcuts.add(e,C,w,x)},execCommand:function(e,C,w,x){return this.editorCommands.execCommand(e,C,w,x)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(y.show(e.getContainer()),y.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,C=e.getDoc();e.hidden||(o&&C&&!e.inline&&C.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(y.hide(e.getContainer()),y.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,C){this.fire("ProgressState",{state:e,time:C})},load:function(e){var x,C=this,w=C.getElement();return C.removed?"":w?((e=e||{}).load=!0,x=C.setContent(void 0!==w.value?w.value:w.innerHTML,e),e.element=w,e.no_events||C.fire("LoadContent",e),e.element=w=null,x):void 0},save:function(e){var x,T,C=this,w=C.getElement();if(w&&C.initialized&&!C.removed)return(e=e||{}).save=!0,e.element=w,e.content=C.getContent(e),e.no_events||C.fire("SaveContent",e),"raw"==e.format&&C.fire("RawSaveContent",e),x=e.content,/TEXTAREA|INPUT/i.test(w.nodeName)?w.value=x:(C.inline||(w.innerHTML=x),(T=y.getParent(C.id,"form"))&&g(T.elements,function(N){if(N.name==C.id)return N.value=x,!1})),e.element=w=null,!1!==e.set_dirty&&C.setDirty(!1),x},setContent:function(e,C){var T,N,w=this,x=w.getBody();return(C=C||{}).format=C.format||"html",C.set=!0,C.content=e,C.no_events||w.fire("BeforeSetContent",C),0===(e=C.content).length||/^\s+$/.test(e)?(N=o&&o<11?"":'<br data-mce-bogus="1">',"TABLE"==x.nodeName?e="<tr><td>"+N+"</td></tr>":/^(UL|OL)$/.test(x.nodeName)&&(e="<li>"+N+"</li>"),(T=w.settings.forced_root_block)&&w.schema.isValidChild(x.nodeName.toLowerCase(),T.toLowerCase())?e=w.dom.createHTML(T,w.settings.forced_root_block_attrs,e=N):!o&&!e&&(e='<br data-mce-bogus="1">'),w.dom.setHTML(x,e),w.fire("SetContent",C)):("raw"!==C.format&&(e=new n({validate:w.validate},w.schema).serialize(w.parser.parse(e,{isRootContent:!0}))),C.content=d(e),w.dom.setHTML(x,C.content),C.no_events||w.fire("SetContent",C)),C.content},getContent:function(e){var w,C=this,x=C.getBody();return C.removed?"":((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||C.fire("BeforeGetContent",e),w="raw"==e.format?c.trim(C.serializer.getTrimmedContent()):"text"==e.format?x.innerText||x.textContent:C.serializer.serialize(x,e),e.content="text"!=e.format?d(w):w,e.no_events||C.fire("GetContent",e),e.content)},insertContent:function(e,C){C&&(e=p({content:e},C)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var C=!this.isNotDirty;this.isNotDirty=!e,e&&e!=C&&this.fire("dirty")},setMode:function(e){s.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=y.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=y.get(this.id)),this.targetElm},getWin:function(){var C,e=this;return e.contentWindow||(C=e.iframeElement)&&(e.contentWindow=C.contentWindow),e.contentWindow},getDoc:function(){var C,e=this;return e.contentDocument||(C=e.getWin())&&(e.contentDocument=C.document),e.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,C,w){var x=this,T=x.settings;return T.urlconverter_callback?x.execCallback("urlconverter_callback",e,w,!0,C):!T.convert_urls||w&&"LINK"==w.nodeName||0===e.indexOf("file:")||0===e.length?e:T.relative_urls?x.documentBaseURI.toRelative(e):e=x.documentBaseURI.toAbsolute(e,T.remove_script_host)},addVisual:function(e){var T,C=this,w=C.settings,x=C.dom;e=e||C.getBody(),void 0===C.hasVisual&&(C.hasVisual=w.visual),g(x.select("table,a",e),function(N){var _;switch(N.nodeName){case"TABLE":return T=w.visual_table_class||"mce-item-table",void((_=x.getAttrib(N,"border"))&&"0"!=_||!C.hasVisual?x.removeClass(N,T):x.addClass(N,T));case"A":return void(x.getAttrib(N,"href",!1)||(_=x.getAttrib(N,"name")||N.id,T=w.visual_anchor_class||"mce-item-anchor",_&&C.hasVisual?x.addClass(N,T):x.removeClass(N,T)))}}),C.fire("VisualAid",{element:e,hasVisual:C.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&y.remove(e.getElement().nextSibling),e.inline||(o&&o<10&&e.getDoc().execCommand("SelectAll",!1,null),y.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),y.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var w,C=this;if(!C.destroyed){if(!e&&!C.removed)return void C.remove();e||(C.editorManager.off("beforeunload",C._beforeUnload),C.theme&&C.theme.destroy&&C.theme.destroy(),C.selection.destroy(),C.dom.destroy()),(w=C.formElement)&&(w._mceOldSubmit&&(w.submit=w._mceOldSubmit,w._mceOldSubmit=null),y.unbind(w,"submit reset",C.formEventDelegate)),C.contentAreaContainer=C.formElement=C.container=C.editorContainer=null,C.bodyElement=C.contentDocument=C.contentWindow=null,C.iframeElement=C.targetElm=null,C.selection&&(C.selection=C.selection.win=C.selection.dom=C.selection.dom.doc=null),C.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},p(E.prototype,t),E}),V("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(S){"use strict";var b={},h="en";return{setCode:function(a){a&&(h=a,this.rtl=!!this.data[a]&&"rtl"===this.data[a]._dir)},getCode:function(){return h},rtl:!1,add:function(a,t){var m=b[a];for(var n in m||(b[a]=m={}),t)m[n]=t[n];this.setCode(a)},translate:function(a){var t=b[h]||{};function m(f){return S.is(f,"function")?Object.prototype.toString.call(f):n(f)?"":""+f}function n(f){return""===f||null===f||S.is(f,"undefined")}function u(f){return f=m(f),S.hasOwn(t,f)?m(t[f]):f}if(n(a))return"";if(S.is(a,"object")&&S.hasOwn(a,"raw"))return m(a.raw);if(S.is(a,"array")){var s=a.slice(1);a=u(a[0]).replace(/\{([0-9]+)\}/g,function(f,i){return S.hasOwn(s,i)?m(s[i]):f})}return u(a).replace(/{context:\w+}$/,"")},data:b}}),V("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay","tinymce.core.Env"],function(S,b,h){var a,t,m,n=S.DOM,u=function(c,v){var k=c?c.settings.custom_ui_selector:"";return null!==n.getParent(v,function(p){return i.isEditorUIElement(p)||!!k&&c.dom.is(p,k)})},f=function(c,v){return!1===function(c){return!0===c.inline}(c)||!1===c.dom.isChildOf(v,c.getBody())};function i(c){function v(){try{return document.activeElement}catch{return document.body}}c.on("AddEditor",function p(d){var l=d.editor;l.on("init",function(){(l.inline||h.ie)&&("onbeforedeactivate"in document&&h.ie<9?l.dom.bind(l.getBody(),"beforedeactivate",function(r){if(r.target==l.getBody())try{l.lastRng=l.selection.getRng()}catch{}}):l.on("nodechange mouseup keyup",function(r){var o=v();"nodechange"==r.type&&r.selectionChange||(o&&o.id==l.id+"_ifr"&&(o=l.getBody()),l.dom.isChildOf(o,l.getBody())&&(l.lastRng=l.selection.getRng()))}),h.webkit&&!a&&(a=function(){var r=c.activeEditor;if(r&&r.selection){var o=r.selection.getRng();o&&!o.collapsed&&(l.lastRng=o)}},n.bind(document,"selectionchange",a)))}),l.on("setcontent",function(){l.lastRng=null}),l.on("mousedown",function(){l.selection.lastFocusBookmark=null}),l.on("focusin",function(){var o,r=c.focusedEditor;l.selection.lastFocusBookmark&&(o=function y(d,l){var r;return l.startContainer?((r=d.getDoc().createRange()).setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}(l,l.selection.lastFocusBookmark),l.selection.lastFocusBookmark=null,l.selection.setRng(o)),r!=l&&(r&&r.fire("blur",{focusedEditor:l}),c.setActive(l),c.focusedEditor=l,l.fire("focus",{blurredEditor:r}),l.focus(!0)),l.lastRng=null}),l.on("focusout",function(){b.setEditorTimeout(l,function(){var r=c.focusedEditor;!u(l,v())&&r==l&&(l.fire("blur",{focusedEditor:null}),c.focusedEditor=null,l.selection&&(l.selection.lastFocusBookmark=null))})}),t||(t=function(r){var E,o=c.activeEditor;E=r.target,o&&E.ownerDocument===document&&(o.selection&&E!==o.getBody()&&f(l,E)&&(o.selection.lastFocusBookmark=function k(d,l){return l&&l.startContainer?d.isChildOf(l.startContainer,d.getRoot())&&d.isChildOf(l.endContainer,d.getRoot())?{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}:void 0:l}(o.dom,o.lastRng)),E!==document.body&&!u(o,E)&&c.focusedEditor===o&&(o.fire("blur",{focusedEditor:null}),c.focusedEditor=null))},n.bind(document,"focusin",t)),l.inline&&!m&&(m=function(r){var o=c.activeEditor,E=o.dom;if(o.inline&&E&&!E.isChildOf(r.target,o.getBody())){var e=o.selection.getRng();e.collapsed||(o.lastRng=e)}},n.bind(document,"mouseup",m))}),c.on("RemoveEditor",function g(d){c.focusedEditor==d.editor&&(c.focusedEditor=null),c.activeEditor||(n.unbind(document,"selectionchange",a),n.unbind(document,"focusin",t),n.unbind(document,"mouseup",m),a=t=m=null)})}return i.isEditorUIElement=function(c){return-1!==c.className.toString().indexOf("mce-")},i._isUIElement=u,i}),V("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],function(S){var b=S.each,h=S.explode;return{register:function(t){t.on("AddEditor",function(m){var n=m.editor;n.on("preInit",function(){var u,s,f,i=n.settings;function c(k,y){b(y,function(p,g){p&&f.setStyle(k,g,p)}),f.rename(k,"span")}i.inline_styles&&(s=h(i.font_size_legacy_values),u={font:function(k,y){c(y,{backgroundColor:y.style.backgroundColor,color:y.color,fontFamily:y.face,fontSize:s[parseInt(y.size,10)-1]})},u:function(k,y){"html4"===n.settings.schema&&c(y,{textDecoration:"underline"})},strike:function(k,y){c(y,{textDecoration:"line-through"})}},n.on("PreProcess SetContent",function v(k){f=n.dom,i.convert_fonts_to_spans&&b(f.select("font,u,strike",k.node),function(y){u[y.nodeName.toLowerCase()](f,y)})}))})})}}}),V("tinymce.core.EditorManager",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.FocusManager","tinymce.core.LegacyInput","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(S,b,h,a,t,m,n,u,s,f,i,c,v){var l,r,k=h.DOM,y=c.explode,p=c.each,g=c.extend,d=0,o=!1;function E(x){p(r.editors,function(T){T.fire("scroll"===x.type?"ScrollWindow":"ResizeWindow",x)})}function e(x,T){T!==o&&(T?b(window).on("resize scroll",E):b(window).off("resize scroll",E),o=T)}function C(x){var N,T=r.editors;delete T[x.id];for(var _=0;_<T.length;_++)if(T[_]==x){T.splice(_,1),N=!0;break}return r.activeEditor==x&&(r.activeEditor=T[0]),r.focusedEditor==x&&(r.focusedEditor=null),N}return r={$:b,majorVersion:"4",minorVersion:"6.3",releaseDate:"2017-05-30",editors:[],i18n:s,activeEditor:null,setup:function(){var T,N,A,F,x=this,_="";if(N=v.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(N)&&(N=N.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(N)||(N+="/")),A=window.tinymce||window.tinyMCEPreInit)T=A.base||A.baseURL,_=A.suffix;else{for(var O=document.getElementsByTagName("script"),R=0;R<O.length;R++){var M=(F=O[R].src).substring(F.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(F)){-1!=M.indexOf(".min")&&(_=".min"),T=F.substring(0,F.lastIndexOf("/"));break}}!T&&document.currentScript&&(-1!=(F=document.currentScript.src).indexOf(".min")&&(_=".min"),T=F.substring(0,F.lastIndexOf("/")))}x.baseURL=new v(N).toAbsolute(T),x.documentBaseURL=N,x.baseURI=new v(x.baseURL),x.suffix=_,x.focusManager=new n(x)},overrideDefaults:function(x){var T;(T=x.base_url)&&(this.baseURL=new v(this.documentBaseURL).toAbsolute(T.replace(/\/+$/,"")),this.baseURI=new v(this.baseURL)),x.suffix&&(this.suffix=x.suffix),this.defaultSettings=x;var _=x.plugin_base_urls;for(var A in _)S.PluginManager.urls[A]=_[A]},init:function(x){var N,_,T=this;function F(B){var L=B.id;return L||(L=(L=B.name)&&!k.get(L)?B.name:k.uniqueId(),B.setAttribute("id",L)),L}function R(B,L){return L.constructor===RegExp?L.test(B.className):k.hasClass(B,L)}_=c.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var U=function(B){N=B};return T.settings=x,k.bind(window,"ready",function P(){var z,B=0,L=[];function q(ee,ue,ae){var ne=new a(ee,ue,T);L.push(ne),ne.on("init",function(){++B===z.length&&U(L)}),ne.targetElm=ne.targetElm||ae,ne.render()}k.unbind(window,"ready",P),function O(B){var L=x[B];if(L)L.apply(T,Array.prototype.slice.call(arguments,2))}("onpageload"),z=b.unique(function M(B){var L,z=[];if(t.ie&&t.ie<11)return m.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(B.types)return p(B.types,function(q){z=z.concat(k.select(q.selector))}),z;if(B.selector)return k.select(B.selector);if(B.target)return[B.target];switch(B.mode){case"exact":(L=B.elements||"").length>0&&p(y(L),function(q){var ee;(ee=k.get(q))?z.push(ee):p(document.forms,function(ue){p(ue.elements,function(ae){ae.name===q&&(q="mce_editor_"+d++,k.setAttrib(ae,"id",q),z.push(ae))})})});break;case"textareas":case"specific_textareas":p(k.select("textarea"),function(q){B.editor_deselector&&R(q,B.editor_deselector)||(!B.editor_selector||R(q,B.editor_selector))&&z.push(q)})}return z}(x)),x.types?p(x.types,function(ee){c.each(z,function(ue){return!k.is(ue,ee.selector)||(q(F(ue),g({},x,ee),ue),!1)})}):(c.each(z,function(ee){!function w(x){x&&x.initialized&&!(x.getContainer()||x.getBody()).parentNode&&(C(x),x.unbindAllNativeEvents(),x.destroy(!0),x.removed=!0,x=null)}(T.get(ee.id))}),0===(z=c.grep(z,function(ee){return!T.get(ee.id)})).length?U([]):p(z,function(ee){!function A(B,L){return B.inline&&L.tagName.toLowerCase()in _}(x,ee)?q(F(ee),x,ee):m.initError("Could not initialize inline editor on invalid inline target element",ee)}))}),new i(function(B){N?B(N):U=function(L){B(L)}})},get:function(x){return arguments.length?x in this.editors?this.editors[x]:null:this.editors},add:function(x){var T=this,N=T.editors;return N[x.id]=x,N.push(x),e(0,!0),T.activeEditor=x,T.fire("AddEditor",{editor:x}),l||(l=function(){T.fire("BeforeUnload")},k.bind(window,"beforeunload",l)),x},createEditor:function(x,T){return this.add(new a(x,T,this))},remove:function(x){var N,A,T=this,_=T.editors;if(x){if("string"!=typeof x)return _[(A=x).id]?(C(A)&&T.fire("RemoveEditor",{editor:A}),_.length||k.unbind(window,"beforeunload",l),A.remove(),e(0,_.length>0),A):null;p(k.select(x=x.selector||x),function(F){(A=_[F.id])&&T.remove(A)})}else for(N=_.length-1;N>=0;N--)T.remove(_[N])},execCommand:function(x,T,N){var _=this,A=_.get(N);switch(x){case"mceAddEditor":return _.get(N)||new a(N,_.settings,_).render(),!0;case"mceRemoveEditor":return A&&A.remove(),!0;case"mceToggleEditor":return A?(A.isHidden()?A.show():A.hide(),!0):(_.execCommand("mceAddEditor",0,N),!0)}return!!_.activeEditor&&_.activeEditor.execCommand(x,T,N)},triggerSave:function(){p(this.editors,function(x){x.save()})},addI18n:function(x,T){s.add(x,T)},translate:function(x){return s.translate(x)},setActive:function(x){var T=this.activeEditor;this.activeEditor!=x&&(T&&T.fire("deactivate",{relatedTarget:x}),x.fire("activate",{relatedTarget:T})),this.activeEditor=x}},g(r,f),r.setup(),u.register(r),r}),V("tinymce.core.util.XHR",["tinymce.core.util.Observable","tinymce.core.util.Tools"],function(S,b){var h={send:function(a){var t,m=0;function n(){!a.async||4==t.readyState||m++>1e4?(a.success&&m<1e4&&200==t.status?a.success.call(a.success_scope,""+t.responseText,t,a):a.error&&a.error.call(a.error_scope,m>1e4?"TIMED_OUT":"GENERAL",t,a),t=null):setTimeout(n,10)}if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=!1!==a.async,a.data=a.data||"",h.fire("beforeInitialize",{settings:a}),t=new XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(a.content_type),t.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.crossDomain&&(t.withCredentials=!0),a.content_type&&t.setRequestHeader("Content-Type",a.content_type),a.requestheaders&&b.each(a.requestheaders,function(u){t.setRequestHeader(u.key,u.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=h.fire("beforeSend",{xhr:t,settings:a}).xhr).send(a.data),!a.async)return n();setTimeout(n,10)}}};return b.extend(h,S),h}),V("tinymce.core.util.JSON",[],function(){return{serialize:function S(b,h){var a,t,m,n;if(h=h||'"',null===b)return"null";if("string"==(m=typeof b))return t="\bb\tt\nn\ff\rr\"\"''\\\\",h+b.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(u,s){return'"'===h&&"'"===u?u:(a=t.indexOf(s))+1?"\\"+t.charAt(a+1):(u=s.charCodeAt().toString(16),"\\u"+"0000".substring(u.length)+u)})+h;if("object"==m){if(b.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(b)){for(a=0,t="[";a<b.length;a++)t+=(a>0?",":"")+S(b[a],h);return t+"]"}for(n in t="{",b)b.hasOwnProperty(n)&&(t+="function"!=typeof b[n]?(t.length>1?","+h:h)+n+h+":"+S(b[n],h):"");return t+"}"}return""+b},parse:function(b){try{return window[String.fromCharCode(101)+"val"]("("+b+")")}catch{}}}}),V("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(S,b,h){var a=h.extend;function t(m){this.settings=a({},m),this.count=0}return t.sendRPC=function(m){return(new t).send(m)},t.prototype={send:function(m){var n=m.error,u=m.success;(m=a(this.settings,m)).success=function(s,f){typeof(s=S.parse(s))>"u"&&(s={error:"JSON Parse error."}),s.error?n.call(m.error_scope||m.scope,s.error,f):u.call(m.success_scope||m.scope,s.result)},m.error=function(s,f){n&&n.call(m.error_scope||m.scope,s,f)},m.data=S.serialize({id:m.id||"c"+this.count++,method:m.method,params:m.params}),m.content_type="application/json",b.send(m)}},t}),V("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(S){return{callbacks:{},count:0,send:function(b){var h=this,a=S.DOM,t=void 0!==b.count?b.count:h.count,m="tinymce_jsonp_"+t;h.callbacks[t]=function(n){a.remove(m),delete h.callbacks[t],b.callback(n)},a.add(a.doc.body,"script",{id:m,src:b.url,type:"text/javascript"}),h.count++}}}),V("tinymce.core.util.LocalStorage",[],function(){var S,b,h,a,t,m;try{if(window.localStorage)return localStorage}catch{}function n(){for(var f in a=[],h)a.push(f);S.length=a.length}function s(){var f,i="";if(m){for(var c in h)f=h[c],i+=(i?",":"")+c.length.toString(32)+","+c+","+f.length.toString(32)+","+f;b.setAttribute(t,i);try{b.save(t)}catch{}n()}}return t="tinymce",b=document.documentElement,(m=!!b.addBehavior)&&b.addBehavior("#default#userData"),S={key:function(f){return a[f]},getItem:function(f){return f in h?h[f]:null},setItem:function(f,i){h[f]=""+i,s()},removeItem:function(f){delete h[f],s()},clear:function(){h={},s()}},function u(){var f,i,c,v=0;if(h={},m){b.load(t),i=b.getAttribute(t)||"";do{var y=k();if(null===y)break;if(null!==(f=k(parseInt(y,32)||0))){if(null===(y=k()))break;c=k(parseInt(y,32)||0),f&&(h[f]=c)}}while(null!==f);n()}function k(p){var g,d;return-1===(d=void 0!==p?v+p:i.indexOf(",",v))||d>i.length?null:(g=i.substring(v,d),v=d+1,g)}}(),S}),V("tinymce.core.api.Compat",["tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.util.Tools","tinymce.core.Env"],function(S,b,h,a,t,m){return{register:function(u){u.DOM=S.DOM,u.ScriptLoader=h.ScriptLoader,u.PluginManager=a.PluginManager,u.ThemeManager=a.ThemeManager,u.dom=u.dom||{},u.dom.Event=b.Event,t.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(s){u[s]=t[s]}),t.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(s){u[s]=m[s.substr(2).toLowerCase()]})}}}),V("tinymce.core.util.Color",[],function(){var S=Math.min,b=Math.max,h=Math.round;return function a(t){var m=this,n=0,u=0,s=0;function y(p){var g;return"object"==typeof p?"r"in p?(n=p.r,u=p.g,s=p.b):"v"in p&&function i(p,g,d){var l,r,o,E;if(p=(parseInt(p,10)||0)%360,g=parseInt(g,10)/100,d=parseInt(d,10)/100,g=b(0,S(g,1)),d=b(0,S(d,1)),0!==g){switch(l=p/60,o=(r=d*g)*(1-Math.abs(l%2-1)),E=d-r,Math.floor(l)){case 0:n=r,u=o,s=0;break;case 1:n=o,u=r,s=0;break;case 2:n=0,u=r,s=o;break;case 3:n=0,u=o,s=r;break;case 4:n=o,u=0,s=r;break;case 5:n=r,u=0,s=o;break;default:n=u=s=0}n=h(255*(n+E)),u=h(255*(u+E)),s=h(255*(s+E))}else n=u=s=h(255*d)}(p.h,p.s,p.v):(g=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(p))?(n=parseInt(g[1],10),u=parseInt(g[2],10),s=parseInt(g[3],10)):(g=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(p))?(n=parseInt(g[1],16),u=parseInt(g[2],16),s=parseInt(g[3],16)):(g=/#([0-F])([0-F])([0-F])/gi.exec(p))&&(n=parseInt(g[1]+g[1],16),u=parseInt(g[2]+g[2],16),s=parseInt(g[3]+g[3],16)),n=n<0?0:n>255?255:n,u=u<0?0:u>255?255:u,s=s<0?0:s>255?255:s,m}t&&y(t),m.toRgb=function v(){return{r:n,g:u,b:s}},m.toHsv=function k(){return function f(p,g,d){var r,o,e,C;return r=0,o=0,(e=S(p/=255,S(g/=255,d/=255)))==(C=b(p,b(g,d)))?{h:0,s:0,v:100*(o=e)}:(r=(C-e)/C,o=C,{h:h(60*((p==e?3:d==e?1:5)-(p==e?g-d:d==e?p-g:d-p)/(C-e))),s:h(100*r),v:h(100*o)})}(n,u,s)},m.toHex=function c(){function p(g){return(g=parseInt(g,10).toString(16)).length>1?g:"0"+g}return"#"+p(n)+p(u)+p(s)},m.parse=y}}),V("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(S,b){"use strict";return S.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(h){this.settings=b.extend({},this.Defaults,h)},preRender:function(h){h.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var m,n,u,s,t=this.settings;m=t.firstControlClass,n=t.lastControlClass,h.each(function(f){f.classes.remove(m).remove(n).add(t.controlClass),f.visible()&&(u||(u=f),s=f)}),u&&u.classes.add(m),s&&s.classes.add(n)},renderHtml:function(h){var t="";return this.applyClasses(h.items()),h.items().each(function(m){t+=m.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),V("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],function(S){"use strict";return S.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(h){var a=h.settings;h.layoutRect({x:a.x,y:a.y,w:a.w,h:a.h}),h.recalc&&h.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),V("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{classes:"widget btn",role:"button"},init:function(b){var a,h=this;h._super(b),b=h.settings,a=h.settings.size,h.on("click mousedown",function(t){t.preventDefault()}),h.on("touchstart",function(t){h.fire("click",t),t.preventDefault()}),b.subtype&&h.classes.add(b.subtype),a&&h.classes.add("btn-"+a),b.icon&&h.icon(b.icon)},icon:function(b){return arguments.length?(this.state.set("icon",b),this):this.state.get("icon")},repaint:function(){var h,b=this.getEl().firstChild;b&&((h=b.style).width=h.height="100%"),this._super()},renderHtml:function(){var m,b=this,h=b._id,a=b.classPrefix,t=b.state.get("icon"),n=b.state.get("text"),u="";return(m=b.settings.image)?(t="none","string"!=typeof m&&(m=window.getSelection?m[0]:m[1]),m=" style=\"background-image: url('"+m+"')\""):m="",n&&(b.classes.add("btn-has-text"),u='<span class="'+a+'txt">'+b.encode(n)+"</span>"),'<div id="'+h+'" class="'+b.classes+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+((t=t?a+"ico "+a+"i-"+t:"")?'<i class="'+t+'"'+m+"></i>":"")+u+"</button></div>"},bindStates:function(){var b=this,h=b.$,a=b.classPrefix+"txt";function t(m){var n=h("span."+a,b.getEl());m?(n[0]||(h("button:first",b.getEl()).append('<span class="'+a+'"></span>'),n=h("span."+a,b.getEl())),n.html(b.encode(m))):n.remove(),b.classes.toggle("btn-has-text",!!m)}return b.state.on("change:text",function(m){t(m.value)}),b.state.on("change:icon",function(m){var n=m.value,u=b.classPrefix;b.settings.icon=n,n=n?u+"ico "+u+"i-"+b.settings.icon:"";var s=b.getEl().firstChild,f=s.getElementsByTagName("i")[0];n?((!f||f!=s.firstChild)&&(f=document.createElement("i"),s.insertBefore(f,s.firstChild)),f.className=n):f&&s.removeChild(f),t(b.state.get("text"))}),b._super()}})}),V("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var b=this,h=b._layout;return b.classes.add("btn-group"),b.preRender(),h.preRender(b),'<div id="'+b._id+'" class="'+b.classes+'"><div id="'+b._id+'-body">'+(b.settings.html||"")+h.renderHtml(b)+"</div></div>"}})}),V("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(b){var h=this;h._super(b),h.on("click mousedown",function(a){a.preventDefault()}),h.on("click",function(a){a.preventDefault(),h.disabled()||h.checked(!h.checked())}),h.checked(h.settings.checked)},checked:function(b){return arguments.length?(this.state.set("checked",b),this):this.state.get("checked")},value:function(b){return arguments.length?this.checked(b):this.checked()},renderHtml:function(){var b=this,h=b._id,a=b.classPrefix;return'<div id="'+h+'" class="'+b.classes+'" unselectable="on" aria-labelledby="'+h+'-al" tabindex="-1"><i class="'+a+"ico "+a+'i-checkbox"></i><span id="'+h+'-al" class="'+a+'label">'+b.encode(b.state.get("text"))+"</span></div>"},bindStates:function(){var b=this;function h(a){b.classes.toggle("checked",a),b.aria("checked",a)}return b.state.on("change:text",function(a){b.getEl("al").firstChild.data=b.translate(a.value)}),b.state.on("change:checked change:value",function(a){b.fire("change"),h(a.value)}),b.state.on("change:icon",function(a){var t=a.value,m=b.classPrefix;if(typeof t>"u")return b.settings.icon;b.settings.icon=t,t=t?m+"ico "+m+"i-"+b.settings.icon:"";var n=b.getEl().firstChild,u=n.getElementsByTagName("i")[0];t?((!u||u!=n.firstChild)&&(u=document.createElement("i"),n.insertBefore(u,n.firstChild)),u.className=t):u&&n.removeChild(u)}),b.state.get("checked")&&h(!0),b._super()}})}),V("tinymce.core.ui.ComboBox",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.VK","tinymce.core.util.Tools"],function(S,b,h,a,t,m){"use strict";return S.extend({init:function(n){var u=this;u._super(n),n=u.settings,u.classes.add("combobox"),u.subinput=!0,u.ariaTarget="inp",n.menu=n.menu||n.values,n.menu&&(n.icon="caret"),u.on("click",function(s){var f=s.target,i=u.getEl();if(a.contains(i,f)||f==i)for(;f&&f!=i;)f.id&&-1!=f.id.indexOf("-open")&&(u.fire("action"),n.menu&&(u.showMenu(),s.aria&&u.menu.items()[0].focus())),f=f.parentNode}),u.on("keydown",function(s){var f;13==s.keyCode&&"INPUT"===s.target.nodeName&&(s.preventDefault(),u.parents().reverse().each(function(i){if(i.toJSON)return f=i,!1}),u.fire("submit",{data:f.toJSON()}))}),u.on("keyup",function(s){if("INPUT"==s.target.nodeName){var f=u.state.get("value"),i=s.target.value;i!==f&&(u.state.set("value",i),u.fire("autocomplete",s))}}),u.on("mouseover",function(s){var f=u.tooltip().moveTo(-65535);if(u.statusLevel()&&-1!==s.target.className.indexOf(u.classPrefix+"status")){var i=u.statusMessage()||"Ok",c=f.text(i).show().testMoveRel(s.target,["bc-tc","bc-tl","bc-tr"]);f.classes.toggle("tooltip-n","bc-tc"==c),f.classes.toggle("tooltip-nw","bc-tl"==c),f.classes.toggle("tooltip-ne","bc-tr"==c),f.moveRel(s.target,c)}})},statusLevel:function(n){return arguments.length>0&&this.state.set("statusLevel",n),this.state.get("statusLevel")},statusMessage:function(n){return arguments.length>0&&this.state.set("statusMessage",n),this.state.get("statusMessage")},showMenu:function(){var s,n=this;n.menu||((s=n.settings.menu||[]).length?s={type:"menu",items:s}:s.type=s.type||"menu",n.menu=b.create(s).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(f){f.control===n.menu&&n.focus()}),n.menu.on("show hide",function(f){f.control.items().each(function(i){i.active(i.value()==n.value())})}).fire("show"),n.menu.on("select",function(f){n.value(f.control.value())}),n.on("focusin",function(f){"INPUT"==f.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var i,c,n=this,u=n.getEl(),s=n.getEl("open"),f=n.layoutRect(),v=0,k=u.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(v=parseInt(h.getRuntimeStyle(k,"padding-right"),10)-parseInt(h.getRuntimeStyle(k,"padding-left"),10)),i=s?f.w-h.getSize(s).width-10:f.w-10;var y=document;return y.all&&(!y.documentMode||y.documentMode<=8)&&(c=n.layoutRect().h-2+"px"),a(k).css({width:i-v,lineHeight:c}),n._super(),n},postRender:function(){var n=this;return a(this.getEl("inp")).on("change",function(u){n.state.set("value",u.target.value),n.fire("change",u)}),n._super()},renderHtml:function(){var c,v,p,n=this,u=n._id,s=n.settings,f=n.classPrefix,i=n.state.get("value")||"",k="",y="";return"spellcheck"in s&&(y+=' spellcheck="'+s.spellcheck+'"'),s.maxLength&&(y+=' maxlength="'+s.maxLength+'"'),s.size&&(y+=' size="'+s.size+'"'),s.subtype&&(y+=' type="'+s.subtype+'"'),p='<i id="'+u+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(y+=' disabled="disabled"'),(c=s.icon)&&"caret"!=c&&(c=f+"ico "+f+"i-"+s.icon),v=n.state.get("text"),(c||v)&&(k='<div id="'+u+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+u+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=c?'<i class="'+c+'"></i>':'<i class="'+f+'caret"></i>')+(v?(c?" ":"")+v:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+u+'" class="'+n.classes+'"><input id="'+u+'-inp" class="'+f+'textbox" value="'+n.encode(i,!1)+'" hidefocus="1"'+y+' placeholder="'+n.encode(s.placeholder)+'" />'+p+k+"</div>"},value:function(n){return arguments.length?(this.state.set("value",n),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(n,u){var s=this;if(0!==n.length){var f=function(c,v){return function(){s.fire("selectitem",{title:v,value:c})}};s.menu?s.menu.items().remove():s.menu=b.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(s).renderTo(),m.each(n,function(c){s.menu.add({text:c.title,url:c.previewUrl,match:u,classes:"menu-item-ellipsis",onclick:f(c.value,c.title)})}),s.menu.renderNew(),s.hideMenu(),s.menu.on("cancel",function(c){c.control.parent()===s.menu&&(c.stopPropagation(),s.focus(),s.hideMenu())}),s.menu.on("select",function(){s.focus()});var i=s.layoutRect().w;s.menu.layoutRect({w:i,minW:0,maxW:i}),s.menu.reflow(),s.menu.show(),s.menu.moveRel(s.getEl(),s.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else s.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var n=this;n.state.on("change:value",function(s){n.getEl("inp").value!=s.value&&(n.getEl("inp").value=s.value)}),n.state.on("change:disabled",function(s){n.getEl("inp").disabled=s.value}),n.state.on("change:statusLevel",function(s){var f=n.getEl("status"),i=n.classPrefix,c=s.value;h.css(f,"display","none"===c?"none":""),h.toggleClass(f,i+"i-checkmark","ok"===c),h.toggleClass(f,i+"i-warning","warn"===c),h.toggleClass(f,i+"i-error","error"===c),n.classes.toggle("has-status","none"!==c),n.repaint()}),h.on(n.getEl("status"),"mouseleave",function(){n.tooltip().hide()}),n.on("cancel",function(s){n.menu&&n.menu.visible()&&(s.stopPropagation(),n.hideMenu())});var u=function(s,f){f&&f.items().length>0&&f.items().eq(s)[0].focus()};return n.on("keydown",function(s){var f=s.keyCode;"INPUT"===s.target.nodeName&&(f===t.DOWN?(s.preventDefault(),n.fire("autocomplete"),u(0,n.menu)):f===t.UP&&(s.preventDefault(),u(-1,n.menu)))}),n._super()},remove:function(){a(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),V("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],function(S){"use strict";return S.extend({init:function(b){var h=this;b.spellcheck=!1,b.onaction&&(b.icon="none"),h._super(b),h.classes.add("colorbox"),h.on("change keyup postrender",function(){h.repaintColor(h.value())})},repaintColor:function(b){var h=this.getEl("open"),a=h?h.getElementsByTagName("i")[0]:null;if(a)try{a.style.background=b}catch{}},bindStates:function(){var b=this;return b.state.on("change:value",function(h){b.state.get("rendered")&&b.repaintColor(h.value)}),b._super()}})}),V("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],function(S,b){"use strict";return S.extend({showPanel:function(){var h=this,a=h.settings;if(h.active(!0),h.panel)h.panel.show();else{var t=a.panel;t.type&&(t={layout:"grid",items:t}),t.role=t.role||"dialog",t.popover=!0,t.autohide=!0,t.ariaRoot=!0,h.panel=new b(t).on("hide",function(){h.active(!1)}).on("cancel",function(m){m.stopPropagation(),h.focus(),h.hidePanel()}).parent(h).renderTo(h.getContainerElm()),h.panel.fire("show"),h.panel.reflow()}h.panel.moveRel(h.getEl(),a.popoverAlign||(h.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var h=this;return h.aria("haspopup",!0),h.on("click",function(a){a.control===h&&(h.panel&&h.panel.visible()?h.hidePanel():(h.showPanel(),h.panel.focus(!!a.aria)))}),h._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),V("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(S,b){"use strict";var h=b.DOM;return S.extend({init:function(a){this._super(a),this.classes.add("colorbutton")},color:function(a){return a?(this._color=a,this.getEl("preview").style.backgroundColor=a,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var a=this,t=a._id,m=a.classPrefix,n=a.state.get("text"),u=a.settings.icon?m+"ico "+m+"i-"+a.settings.icon:"",s=a.settings.image?" style=\"background-image: url('"+a.settings.image+"')\"":"",f="";return n&&(a.classes.add("btn-has-text"),f='<span class="'+m+'txt">'+a.encode(n)+"</span>"),'<div id="'+t+'" class="'+a.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(u?'<i class="'+u+'"'+s+"></i>":"")+'<span id="'+t+'-preview" class="'+m+'preview"></span>'+f+'</button><button type="button" class="'+m+'open" hidefocus="1" tabindex="-1"> <i class="'+m+'caret"></i></button></div>'},postRender:function(){var a=this,t=a.settings.onclick;return a.on("click",function(m){m.aria&&"down"==m.aria.key||m.control==a&&!h.getParent(m.target,"."+a.classPrefix+"open")&&(m.stopImmediatePropagation(),t.call(a,m))}),delete a.settings.onclick,a._super()}})}),V("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],function(S,b,h,a){"use strict";return S.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){var n,u,s,f,i,t=this,m=t.color();function c(p,g){var l,r,d=h.getPos(p);return l=g.pageX-d.x,r=g.pageY-d.y,{x:l=Math.max(0,Math.min(l/p.clientWidth,1)),y:r=Math.max(0,Math.min(r/p.clientHeight,1))}}function v(p,g){h.css(s,{top:(360-p.h)/360*100+"%"}),g||h.css(i,{left:p.s+"%",top:100-p.v+"%"}),f.style.background=new a({s:100,v:100,h:p.h}).toHex(),t.color().parse({s:p.s,v:p.v,h:p.h})}function k(p){var g;g=c(f,p),n.s=100*g.x,n.v=100*(1-g.y),v(n),t.fire("change")}function y(p){var g;g=c(u,p),(n=m.toHsv()).h=360*(1-g.y),v(n,!0),t.fire("change")}u=t.getEl("h"),s=t.getEl("hp"),f=t.getEl("sv"),i=t.getEl("svp"),t._repaint=function(){v(n=m.toHsv())},t._super(),t._svdraghelper=new b(t._id+"-sv",{start:k,drag:k}),t._hdraghelper=new b(t._id+"-h",{start:y,drag:y}),t._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var m=this;if(!arguments.length)return m.color().toHex();m.color().parse(t),m._rendered&&m._repaint()},color:function(){return this._color||(this._color=new a),this._color},renderHtml:function(){var u,t=this,m=t._id,n=t.classPrefix,s="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return u='<div id="'+m+'-h" class="'+n+'colorpicker-h" style="background: -ms-linear-gradient(top,'+s+");background: linear-gradient(to bottom,"+s+');">'+function f(){var c,v,y,p,k="";for(y="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",c=0,v=(p=s.split(",")).length-1;c<v;c++)k+='<div class="'+n+'colorpicker-h-chunk" style="height:'+100/v+"%;"+y+p[c]+",endColorstr="+p[c+1]+");-ms-"+y+p[c]+",endColorstr="+p[c+1]+')"></div>';return k}()+'<div id="'+m+'-hp" class="'+n+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+t.classes+'"><div id="'+m+'-sv" class="'+n+'colorpicker-sv"><div class="'+n+'colorpicker-overlay1"><div class="'+n+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+n+'colorpicker-selector1"><div class="'+n+'colorpicker-selector2"></div></div></div></div></div>'+u+"</div>"}})}),V("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({init:function(b){var h=this;b.delimiter||(b.delimiter="\xbb"),h._super(b),h.classes.add("path"),h.canFocus=!0,h.on("click",function(a){var t;(t=a.target.getAttribute("data-index"))&&h.fire("select",{value:h.row()[t],index:t})}),h.row(h.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(b){return arguments.length?(this.state.set("row",b),this):this.state.get("row")},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes+'">'+b._getDataPathHtml(b.state.get("row"))+"</div>"},bindStates:function(){var b=this;return b.state.on("change:row",function(h){b.innerHtml(b._getDataPathHtml(h.value))}),b._super()},_getDataPathHtml:function(b){var t,m,h=this,a=b||[],n="",u=h.classPrefix;for(t=0,m=a.length;t<m;t++)n+=(t>0?'<div class="'+u+'divider" aria-hidden="true"> '+h.settings.delimiter+" </div>":"")+'<div role="button" class="'+u+"path-item"+(t==m-1?" "+u+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+h._id+"-"+t+'" aria-level="'+(t+1)+'">'+a[t].name+"</div>";return n||(n='<div class="'+u+'path-item">\xa0</div>'),n}})}),V("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],function(S){return S.extend({postRender:function(){var b=this,h=b.settings.editor;function a(t){return!(1!==t.nodeType||"BR"!=t.nodeName&&!t.getAttribute("data-mce-bogus")&&"bookmark"!==t.getAttribute("data-mce-type"))}return!1!==h.settings.elementpath&&(b.on("select",function(t){h.focus(),h.selection.select(this.row()[t.index].element),h.nodeChanged()}),h.on("nodeChange",function(t){for(var m=[],n=t.parents,u=n.length;u--;)if(1==n[u].nodeType&&!a(n[u])){var s=h.fire("ResolveName",{name:n[u].nodeName.toLowerCase(),target:n[u]});if(s.isDefaultPrevented()||m.push({name:s.name,element:n[u]}),s.isPropagationStopped())break}b.row(m)})),b._super()}})}),V("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var b=this,h=b._layout,a=b.classPrefix;return b.classes.add("formitem"),h.preRender(b),'<div id="'+b._id+'" class="'+b.classes+'" hidefocus="1" tabindex="-1">'+(b.settings.title?'<div id="'+b._id+'-title" class="'+a+'title">'+b.settings.title+"</div>":"")+'<div id="'+b._id+'-body" class="'+b.bodyClasses+'">'+(b.settings.html||"")+h.renderHtml(b)+"</div></div>"}})}),V("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],function(S,b,h){"use strict";return S.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var a=this,t=a.items();a.settings.formItemDefaults||(a.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(m){var n,u=m.settings.label;u&&((n=new b(h.extend({items:{type:"label",id:m._id+"-l",text:u,flex:0,forId:m._id,disabled:m.disabled()}},a.settings.formItemDefaults))).type="formitem",m.aria("labelledby",m._id+"-l"),typeof m.settings.flex>"u"&&(m.settings.flex=1),a.replace(m,n),n.add(m))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var a=this;a._super(),a.fromJSON(a.settings.data)},bindStates:function(){var a=this;function t(){var u,s,m=0,n=[];if(!1!==a.settings.labelGapCalc)for(("children"==a.settings.labelGapCalc?a.find("formitem"):a.items()).filter("formitem").each(function(i){var c=i.items()[0],v=c.getEl().clientWidth;m=v>m?v:m,n.push(c)}),s=a.settings.labelGap||0,u=n.length;u--;)n[u].settings.minWidth=m+s}a._super(),a.on("show",t),t()}})}),V("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],function(S){"use strict";return S.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var b=this,h=b._layout,a=b.classPrefix;return b.preRender(),h.preRender(b),'<fieldset id="'+b._id+'" class="'+b.classes+'" hidefocus="1" tabindex="-1">'+(b.settings.title?'<legend id="'+b._id+'-title" class="'+a+'fieldset-title">'+b.settings.title+"</legend>":"")+'<div id="'+b._id+'-body" class="'+b.bodyClasses+'">'+(b.settings.html||"")+h.renderHtml(b)+"</div></fieldset>"}})}),V("tinymce.core.content.LinkTargets",["tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(S,b,h,a,t,m){var n=t.trim,u=function(x,T,N,_,A){return{type:x,title:T,url:N,level:_,attach:A}},i=function(x){return x.innerText||x.textContent},k=function(x){return function(x){return x&&"A"===x.nodeName&&(x.id||x.name)}(x)&&p(x)},y=function(x){return x&&/^(H[1-6])$/.test(x.nodeName)},p=function(x){return function(x){for(;x=x.parentNode;){var T=x.contentEditable;if(T&&"inherit"!==T)return b.isContentEditableTrue(x)}return!1}(x)&&!b.isContentEditableFalse(x)},g=function(x){return y(x)&&p(x)},l=function(x){var T=function(x){return x.id?x.id:m.uuid("h")}(x);return u("header",i(x),"#"+T,function(x){return y(x)?parseInt(x.nodeName.substr(1),10):0}(x),function(){x.id=T})},r=function(x){var T=x.id||x.name,N=i(x);return u("anchor",N||"#"+T,"#"+T,0,a.noop)},C=function(x){return n(x.title).length>0};return{find:function(x){var T=function(x){return function(x,T){return S.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",T)}(0,x)}(x);return h.filter(function(x){return h.map(h.filter(x,g),l)}(T).concat(function(x){return h.map(h.filter(x,k),r)}(T)),C)}}}),V("tinymce.core.ui.FilePicker",["global!window","tinymce.core.content.LinkTargets","tinymce.core.EditorManager","tinymce.core.ui.ComboBox","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(S,b,h,a,t,m,n){"use strict";var s={},i=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},v=function(e,C){return{title:e,value:{title:e,url:C,attach:m.noop}}},y=function(e,C,w){var x=C in e?e[C]:w;return!1===x?null:x},d=function(e,C){var w=e.toLowerCase(),x=n.grep(C,function(T){return-1!==T.title.toLowerCase().indexOf(w)});return 1===x.length&&x[0].title===e?[]:x},r=function(e,C,w,x){var T=function(N){var A=function(e,C,w,x){var O,R,M,T={title:"-"},N=function(O){var R=t.filter(O[w],function(M){return function(e,C){return!t.find(C,function(x){return x.url===e})}(M,C)});return n.map(R,function(M){return{title:M,value:{title:M,url:M,attach:m.noop}}})},_=function(O){return function(e){return n.map(e,i)}(t.filter(C,function(M){return M.type==O}))};return!1===x.typeahead_urls?[]:"file"===w?function(O){return t.reduce(O,function(R,M){return 0===R.length||0===M.length?R.concat(M):R.concat(T,M)},[])}([d(e,N(s)),d(e,_("header")),d(e,(O=_("anchor"),R=y(x,"anchor_top","#top"),M=y(x,"anchor_bottom","#bottom"),null!==R&&O.unshift(v("<top>",R)),null!==M&&O.push(v("<bottom>",M)),O))]):d(e,N(s))}(N,b.find(w),x,C);e.showAutoComplete(A,N)};e.on("autocomplete",function(){T(e.value())}),e.on("selectitem",function(N){var _=N.value;e.value(_.url);var A=function(e){var C=e.title;return C.raw?C.raw:C}(_);e.fire("change","image"===x?{meta:{alt:A,attach:_.attach}}:{meta:{text:A,attach:_.attach}}),e.focus()}),e.on("click",function(N){0===e.value().length&&"INPUT"===N.target.nodeName&&T("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(N){N.isDefaultPrevented()||function(e,C){var w=s[C];/^https?/.test(e)&&(w?-1===t.indexOf(w,e)&&(s[C]=w.slice(0,5).concat(e)):s[C]=[e])}(e.value(),x)})})};return a.extend({init:function(e){var T,N,_,C=this,w=S.tinymce?S.tinymce.activeEditor:h.activeEditor,x=w.settings,A=e.filetype;e.spellcheck=!1,(_=x.file_picker_types||x.file_browser_callback_types)&&(_=n.makeMap(_,/[, ]/)),(!_||_[A])&&(!(N=x.file_picker_callback)||_&&!_[A]?(N=x.file_browser_callback)&&(!_||_[A])&&(T=function(){N(C.getEl("inp").id,C.value(),A,S)}):T=function(){var F=C.fire("beforecall").meta;F=n.extend({filetype:A},F),N.call(w,function(O,R){C.value(O).fire("change",{meta:R})},C.value(),F)}),T&&(e.icon="browse",e.onaction=T),C._super(e),r(C,x,w.getBody(),A),function(e,C,w){var x=C.filepicker_validator_handler;x&&e.state.on("change:value",function(N){!function(N){0!==N.length?x({url:N,type:w},function(_){var A=function(e){var C=e.status,w=e.message;return"valid"===C?{status:"ok",message:w}:"unknown"===C||"invalid"===C?{status:"warn",message:w}:{status:"none",message:""}}(_);e.statusMessage(A.message),e.statusLevel(A.status)}):e.statusLevel("none")}(N.value)})}(C,x,A)}})}),V("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(b){var h=b.layoutRect(),a=b.paddingBox;b.items().filter(":visible").each(function(t){t.layoutRect({x:a.left,y:a.top,w:h.innerW-a.right-a.left,h:h.innerH-a.top-a.bottom}),t.recalc&&t.recalc()})}})}),V("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(b){var h,a,t,m,n,u,s,f,i,c,v,k,y,p,d,r,o,E,e,C,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,l=[],ue=Math.max,ae=Math.min;for(t=b.items().filter(":visible"),m=b.layoutRect(),n=b.paddingBox,u=b.settings,k=b.isRtl()?u.direction||"row-reversed":u.direction,s=u.align,f=b.isRtl()?u.pack||"end":u.pack,i=u.spacing||0,("row-reversed"==k||"column-reverse"==k)&&(t=t.set(t.toArray().reverse()),k=k.split("-")[0]),"column"==k?(N="y",x="h",T="minH",_="maxH",F="innerH",A="top",O="deltaH",R="contentH",L="left",P="w",M="x",U="innerW",B="minW",z="right",q="deltaW",ee="contentW"):(N="x",x="w",T="minW",_="maxW",F="innerW",A="left",O="deltaW",R="contentW",L="top",P="h",M="y",U="innerH",B="minH",z="bottom",q="deltaH",ee="contentH"),v=m[F]-n[A]-n[A],w=c=0,h=0,a=t.length;h<a;h++)p=(y=t[h]).layoutRect(),v-=h<a-1?i:0,(d=y.settings.flex)>0&&(c+=d,p[_]&&l.push(y),p.flex=d),v-=p[T],(r=n[L]+p[B]+n[z])>w&&(w=r);if((e={})[T]=v<0?m[T]-v+m[O]:m[F]-v+m[O],e[B]=w+m[q],e[R]=m[F]-v,e[ee]=w,e.minW=ae(e.minW,m.maxW),e.minH=ae(e.minH,m.maxH),e.minW=ue(e.minW,m.startMinWidth),e.minH=ue(e.minH,m.startMinHeight),!m.autoResize||e.minW==m.minW&&e.minH==m.minH){for(E=v/c,h=0,a=l.length;h<a;h++)(r=(p=(y=l[h]).layoutRect())[T]+p.flex*E)>(o=p[_])?(v-=p[_]-p[T],c-=p.flex,p.flex=0,p.maxFlexSize=o):p.maxFlexSize=0;for(E=v/c,C=n[A],e={},0===c&&("end"==f?C=v+n[A]:"center"==f?(C=Math.round(m[F]/2-(m[F]-v)/2)+n[A])<0&&(C=n[A]):"justify"==f&&(C=n[A],i=Math.floor(v/(t.length-1)))),e[M]=n[L],h=0,a=t.length;h<a;h++)r=(p=(y=t[h]).layoutRect()).maxFlexSize||p[T],"center"===s?e[M]=Math.round(m[U]/2-p[P]/2):"stretch"===s?(e[P]=ue(p[B]||0,m[U]-n[L]-n[z]),e[M]=n[L]):"end"===s&&(e[M]=m[U]-p[P]-n.top),p.flex>0&&(r+=p.flex*E),e[x]=r,e[N]=C,y.layoutRect(e),y.recalc&&y.recalc(),C+=r+i}else if(e.w=e.minW,e.h=e.minH,b.layoutRect(e),this.recalc(b),null===b._lastRect){var ne=b.parent();ne&&(ne._lastRect=null,ne.recalc())}}})}),V("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],function(S){return S.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(h){h.recalc&&h.recalc()})},isNative:function(){return!0}})}),V("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(S,b,h,a,t){var f=function(i){return function(c,v){return b.from(v).map(h.fromDom).filter(a.isElement).bind(function(k){return function(i,c,v){for(;v!==c;){if(v.style[i]){var k=v.style[i];return""!==k?b.some(k):b.none()}v=v.parentNode}return b.none()}(i,c,k.dom()).or(function(i,c){return b.from(t.DOM.getStyle(c,i,!0))}(i,k.dom()))}).getOr("")}};return{getFontSize:f("fontSize"),getFontFamily:S.compose(function(i){return i.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},f("fontFamily")),toPt:function(i){return/[0-9.]+px$/.test(i)?Math.round(72*parseInt(i,10)/96)+"pt":i}}}),V("tinymce.core.ui.FormatControls",["tinymce.core.ui.Control","tinymce.core.ui.Widget","tinymce.core.ui.FloatPanel","tinymce.core.util.Tools","tinymce.core.util.Arr","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.fmt.FontInfo"],function(S,b,h,a,t,m,n,u,s){var f=a.each;return n.on("AddEditor",function(y){var p=y.editor;(function v(y){y.on("ScriptsLoaded",function(){y.rtl&&(S.rtl=!0)})})(p),function k(y){var p;function g(O,R){return function(){var M=this;y.on("nodeChange",function(U){var P=y.formatter,B=null;f(U.parents,function(L){if(f(O,function(z){if(R?P.matchNode(L,R,{value:z.value})&&(B=z.value):P.matchNode(L,z.value)&&(B=z.value),B)return!1}),B)return!1}),M.value(B)})}}function l(O){return function(){var R=this;y.on("nodeChange",function(M){var U,P,B=null;U=s.getFontSize(y.getBody(),M.element),P=s.toPt(U),f(O,function(L){L.value===U?B=U:L.value===P&&(B=P)}),R.value(B),B||R.text(P)})}}function r(O){for(var R=(O=O.replace(/;$/,"").split(";")).length;R--;)O[R]=O[R].split("=");return O}function E(O){return function(){var R=this;y.formatter?y.formatter.formatChanged(O,function(M){R.active(M)}):y.on("init",function(){y.formatter.formatChanged(O,function(M){R.active(M)})})}}function e(O){return function(){var R=this;function M(){return!!y.undoManager&&y.undoManager["redo"==O?"hasRedo":"hasUndo"]()}R.disabled(!M()),y.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){R.disabled(y.readonly||!M())})}}p=function o(){var O=0,R=[],M=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function U(B){var L=[];if(B)return f(B,function(z){var q={text:z.title,icon:z.icon};if(z.items)q.menu=U(z.items);else{var ee=z.format||"custom"+O++;z.format||(z.name=ee,R.push(z)),q.format=ee,q.cmd=z.cmd}L.push(q)}),L}return y.on("init",function(){f(R,function(B){y.formatter.register(B.name,B)})}),{type:"menu",items:function P(){return U(y.settings.style_formats_merge?y.settings.style_formats?M.concat(y.settings.style_formats):M:y.settings.style_formats||M)}(),onPostRender:function(B){y.fire("renderFormatsMenu",{control:B.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return y.formatter.getCssText(this.settings.format)},onPostRender:function(){var B=this;B.parent().on("show",function(){var L,z;(L=B.settings.format)&&(B.disabled(!y.formatter.canApply(L)),B.active(y.formatter.match(L))),(z=B.settings.cmd)&&B.active(y.queryCommandState(z))})},onclick:function(){this.settings.format&&_(this.settings.format),this.settings.cmd&&y.execCommand(this.settings.cmd)}}}}(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(O,R){y.addButton(R,{tooltip:O,onPostRender:E(R),onclick:function(){_(R)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(O,R){y.addButton(R,{tooltip:O[0],cmd:O[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(O,R){y.addButton(R,{tooltip:O[0],cmd:O[1],onPostRender:E(R)})});var x=function(O){var R,M;if("string"==typeof O)M=O.split(" ");else if(a.isArray(O))return function(y){return t.reduce(y,function(p,g){return p.concat(g)},[])}(a.map(O,x));return R=a.grep(M,function(U){return"|"===U||U in y.menuItems}),a.map(R,function(U){return"|"===U?{text:"-"}:y.menuItems[U]})},N=function(O){return function(O){var R=O;return R.length>0&&"-"===R[0].text&&(R=R.slice(1)),R.length>0&&"-"===R[R.length-1].text&&(R=R.slice(0,R.length-1)),R}(O.insert_button_items?x(O.insert_button_items):function(O){var R=[{text:"-"}],M=a.grep(y.menuItems,function(U){return U.context===O});return a.each(M,function(U){"before"==U.separator&&R.push({text:"|"}),U.prependToContext?R.unshift(U):R.push(U),"after"==U.separator&&R.push({text:"|"})}),R}("insert"))};function _(O){O.control&&(O=O.control.value()),O&&y.execCommand("mceToggleFormat",!1,O)}function A(O){var R=O.length;return a.each(O,function(M){M.menu&&(M.hidden=0===A(M.menu));var U=M.format;U&&(M.hidden=!y.formatter.canApply(U)),M.hidden&&R--}),R}function F(O){var R=O.items().length;return O.items().each(function(M){M.menu&&M.visible(F(M.menu)>0),!M.menu&&M.settings.menu&&M.visible(A(M.settings.menu)>0);var U=M.settings.format;U&&M.visible(y.formatter.canApply(U)),M.visible()||R--}),R}y.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),y.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),y.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),y.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),y.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),y.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function C(){var O=this;y.on("VisualAid",function(R){O.active(R.hasVisual)}),O.active(y.hasVisual)},cmd:"mceToggleVisualAid"}),y.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),y.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(N(y.settings)),this.menu.renderNew()}}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(O,R){y.addMenuItem(R,{text:O[0],icon:R,shortcut:O[2],cmd:O[1]})}),y.on("mousedown",function(){h.hideAll()}),y.addButton("styleselect",{type:"menubutton",text:"Formats",menu:p,onShowMenu:function(){y.settings.style_formats_autohide&&F(this.menu)}}),y.addButton("formatselect",function(){var O=[],R=r(y.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(R,function(M){O.push({text:M[0],value:M[1],textStyle:function(){return y.formatter.getCssText(M[1])}})}),{type:"listbox",text:R[0][0],values:O,fixedWidth:!0,onselect:_,onPostRender:g(O)}}),y.addButton("fontselect",function(){var O,R=[],M=r(y.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return f(M,function(U){R.push({text:{raw:U[0]},value:U[1],textStyle:-1==U[1].indexOf("dings")?"font-family:"+U[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:R,fixedWidth:!0,onPostRender:(O=R,function(){var R=this,M=function(U){return U?U.split(",")[0]:""};y.on("nodeChange",function(U){var P,B=null;P=s.getFontFamily(y.getBody(),U.element),f(O,function(L){L.value.toLowerCase()===P.toLowerCase()&&(B=L.value)}),f(O,function(L){!B&&M(L.value).toLowerCase()===M(P).toLowerCase()&&(B=L.value)}),R.value(B),!B&&P&&R.text(M(P))})}),onselect:function(U){U.control.settings.value&&y.execCommand("FontName",!1,U.control.settings.value)}}}),y.addButton("fontsizeselect",function(){var O=[];return f((y.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(U){var P=U,B=U,L=U.split("=");L.length>1&&(P=L[0],B=L[1]),O.push({text:P,value:B})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:O,fixedWidth:!0,onPostRender:l(O),onclick:function(U){U.control.settings.value&&y.execCommand("FontSize",!1,U.control.settings.value)}}}),y.addMenuItem("formats",{text:"Formats",menu:p})}(p),function c(y){y.settings.ui_container&&(u.container=m.DOM.select(y.settings.ui_container)[0])}(p)}),S.translate=function(y){return n.translate(y)},b.tooltips=!u.iOS,{}}),V("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(b){var h,a,t,m,n,u,s,f,i,c,v,k,y,p,g,d,l,r,o,E,e,C,w,N,_,A,F,O,x=[],T=[];for((h=b.settings,m=b.items().filter(":visible"),n=b.layoutRect(),t=h.columns||Math.ceil(Math.sqrt(m.length)),a=Math.ceil(m.length/t),r=h.spacingH||h.spacing||0,o=h.spacingV||h.spacing||0,E=h.alignH||h.align,e=h.alignV||h.align,d=b.paddingBox,O="reverseRows"in h?h.reverseRows:b.isRtl(),E&&"string"==typeof E&&(E=[E]),e&&"string"==typeof e&&(e=[e]),v=0);v<t;v++)x.push(0);for(k=0;k<a;k++)T.push(0);for(k=0;k<a;k++)for(v=0;v<t&&(c=m[k*t+v]);v++)_=(i=c.layoutRect()).minH,x[v]=(N=i.minW)>x[v]?N:x[v],T[k]=_>T[k]?_:T[k];for(A=n.innerW-d.left-d.right,C=0,v=0;v<t;v++)C+=x[v]+(v>0?r:0),A-=(v>0?r:0)+x[v];for(F=n.innerH-d.top-d.bottom,w=0,k=0;k<a;k++)w+=T[k]+(k>0?o:0),F-=(k>0?o:0)+T[k];if(w+=d.top+d.bottom,(f={}).minW=(C+=d.left+d.right)+(n.w-n.innerW),f.minH=w+(n.h-n.innerH),f.contentW=f.minW-n.deltaW,f.contentH=f.minH-n.deltaH,f.minW=Math.min(f.minW,n.maxW),f.minH=Math.min(f.minH,n.maxH),f.minW=Math.max(f.minW,n.startMinWidth),f.minH=Math.max(f.minH,n.startMinHeight),!n.autoResize||f.minW==n.minW&&f.minH==n.minH){var U;n.autoResize&&((f=b.layoutRect(f)).contentW=f.minW-n.deltaW,f.contentH=f.minH-n.deltaH),U="start"==h.packV?0:F>0?Math.floor(F/a):0;var P=0,B=h.flexWidths;if(B)for(v=0;v<B.length;v++)P+=B[v];else P=t;var L=A/P;for(v=0;v<t;v++)x[v]+=B?B[v]*L:L;for(p=d.top,k=0;k<a;k++){for(y=d.left,s=T[k]+U,v=0;v<t&&(c=m[O?k*t+t-1-v:k*t+v]);v++)g=c.settings,i=c.layoutRect(),u=Math.max(x[v],i.startMinWidth),i.x=y,i.y=p,"center"==(l=g.alignH||(E?E[v]||E[0]:null))?i.x=y+u/2-i.w/2:"right"==l?i.x=y+u-i.w:"stretch"==l&&(i.w=u),"center"==(l=g.alignV||(e?e[v]||e[0]:null))?i.y=p+s/2-i.h/2:"bottom"==l?i.y=p+s-i.h:"stretch"==l&&(i.h=s),c.layoutRect(i),y+=u+r,c.recalc&&c.recalc();p+=s+o}}else if(f.w=f.minW,f.h=f.minH,b.layoutRect(f),this.recalc(b),null===b._lastRect){var M=b.parent();M&&(M._lastRect=null,M.recalc())}}})}),V("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],function(S,b){"use strict";return S.extend({renderHtml:function(){var h=this;return h.classes.add("iframe"),h.canFocus=!1,'<iframe id="'+h._id+'" class="'+h.classes+'" tabindex="-1" src="'+(h.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(h){this.getEl().src=h},html:function(h,a){var t=this,m=this.getEl().contentWindow.document.body;return m?(m.innerHTML=h,a&&a()):b.setTimeout(function(){t.html(h)}),this}})}),V("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({init:function(b){var h=this;h._super(b),h.classes.add("widget").add("infobox"),h.canFocus=!1},severity:function(b){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(b)},help:function(b){this.state.set("help",b)},renderHtml:function(){var b=this,h=b.classPrefix;return'<div id="'+b._id+'" class="'+b.classes+'"><div id="'+b._id+'-body">'+b.encode(b.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var b=this;return b.state.on("change:text",function(h){b.getEl("body").firstChild.data=b.encode(h.value),b.state.get("rendered")&&b.updateLayoutRect()}),b.state.on("change:help",function(h){b.classes.toggle("has-help",h.value),b.state.get("rendered")&&b.updateLayoutRect()}),b._super()}})}),V("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],function(S,b){"use strict";return S.extend({init:function(h){var a=this;a._super(h),a.classes.add("widget").add("label"),a.canFocus=!1,h.multiline&&a.classes.add("autoscroll"),h.strong&&a.classes.add("strong")},initLayoutRect:function(){var h=this,a=h._super();return h.settings.multiline&&(b.getSize(h.getEl()).width>a.maxW&&(a.minW=a.maxW,h.classes.add("multiline")),h.getEl().style.width=a.minW+"px",a.startMinH=a.h=a.minH=Math.min(a.maxH,b.getSize(h.getEl()).height)),a},repaint:function(){var h=this;return h.settings.multiline||(h.getEl().style.lineHeight=h.layoutRect().h+"px"),h._super()},severity:function(h){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(h)},renderHtml:function(){var a,t,h=this,m=h.settings.forId,n=h.settings.html?h.settings.html:h.encode(h.state.get("text"));return!m&&(t=h.settings.forName)&&(a=h.getRoot().find("#"+t)[0])&&(m=a._id),m?'<label id="'+h._id+'" class="'+h.classes+'"'+(m?' for="'+m+'"':"")+">"+n+"</label>":'<span id="'+h._id+'" class="'+h.classes+'">'+n+"</span>"},bindStates:function(){var h=this;return h.state.on("change:text",function(a){h.innerHtml(h.encode(a.value)),h.state.get("rendered")&&h.updateLayoutRect()}),h._super()}})}),V("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(b){this._super(b),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(h){h.classes.add("toolbar-item")}),this._super()}})}),V("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],function(S){"use strict";return S.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),V("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],function(S,b,h){"use strict";var t=S.extend({init:function(m){var n=this;n._renderOpen=!0,n._super(m),m=n.settings,n.classes.add("menubtn"),m.fixedWidth&&n.classes.add("fixed-width"),n.aria("haspopup",!0),n.state.set("menu",m.menu||n.render())},showMenu:function(m){var u,n=this;if(n.menu&&n.menu.visible()&&!1!==m)return n.hideMenu();n.menu||((u=n.state.get("menu")||[]).length?u={type:"menu",items:u}:u.type=u.type||"menu",n.menu=u.renderTo?u.parent(n).show().renderTo():b.create(u).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(s){s.control.parent()===n.menu&&(s.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(s){s.control==n.menu&&n.activeMenu("show"==s.type),n.aria("expanded","show"==s.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){var m=this;m.menu&&(m.menu.items().each(function(n){n.hideMenu&&n.hideMenu()}),m.menu.hide())},activeMenu:function(m){this.classes.toggle("active",m)},renderHtml:function(){var f,m=this,n=m._id,u=m.classPrefix,s=m.settings.icon,i=m.state.get("text"),c="";return(f=m.settings.image)?(s="none","string"!=typeof f&&(f=window.getSelection?f[0]:f[1]),f=" style=\"background-image: url('"+f+"')\""):f="",i&&(m.classes.add("btn-has-text"),c='<span class="'+u+'txt">'+m.encode(i)+"</span>"),s=m.settings.icon?u+"ico "+u+"i-"+s:"",m.aria("role",m.parent()instanceof h?"menuitem":"button"),'<div id="'+n+'" class="'+m.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(s?'<i class="'+s+'"'+f+"></i>":"")+c+' <i class="'+u+'caret"></i></button></div>'},postRender:function(){var m=this;return m.on("click",function(n){n.control===m&&function a(m,n){for(;m;){if(n===m)return!0;m=m.parentNode}return!1}(n.target,m.getEl())&&(m.focus(),m.showMenu(!n.aria),n.aria&&m.menu.items().filter(":visible")[0].focus())}),m.on("mouseenter",function(n){var f,u=n.control,s=m.parent();u&&s&&u instanceof t&&u.parent()==s&&(s.items().filter("MenuButton").each(function(i){i.hideMenu&&i!=u&&(i.menu&&i.menu.visible()&&(f=!0),i.hideMenu())}),f&&(u.focus(),u.showMenu()))}),m._super()},bindStates:function(){var m=this;return m.state.on("change:menu",function(){m.menu&&m.menu.remove(),m.menu=null}),m._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return t}),V("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(S,b,h,a){"use strict";return S.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var n,m=this;m._super(t),t=m.settings,m.classes.add("menu-item"),t.menu&&m.classes.add("menu-item-expand"),t.preview&&m.classes.add("menu-item-preview"),("-"===(n=m.state.get("text"))||"|"===n)&&(m.classes.add("menu-item-sep"),m.aria("role","separator"),m.state.set("text","-")),t.selectable&&(m.aria("role","menuitemcheckbox"),m.classes.add("menu-item-checkbox"),t.icon="selected"),!t.preview&&!t.selectable&&m.classes.add("menu-item-normal"),m.on("mousedown",function(u){u.preventDefault()}),t.menu&&!t.ariaHideMenu&&m.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var n,t=this,m=t.settings,u=t.parent();if(u.items().each(function(f){f!==t&&f.hideMenu()}),m.menu){(n=t.menu)?n.show():((n=m.menu).length?n={type:"menu",items:n}:n.type=n.type||"menu",u.settings.itemDefaults&&(n.itemDefaults=u.settings.itemDefaults),(n=t.menu=b.create(n).parent(t).renderTo()).reflow(),n.on("cancel",function(f){f.stopPropagation(),t.focus(),n.hide()}),n.on("show hide",function(f){f.control.items&&f.control.items().each(function(i){i.active(i.settings.selected)})}).fire("show"),n.on("hide",function(f){f.control===n&&t.classes.remove("selected")}),n.submenu=!0),n._parentMenu=u,n.classes.add("menu-sub");var s=n.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);n.moveRel(t.getEl(),s),n.rel=s,s="menu-sub-"+s,n.classes.remove(n._lastRel).add(s),n._lastRel=s,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(m){m.hideMenu&&m.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){var k,t=this,m=t._id,n=t.settings,u=t.classPrefix,s=t.state.get("text"),f=t.settings.icon,i="",c=n.shortcut,v=t.encode(n.url);function p(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(l){var r=n.match||"";return r?l.replace(new RegExp(p(r),"gi"),function(o){return"!mce~match["+o+"]mce~match!"}):l}function d(l){return l.replace(new RegExp(p("!mce~match["),"g"),"<b>").replace(new RegExp(p("]mce~match!"),"g"),"</b>")}return f&&t.parent().classes.add("menu-has-icons"),n.image&&(i=" style=\"background-image: url('"+n.image+"')\""),c&&(c=function y(l){var r,o,E;for(E=h.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},l=l.split("+"),r=0;r<l.length;r++)(o=E[l[r].toLowerCase()])&&(l[r]=o);return l.join("+")}(c)),f=u+"ico "+u+"i-"+(t.settings.icon||"none"),k="-"!==s?'<i class="'+f+'"'+i+"></i>\xa0":"",s=d(t.encode(g(s))),v=d(t.encode(g(v))),'<div id="'+m+'" class="'+t.classes+'" tabindex="-1">'+k+("-"!==s?'<span id="'+m+'-text" class="'+u+'text">'+s+"</span>":"")+(c?'<div id="'+m+'-shortcut" class="'+u+'menu-shortcut">'+c+"</div>":"")+(n.menu?'<div class="'+u+'caret"></div>':"")+(v?'<div class="'+u+'menu-item-link">'+v+"</div>":"")+"</div>"},postRender:function(){var t=this,m=t.settings,n=m.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var u=t.getEl("text");u&&u.setAttribute("style",n)}return t.on("mouseenter click",function(s){s.control===t&&(m.menu||"click"!==s.type?(t.showMenu(),s.aria&&t.menu.focus(!0)):(t.fire("select"),a.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(m){m.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return typeof t<"u"&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),V("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],function(S,b,h){"use strict";return function(a,t){var n,s,m=this,u=b.classPrefix;m.show=function(f,i){function c(){n&&(S(a).append('<div class="'+u+"throbber"+(t?" "+u+"throbber-inline":"")+'"></div>'),i&&i())}return m.hide(),n=!0,f?s=h.setTimeout(c,f):c(),m},m.hide=function(){var f=a.lastChild;return h.clearTimeout(s),f&&-1!=f.className.indexOf("throbber")&&f.parentNode.removeChild(f),n=!1,m}}}),V("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],function(S,b,h,a){"use strict";return S.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var n=t.items,u=n.length;u--;)n[u]=a.extend({},t.itemDefaults,n[u]);this._super(t),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var m,t=this;function u(){t.throbber&&(t.throbber.hide(),t.throbber=null)}t.settings.itemsFactory&&(t.throbber||(t.throbber=new h(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,function(){t.items().remove(),t.fire("loading")}),t.on("hide close",u)),t.requestTime=m=(new Date).getTime(),t.settings.itemsFactory(function(s){0!==s.length?t.requestTime===m&&(t.getEl().style.width="",t.getEl("body").style.width="",u(),t.items().remove(),t.getEl("body").innerHTML="",t.add(s),t.renderNew(),t.fire("loaded")):t.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each(function(m){var n=m.settings;if(n.icon||n.image||n.selectable)return t._hasIcons=!0,!1}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),V("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],function(S,b){"use strict";return S.extend({init:function(h){var t,m,n,u,a=this;a._super(h),a._values=t=(h=a.settings).values,t&&(typeof h.value<"u"&&function s(f){for(var i=0;i<f.length;i++){if(m=f[i].selected||h.value===f[i].value)return n=n||f[i].text,a.state.set("value",f[i].value),!0;if(f[i].menu&&s(f[i].menu))return!0}}(t),!m&&t.length>0&&(n=t[0].text,a.state.set("value",t[0].value)),a.state.set("menu",t)),a.state.set("text",h.text||n),a.classes.add("listbox"),a.on("select",function(f){var i=f.control;u&&(f.lastControl=u),h.multiple?i.active(!i.active()):a.value(f.control.value()),u=i})},bindStates:function(){var h=this;function t(m,n){var u;if(m)for(var s=0;s<m.length;s++){if(m[s].value===n)return m[s];if(m[s].menu&&(u=t(m[s].menu,n)))return u}}return h.on("show",function(m){!function a(m,n){m instanceof b&&m.items().each(function(u){u.hasMenus()||u.active(u.value()===n)})}(m.control,h.value())}),h.state.on("change:value",function(m){var n=t(h.state.get("menu"),m.value);h.text(n?n.text:h.settings.text)}),h._super()}})}),V("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],function(S){"use strict";return S.extend({Defaults:{classes:"radio",role:"radio"}})}),V("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],function(S,b){"use strict";return S.extend({renderHtml:function(){var h=this,a=h.classPrefix;return h.classes.add("resizehandle"),"both"==h.settings.direction&&h.classes.add("resizehandle-both"),h.canFocus=!1,'<div id="'+h._id+'" class="'+h.classes+'"><i class="'+a+"ico "+a+'i-resize"></i></div>'},postRender:function(){var h=this;h._super(),h.resizeDragHelper=new b(this._id,{start:function(){h.fire("ResizeStart")},drag:function(a){"both"!=h.settings.direction&&(a.deltaX=0),h.fire("Resize",a)},stop:function(){h.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),V("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],function(S){"use strict";function b(h){var a="";if(h)for(var t=0;t<h.length;t++)a+='<option value="'+h[t]+'">'+h[t]+"</option>";return a}return S.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(h){var a=this;a._super(h),a.settings.size&&(a.size=a.settings.size),a.settings.options&&(a._options=a.settings.options),a.on("keydown",function(t){var m;13==t.keyCode&&(t.preventDefault(),a.parents().reverse().each(function(n){if(n.toJSON)return m=n,!1}),a.fire("submit",{data:m.toJSON()}))})},options:function(h){return arguments.length?(this.state.set("options",h),this):this.state.get("options")},renderHtml:function(){var a,h=this,t="";return a=b(h._options),h.size&&(t=' size = "'+h.size+'"'),'<select id="'+h._id+'" class="'+h.classes+'"'+t+">"+a+"</select>"},bindStates:function(){var h=this;return h.state.on("change:options",function(a){h.getEl().innerHTML=b(a.value)}),h._super()}})}),V("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],function(S,b,h){"use strict";function a(n,u,s){return n<u&&(n=u),n>s&&(n=s),n}function t(n,u,s){n.setAttribute("aria-"+u,s)}function m(n,u){var s,f,i,c,k;"v"==n.settings.orientation?(c="top",i="height",f="h"):(c="left",i="width",f="w"),k=n.getEl("handle"),s=(n.layoutRect()[f]||100)-h.getSize(k)[i],k.style[c]=s*((u-n._minValue)/(n._maxValue-n._minValue))+"px",k.style.height=n.layoutRect().h+"px",t(k,"valuenow",u),t(k,"valuetext",""+n.settings.previewFilter(u)),t(k,"valuemin",n._minValue),t(k,"valuemax",n._maxValue)}return S.extend({init:function(n){var u=this;n.previewFilter||(n.previewFilter=function(s){return Math.round(100*s)/100}),u._super(n),u.classes.add("slider"),"v"==n.orientation&&u.classes.add("vertical"),u._minValue=n.minValue||0,u._maxValue=n.maxValue||100,u._initValue=u.state.get("value")},renderHtml:function(){var n=this,u=n._id;return'<div id="'+u+'" class="'+n.classes+'"><div id="'+u+'-handle" class="'+n.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var u,s,f,i,c,v,n=this;u=n._minValue,s=n._maxValue,"v"==n.settings.orientation?(f="screenY",i="top",c="height",v="h"):(f="screenX",i="left",c="width",v="w"),n._super(),function p(d,l){function r(o){var E;E=n.value(),E=function y(d,l,r){return r*(l-d)-d}(d,l,function k(d,l,r){return(r+d)/(l-d)}(d,l,E)+.05*o),E=a(E,d,l),n.value(E),n.fire("dragstart",{value:E}),n.fire("drag",{value:E}),n.fire("dragend",{value:E})}n.on("keydown",function(o){switch(o.keyCode){case 37:case 38:r(-1);break;case 39:case 40:r(1)}})}(u,s,n.getEl("handle")),function g(d,l,r){var o,E,e,C,w;n._dragHelper=new b(n._id,{handle:n._id+"-handle",start:function(x){o=x[f],E=parseInt(n.getEl("handle").style[i],10),e=(n.layoutRect()[v]||100)-h.getSize(r)[c],n.fire("dragstart",{value:w})},drag:function(x){C=a(E+(x[f]-o),0,e),r.style[i]=C+"px",n.value(w=d+C/e*(l-d)),n.tooltip().text(""+n.settings.previewFilter(w)).show().moveRel(r,"bc tc"),n.fire("drag",{value:w})},stop:function(){n.tooltip().hide(),n.fire("dragend",{value:w})}})}(u,s,n.getEl("handle"))},repaint:function(){this._super(),m(this,this.value())},bindStates:function(){var n=this;return n.state.on("change:value",function(u){m(n,u.value)}),n._super()}})}),V("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({renderHtml:function(){var b=this;return b.classes.add("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes+'"></div>'}})}),V("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],function(S,b,h){return S.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var u,a=this,t=a.getEl(),m=a.layoutRect();return a._super(),u=t.lastChild,h(t.firstChild).css({width:m.w-b.getSize(u).width,height:m.h-2}),h(u).css({height:m.h-2}),a},activeMenu:function(a){h(this.getEl().lastChild).toggleClass(this.classPrefix+"active",a)},renderHtml:function(){var n,a=this,t=a._id,m=a.classPrefix,u=a.state.get("icon"),s=a.state.get("text"),f="";return(n=a.settings.image)?(u="none","string"!=typeof n&&(n=window.getSelection?n[0]:n[1]),n=" style=\"background-image: url('"+n+"')\""):n="",u=a.settings.icon?m+"ico "+m+"i-"+u:"",s&&(a.classes.add("btn-has-text"),f='<span class="'+m+'txt">'+a.encode(s)+"</span>"),'<div id="'+t+'" class="'+a.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(u?'<i class="'+u+'"'+n+"></i>":"")+f+'</button><button type="button" class="'+m+'open" hidefocus="1" tabindex="-1">'+(a._menuBtnText?(u?"\xa0":"")+a._menuBtnText:"")+' <i class="'+m+'caret"></i></button></div>'},postRender:function(){var a=this,t=a.settings.onclick;return a.on("click",function(m){var n=m.target;if(m.control==this)for(;n;){if(m.aria&&"down"!=m.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return m.stopImmediatePropagation(),void(t&&t.call(this,m));n=n.parentNode}}),delete a.settings.onclick,a._super()}})}),V("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],function(S){"use strict";return S.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),V("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],function(S,b,h){"use strict";return S.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(a){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),b(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+a,(t=this.getEl("t"+a)).setAttribute("aria-selected","true"),b(t).addClass(this.classPrefix+"active"),this.items()[a].show().fire("showtab"),this.reflow(),this.items().each(function(m,n){a!=n&&m.hide()})},renderHtml:function(){var a=this,t=a._layout,m="",n=a.classPrefix;return a.preRender(),t.preRender(a),a.items().each(function(u,s){var f=a._id+"-t"+s;u.aria("role","tabpanel"),u.aria("labelledby",f),m+='<div id="'+f+'" class="'+n+'tab" unselectable="on" role="tab" aria-controls="'+u._id+'" aria-selected="false" tabIndex="-1">'+a.encode(u.settings.title)+"</div>"}),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1"><div id="'+a._id+'-head" class="'+n+'tabs" role="tablist">'+m+'</div><div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+t.renderHtml(a)+"</div></div>"},postRender:function(){var a=this;a._super(),a.settings.activeTab=a.settings.activeTab||0,a.activateTab(a.settings.activeTab),this.on("click",function(t){var m=t.target.parentNode;if(m&&m.id==a._id+"-head")for(var n=m.childNodes.length;n--;)m.childNodes[n]==t.target&&a.activateTab(n)})},initLayoutRect:function(){var t,m,n,a=this;m=(m=h.getSize(a.getEl("head")).width)<0?0:m,n=0,a.items().each(function(s){m=Math.max(m,s.layoutRect().minW),n=Math.max(n,s.layoutRect().minH)}),a.items().each(function(s){s.settings.x=0,s.settings.y=0,s.settings.w=m,s.settings.h=n,s.layoutRect({x:0,y:0,w:m,h:n})});var u=h.getSize(a.getEl("head")).height;return a.settings.minWidth=m,a.settings.minHeight=n+u,(t=a._super()).deltaH+=u,t.innerH=t.h-t.deltaH,t}})}),V("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],function(S,b,h){return S.extend({init:function(a){var t=this;t._super(a),t.classes.add("textbox"),a.multiline?t.classes.add("multiline"):(t.on("keydown",function(m){var n;13==m.keyCode&&(m.preventDefault(),t.parents().reverse().each(function(u){if(u.toJSON)return n=u,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(m){t.state.set("value",m.target.value)}))},repaint:function(){var t,m,n,u,f,a=this,s=0;t=a.getEl().style,m=a._layoutRect,f=a._lastRepaintRect||{};var i=document;return!a.settings.multiline&&i.all&&(!i.documentMode||i.documentMode<=8)&&(t.lineHeight=m.h-s+"px"),u=(n=a.borderBox).left+n.right+8,s=n.top+n.bottom+(a.settings.multiline?8:0),m.x!==f.x&&(t.left=m.x+"px",f.x=m.x),m.y!==f.y&&(t.top=m.y+"px",f.y=m.y),m.w!==f.w&&(t.width=m.w-u+"px",f.w=m.w),m.h!==f.h&&(t.height=m.h-s+"px",f.h=m.h),a._lastRepaintRect=f,a.fire("repaint",{},!1),a},renderHtml:function(){var m,n,a=this,t=a.settings;return m={id:a._id,hidefocus:"1"},b.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(u){m[u]=t[u]}),a.disabled()&&(m.disabled="disabled"),t.subtype&&(m.type=t.subtype),(n=h.create(t.multiline?"textarea":"input",m)).value=a.state.get("value"),n.className=a.classes,n.outerHTML},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var a=this;a.getEl().value=a.state.get("value"),a._super(),a.$el.on("change",function(t){a.state.set("value",t.target.value),a.fire("change",t)})},bindStates:function(){var a=this;return a.state.on("change:value",function(t){a.getEl().value!=t.value&&(a.getEl().value=t.value)}),a.state.on("change:disabled",function(t){a.getEl().disabled=t.value}),a._super()},remove:function(){this.$el.off(),this._super()}})}),V("tinymce.core.ui.Api",["tinymce.core.ui.Selector","tinymce.core.ui.Collection","tinymce.core.ui.ReflowQueue","tinymce.core.ui.Control","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.ui.Container","tinymce.core.ui.DragHelper","tinymce.core.ui.Scrollable","tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.FloatPanel","tinymce.core.ui.Window","tinymce.core.ui.MessageBox","tinymce.core.ui.Tooltip","tinymce.core.ui.Widget","tinymce.core.ui.Progress","tinymce.core.ui.Notification","tinymce.core.ui.Layout","tinymce.core.ui.AbsoluteLayout","tinymce.core.ui.Button","tinymce.core.ui.ButtonGroup","tinymce.core.ui.Checkbox","tinymce.core.ui.ComboBox","tinymce.core.ui.ColorBox","tinymce.core.ui.PanelButton","tinymce.core.ui.ColorButton","tinymce.core.ui.ColorPicker","tinymce.core.ui.Path","tinymce.core.ui.ElementPath","tinymce.core.ui.FormItem","tinymce.core.ui.Form","tinymce.core.ui.FieldSet","tinymce.core.ui.FilePicker","tinymce.core.ui.FitLayout","tinymce.core.ui.FlexLayout","tinymce.core.ui.FlowLayout","tinymce.core.ui.FormatControls","tinymce.core.ui.GridLayout","tinymce.core.ui.Iframe","tinymce.core.ui.InfoBox","tinymce.core.ui.Label","tinymce.core.ui.Toolbar","tinymce.core.ui.MenuBar","tinymce.core.ui.MenuButton","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.ui.Menu","tinymce.core.ui.ListBox","tinymce.core.ui.Radio","tinymce.core.ui.ResizeHandle","tinymce.core.ui.SelectBox","tinymce.core.ui.Slider","tinymce.core.ui.Spacer","tinymce.core.ui.SplitButton","tinymce.core.ui.StackLayout","tinymce.core.ui.TabPanel","tinymce.core.ui.TextBox"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k,y,p,g,d,l,r,o,E,e,C,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne,he,Ee,me,$,G,Z,Y,ie,ke,ye,oe,K,se,be,we){"use strict";var ve=function(Te,re,fe){var Ce,Ae;for(Ae=re.split(/[.\/]/),Ce=0;Ce<Ae.length-1;++Ce)void 0===Te[Ae[Ce]]&&(Te[Ae[Ce]]={}),Te=Te[Ae[Ce]];Te[Ae[Ae.length-1]]=fe,function(Te,re){t.add(Te.split(".").pop(),re)}(re,fe)},qe={appendTo:function(Te){ve(Te,"ui.Selector",S),ve(Te,"ui.Collection",b),ve(Te,"ui.ReflowQueue",h),ve(Te,"ui.Control",a),ve(Te,"ui.Factory",t),ve(Te,"ui.KeyboardNavigation",m),ve(Te,"ui.Container",n),ve(Te,"ui.DragHelper",u),ve(Te,"ui.Scrollable",s),ve(Te,"ui.Panel",f),ve(Te,"ui.Movable",i),ve(Te,"ui.Resizable",c),ve(Te,"ui.FloatPanel",v),ve(Te,"ui.Window",k),ve(Te,"ui.MessageBox",y),ve(Te,"ui.Tooltip",p),ve(Te,"ui.Widget",g),ve(Te,"ui.Progress",d),ve(Te,"ui.Notification",l),ve(Te,"ui.Layout",r),ve(Te,"ui.AbsoluteLayout",o),ve(Te,"ui.Button",E),ve(Te,"ui.ButtonGroup",e),ve(Te,"ui.Checkbox",C),ve(Te,"ui.ComboBox",w),ve(Te,"ui.ColorBox",x),ve(Te,"ui.PanelButton",T),ve(Te,"ui.ColorButton",N),ve(Te,"ui.ColorPicker",_),ve(Te,"ui.Path",A),ve(Te,"ui.ElementPath",F),ve(Te,"ui.FormItem",O),ve(Te,"ui.Form",R),ve(Te,"ui.FieldSet",M),ve(Te,"ui.FilePicker",U),ve(Te,"ui.FitLayout",P),ve(Te,"ui.FlexLayout",B),ve(Te,"ui.FlowLayout",L),ve(Te,"ui.FormatControls",z),ve(Te,"ui.GridLayout",q),ve(Te,"ui.Iframe",ee),ve(Te,"ui.InfoBox",ue),ve(Te,"ui.Label",ae),ve(Te,"ui.Toolbar",ne),ve(Te,"ui.MenuBar",he),ve(Te,"ui.MenuButton",Ee),ve(Te,"ui.MenuItem",me),ve(Te,"ui.Throbber",$),ve(Te,"ui.Menu",G),ve(Te,"ui.ListBox",Z),ve(Te,"ui.Radio",Y),ve(Te,"ui.ResizeHandle",ie),ve(Te,"ui.SelectBox",ke),ve(Te,"ui.Slider",ye),ve(Te,"ui.Spacer",oe),ve(Te,"ui.SplitButton",K),ve(Te,"ui.StackLayout",se),ve(Te,"ui.TabPanel",be),ve(Te,"ui.TextBox",we),ve(Te,"ui.Api",qe)}};return qe}),V("tinymce.core.api.Tinymce",["tinymce.core.geom.Rect","tinymce.core.util.Promise","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.html.Styles","tinymce.core.dom.TreeWalker","tinymce.core.html.Entities","tinymce.core.dom.DOMUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.dom.RangeUtils","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.html.DomParser","tinymce.core.html.Writer","tinymce.core.html.Serializer","tinymce.core.dom.Serializer","tinymce.core.util.VK","tinymce.core.dom.ControlSelection","tinymce.core.dom.BookmarkManager","tinymce.core.dom.Selection","tinymce.core.Formatter","tinymce.core.UndoManager","tinymce.core.EditorCommands","tinymce.core.util.URI","tinymce.core.util.Class","tinymce.core.util.EventDispatcher","tinymce.core.util.Observable","tinymce.core.WindowManager","tinymce.core.NotificationManager","tinymce.core.EditorObservable","tinymce.core.Shortcuts","tinymce.core.Editor","tinymce.core.util.I18n","tinymce.core.FocusManager","tinymce.core.EditorManager","tinymce.core.util.XHR","tinymce.core.util.JSON","tinymce.core.util.JSONRequest","tinymce.core.util.JSONP","tinymce.core.util.LocalStorage","tinymce.core.api.Compat","tinymce.core.util.Color","tinymce.core.ui.Api"],function(S,b,h,a,t,m,n,u,s,f,i,c,v,k,y,p,g,d,l,r,o,E,e,C,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne,he,Ee,me,$,G){var Z=ee,Y=function(ie,ke,ye){var oe,K;for(K=ke.split(/[.\/]/),oe=0;oe<K.length-1;++oe)void 0===ie[K[oe]]&&(ie[K[oe]]={}),ie=ie[K[oe]];ie[K[K.length-1]]=ye};return Y(Z,"geom.Rect",S),Y(Z,"util.Promise",b),Y(Z,"util.Delay",h),Y(Z,"Env",a),Y(Z,"dom.EventUtils",t),Y(Z,"dom.Sizzle",m),Y(Z,"util.Tools",n),Y(Z,"dom.DomQuery",u),Y(Z,"html.Styles",s),Y(Z,"dom.TreeWalker",f),Y(Z,"html.Entities",i),Y(Z,"dom.DOMUtils",c),Y(Z,"dom.ScriptLoader",v),Y(Z,"AddOnManager",k),Y(Z,"dom.RangeUtils",y),Y(Z,"html.Node",p),Y(Z,"html.Schema",g),Y(Z,"html.SaxParser",d),Y(Z,"html.DomParser",l),Y(Z,"html.Writer",r),Y(Z,"html.Serializer",o),Y(Z,"dom.Serializer",E),Y(Z,"util.VK",e),Y(Z,"dom.ControlSelection",C),Y(Z,"dom.BookmarkManager",w),Y(Z,"dom.Selection",x),Y(Z,"Formatter",T),Y(Z,"UndoManager",N),Y(Z,"EditorCommands",_),Y(Z,"util.URI",A),Y(Z,"util.Class",F),Y(Z,"util.EventDispatcher",O),Y(Z,"util.Observable",R),Y(Z,"WindowManager",M),Y(Z,"NotificationManager",U),Y(Z,"EditorObservable",P),Y(Z,"Shortcuts",B),Y(Z,"Editor",L),Y(Z,"util.I18n",z),Y(Z,"FocusManager",q),Y(Z,"EditorManager",ee),Y(Z,"util.XHR",ue),Y(Z,"util.JSON",ae),Y(Z,"util.JSONRequest",ne),Y(Z,"util.JSONP",he),Y(Z,"util.LocalStorage",Ee),Y(Z,"Compat",me),Y(Z,"util.Color",$),G.appendTo(Z),me.register(Z),Z}),V("tinymce.core.Register",[],function(){var S=this||window;return{exposeToModuleLoaders:function(h){"function"==typeof S.define&&(S.define.amd||(S.define("ephox/tinymce",[],function(){return h}),S.define("tinymce.core.EditorManager",[],function(){return h}))),ut.exports=h}}}),V("tinymce.core.api.Main",["tinymce.core.api.Tinymce","tinymce.core.Register"],function(S,b){return function(){return window.tinymce=S,window.tinyMCE=S,b.exposeToModuleLoaders(S),S}}),rt("tinymce.core.api.Main")()},7081:(ut,nt,Ve)=>{"use strict";Ve.d(nt,{F:()=>ot});const ot=[Ve(2377).t]},8066:(ut,nt,Ve)=>{"use strict";Ve.r(nt),Ve.d(nt,{NzDemoRichTextEditorModule:()=>k});var st=Ve(1862),ot=Ve(4515),rt=Ve(7081),at=Ve(1380),I=Ve(4537);let V=(()=>{class y{constructor(){this.expanded=!1}goLink(g){window&&(window.location.hash=g)}expandAllCode(){this.expanded=!this.expanded,this.codeBoxes.forEach(g=>{g.nzExpanded=this.expanded,g.expandCode(this.expanded),g.check()})}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=I.Xpm({type:y,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(g,d){if(1&g&&I.Gf(at.G,5),2&g){let l;I.iGM(l=I.CRH())&&(d.codeBoxes=l)}},decls:0,vars:0,template:function(g,d){},encapsulation:2}),y})();var ct=Ve(6597),lt=Ve(2189),Je=Ve(1749),S=Ve(2733),b=Ve(5321),h=Ve(2550),a=Ve(6175),t=Ve(8942),n=(Ve(6708),Ve(8692)),u=Ve(2992);const s=["editor"];function f(y,p){if(1&y){const g=I.EpF();I.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"editor",4,5),I.NdJ("ngModelChange",function(l){I.CHM(g);const r=I.oxw();return I.KtG(r.textChanged(l))})("onKeyDown",function(l){I.CHM(g);const r=I.oxw();return I.KtG(r.onKeyDown(l))}),I.qZA()()()()}if(2&y){const g=I.oxw();I.xp6(1),I.s9C("ngClass",g.options.wrapperClass),I.xp6(2),I.Q6J("init",g.initOptions)("ngModel",g.text)}}let i=(()=>{class y{constructor(g){this.cdRef=g,this.text="",this.scContentEmpty=new I.vpe,this.fieldMenuMap=[],this.propagateChange=d=>{}}ngOnInit(){var g,d,l,r;tinymce.baseURL=this.options.baseUrl,this.options=this.options||{},this.initOptions={auto_focus:null!==(g=this.options.autoFocus)&&void 0!==g&&g,enableSpeechRecognition:!1,body_class:"",branding:!1,browser_spellcheck:!0,convert_fonts_to_spans:!0,convert_urls:!0,extended_valid_elements:"a[name|href|target=_blank|title]",font_formats:'Arial=arial,helvetica,sans-serif;Calibri=calibri;Courier New=courier new,courier;Georgia=georgia,\n      palatino;Tahoma=tahoma,arial,"helvetica,sans-serif;Times New Roman=times new roman,times;Verdana=verdana,geneva',fontsize_formats:"8pt 9pt 10pt 11pt 12pt 14pt 16pt 18pt 20pt 22pt 24pt 26pt 28pt 30pt 36pt 72pt",height:this.options.height||"100%",invalid_elements:"h1,h2,h3,h4,h5,h6,object,script",theme_url:this.options.baseUrl+"/themes/modern/theme.js",keep_styles:!0,menubar:!1,paste_data_images:!0,paste_word_valid_elements:"strong,b,em,i,span,p,ol,ul,li,table,tr,td[colspan|rowspan],th,thead,tfoot,tbody",plugins:"lists paste autolink link",relative_urls:!1,resize:null!==(l=null===(d=this.options)||void 0===d?void 0:d.resize)&&void 0!==l&&l,statusbar:!(null===(r=this.options)||void 0===r||!r.statusbar),table_clone_elements:"strong em b i span a font",toolbar:["bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent"],skin_url:this.options.baseUrl+"/styles",jobadder_fields:void 0,jobadder_images:this.options.sharedImages,setup:o=>this.editorSetup(o,this.options)},this.options.minimalEditor||(this.initOptions.toolbar=["insertfield | fontselect jobadder_images | fontsizeselect | bold italic underline strikethrough | forecolor | alignmentsplit | bullist numlist outdent indent | link unlink table | removeformat | tinymoji | jobadder_code"],this.initOptions.plugins=`${this.initOptions.plugins} lists nonbreaking paste tabfocus textcolor table tinymoji`,this.initOptions.external_plugins={jobadder_linkcolorfix:this.options.baseUrl+"/scripts/linkcolorfix.js",jobadder_code:this.options.baseUrl+"/scripts/code.js",jobadder_images:this.options.baseUrl+"/scripts/images.js"},this.options.fonts&&this.options.fonts.length&&(this.initOptions.font_formats=this.options.fonts.map(o=>`${o}=${o}`).join(";"))),this.options.insertableFields&&(this.initOptions.plugins=`${this.initOptions.plugins} mention`,this.initOptions.mentions={source:this.options.insertableFields.map(o=>({name:o})),delimiter:["{"],insert:o=>`<span>{${o.name}}</span>`,default:20}),setTimeout(()=>{this.editorEnabled=!0,this.cdRef.markForCheck()},0)}writeValue(g){this.text=g,this.cdRef.markForCheck()}registerOnChange(g){this.propagateChange=g}registerOnTouched(){}textChanged(g){!g&&this.text&&this.scContentEmpty.emit(),this.text=g,this.propagateChange(this.text)}editorSetup(g,d){d.close&&g.on("keyDown",l=>{"Escape"===l.key&&d.close()}),this.setUpAlignmentButtons(g),this.options.insertableFields&&this.setupInsertFieldsButtons(g,this.options.insertableFields)}setUpAlignmentButtons(g){const d={type:"menubutton",icon:"alignleft",size:"small",menu:[this.getAlignmentButton("alignleft","JustifyLeft","Justify Left"),this.getAlignmentButton("alignright","JustifyRight","Justify Right"),this.getAlignmentButton("aligncenter","JustifyCenter","Justify Center"),this.getAlignmentButton("alignjustify","JustifyFull","Justify Full")]};g.addButton("alignmentsplit",d)}getAlignmentButton(g,d,l){return{icon:g,text:l,classes:"align-menu-item",size:"small",onclick:()=>{window.tinyMCE.execCommand(d)}}}setupInsertFieldsButtons(g,d){const l={type:"menubutton",text:"Insert Fields",menu:this.getInsertFieldButtons(d)};g.addButton("insertfield",l)}getInsertFieldButtons(g){return g.map(d=>({name:d,text:d,classes:"align-menu-item",size:"small",onclick:()=>{this.myEditor.editor.insertContent(`<span>{${d}}</span>`)}}))}onKeyDown(g){"Delete"===g.event.key&&(this.cdRef.markForCheck(),setTimeout(()=>{let l=this.myEditor.editor.contentDocument.activeElement.innerText.replaceAll(/\s/g,"");!l&&this.text&&(this.text=l,this.scContentEmpty.emit())},5))}}return y.\u0275fac=function(g){return new(g||y)(I.Y36(I.sBO))},y.\u0275cmp=I.Xpm({type:y,selectors:[["sc-rich-text-editor"]],viewQuery:function(g,d){if(1&g&&I.Gf(s,5),2&g){let l;I.iGM(l=I.CRH())&&(d.myEditor=l.first)}},inputs:{options:"options"},outputs:{scContentEmpty:"scContentEmpty"},features:[I._Bn([{provide:t.JU,useExisting:(0,I.Gpc)(()=>y),multi:!0}])],decls:1,vars:1,consts:[["class","editor-body h-100",4,"ngIf"],[1,"editor-body","h-100"],[1,"h-100",3,"ngClass"],[1,"rich-text-editor"],[3,"init","ngModel","ngModelChange","onKeyDown"],["editor",""]],template:function(g,d){1&g&&I.YNc(0,f,5,3,"div",0),2&g&&I.Q6J("ngIf",d.editorEnabled)},dependencies:[n.mk,n.O5,t.JJ,t.On,u.PG],styles:[".h-100{height:100%}\n"],encapsulation:2,changeDetection:0}),y})(),c=(()=>{class y{constructor(){}ngOnInit(){this.initOptions={insertableFields:["name","Test1","test2"],baseUrl:"/tinymce"}}contentEmpty(){console.log("Contents empty event fired.")}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=I.Xpm({type:y,selectors:[["nz-demo-rich-text-editor-basic"]],decls:1,vars:1,consts:[[3,"options","scContentEmpty"]],template:function(g,d){1&g&&(I.TgZ(0,"sc-rich-text-editor",0),I.NdJ("scContentEmpty",function(){return d.contentEmpty()}),I.qZA()),2&g&&I.Q6J("options",d.initOptions)},dependencies:[i],encapsulation:2,changeDetection:0}),y})(),v=(()=>{class y{constructor(){this.expanded=!1}goLink(g){window&&(window.location.hash=g)}expandAllCode(){this.expanded=!this.expanded,this.codeBoxes.forEach(g=>{g.nzExpanded=this.expanded,g.expandCode(this.expanded),g.check()})}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=I.Xpm({type:y,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(g,d){if(1&g&&I.Gf(at.G,5),2&g){let l;I.iGM(l=I.CRH())&&(d.codeBoxes=l)}},decls:277,vars:8,consts:[[1,"toc-affix",3,"nzOffsetTop"],["nzShowInkInFixed","",3,"nzAffix","nzClick"],["nzHref","#components-rich-text-editor-demo-basic","nzTitle","Rich text editor"],["nzHref","#api","nzTitle","API"],[1,"markdown"],[1,"subtitle"],[1,"widget"],["aria-label","Edit this page on Github","href","https://github.com/JobAdder/scales-workspace/tree/dev/projects/scales-library/src/lib//rich-text-editor/doc/index.en-US.md","target","_blank","rel","noopener noreferrer",1,"edit-button"],["nz-icon","","nzType","edit"],["id","when-to-use"],["onclick","window.location.hash = 'when-to-use'",1,"anchor"],[1,"language-ts"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],["id","component-tab"],["nzTitle","Examples"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","Rich text editor","nzSelector","nz-demo-rich-text-editor-basic","nzGenerateCommand","ng g ng-zorro-antd:rich-text-editor-basic <name>","nzComponentName","NzDemoRichTextEditorBasicComponent","nzIframeSource","null",3,"nzId","nzLink","nzIframeHeight","nzHref"],["demo",""],["intro",""],[1,"markdown","api-container"],["id","api"],["onclick","window.location.hash = 'api'",1,"anchor"],["id","[sc-rich-text-editor]"],[1,"api-type-label","directive"],["onclick","window.location.hash = '[sc-rich-text-editor]'",1,"anchor"],["id","richtexteditoroptions"],["onclick","window.location.hash = 'richtexteditoroptions'",1,"anchor"],[1,"token","operator"],["id","usage-and-options"],["onclick","window.location.hash = 'usage-and-options'",1,"anchor"]],template:function(g,d){1&g&&(I.TgZ(0,"article")(1,"nz-affix",0)(2,"nz-anchor",1),I.NdJ("nzClick",function(r){return d.goLink(r)}),I._UZ(3,"nz-link",2)(4,"nz-link",3),I.qZA()(),I.TgZ(5,"section",4)(6,"h1"),I._uU(7,"Rich text editor"),I._UZ(8,"span",5)(9,"span",6),I.TgZ(10,"a",7),I._UZ(11,"i",8),I.qZA()(),I.TgZ(12,"section",4),I.IAx(),I.TgZ(13,"h2",9)(14,"span"),I._uU(15,"When To Use"),I.qZA(),I.TgZ(16,"a",10),I._uU(17,"#"),I.qZA()(),I.TgZ(18,"p"),I._uU(19,"This component is used as rich text editor."),I.qZA(),I.TgZ(20,"pre",11)(21,"code")(22,"span",12),I._uU(23,"import"),I.qZA(),I._uU(24," "),I.TgZ(25,"span",13),I._uU(26,"{"),I.qZA(),I._uU(27," ScalesLibraryModule "),I.TgZ(28,"span",13),I._uU(29,"}"),I.qZA(),I._uU(30," "),I.TgZ(31,"span",12),I._uU(32,"from"),I.qZA(),I._uU(33," "),I.TgZ(34,"span",14),I._uU(35,"'scales-library'"),I.qZA(),I.TgZ(36,"span",13),I._uU(37,";"),I.qZA()()(),I.fQ9(),I.qZA()(),I.TgZ(38,"nz-tabset",15)(39,"nz-tab",16)(40,"div",17)(41,"div",18)(42,"nz-code-box",19),I._UZ(43,"nz-demo-rich-text-editor-basic",20),I.TgZ(44,"div",21),I.IAx(),I.TgZ(45,"p")(46,"code"),I._uU(47,"A sample of rich text editor compomnent."),I.qZA()(),I.fQ9(),I.qZA()()()()()(),I.TgZ(48,"section",22),I.IAx(),I.TgZ(49,"h2",23)(50,"span"),I._uU(51,"API"),I.qZA(),I.TgZ(52,"a",24),I._uU(53,"#"),I.qZA()(),I.TgZ(54,"h3",25)(55,"span"),I._uU(56,"[sc-rich-text-editor]"),I.qZA(),I.TgZ(57,"label",26),I._uU(58,"directive"),I.qZA(),I.TgZ(59,"a",27),I._uU(60,"#"),I.qZA()(),I.TgZ(61,"table")(62,"thead")(63,"tr")(64,"th"),I._uU(65,"Property"),I.qZA(),I.TgZ(66,"th"),I._uU(67,"Description"),I.qZA(),I.TgZ(68,"th"),I._uU(69,"Type"),I.qZA(),I.TgZ(70,"th"),I._uU(71,"Default"),I.qZA()()(),I.TgZ(72,"tbody")(73,"tr")(74,"td")(75,"code"),I._uU(76,"[scContentEmpty]"),I.qZA()(),I.TgZ(77,"td"),I._uU(78,"Contents empty event fired"),I.qZA(),I.TgZ(79,"td")(80,"code"),I._uU(81,"EventEmitter<Event>"),I.qZA()(),I._UZ(82,"td"),I.qZA(),I.TgZ(83,"tr")(84,"td")(85,"code"),I._uU(86,"[options]"),I.qZA()(),I.TgZ(87,"td"),I._uU(88,"RichTextEditorOptions"),I.qZA(),I.TgZ(89,"td")(90,"code"),I._uU(91,"RichTextEditorOptions"),I.qZA()(),I._UZ(92,"td"),I.qZA()()(),I.TgZ(93,"h3",28)(94,"span"),I._uU(95,"RichTextEditorOptions"),I.qZA(),I.TgZ(96,"a",29),I._uU(97,"#"),I.qZA()(),I.TgZ(98,"p"),I._uU(99,"This interface allows to set some options for [sc-rich-text-editor]"),I.qZA(),I.TgZ(100,"pre",11)(101,"code")(102,"span",13),I._uU(103,"{"),I.qZA(),I._uU(104,"\n  minimalEditor"),I.TgZ(105,"span",30),I._uU(106,"?"),I.qZA(),I.TgZ(107,"span",13),I._uU(108,":"),I.qZA(),I._uU(109," "),I.TgZ(110,"span",12),I._uU(111,"boolean"),I.qZA(),I.TgZ(112,"span",13),I._uU(113,";"),I.qZA(),I._uU(114,"\n  insertableFields"),I.TgZ(115,"span",30),I._uU(116,"?"),I.qZA(),I.TgZ(117,"span",13),I._uU(118,":"),I.qZA(),I._uU(119," "),I.TgZ(120,"span",12),I._uU(121,"string"),I.qZA(),I.TgZ(122,"span",13),I._uU(123,"["),I.qZA(),I.TgZ(124,"span",13),I._uU(125,"]"),I.qZA(),I.TgZ(126,"span",13),I._uU(127,";"),I.qZA(),I._uU(128,"\n  fonts"),I.TgZ(129,"span",30),I._uU(130,"?"),I.qZA(),I.TgZ(131,"span",13),I._uU(132,":"),I.qZA(),I._uU(133," "),I.TgZ(134,"span",12),I._uU(135,"string"),I.qZA(),I.TgZ(136,"span",13),I._uU(137,"["),I.qZA(),I.TgZ(138,"span",13),I._uU(139,"]"),I.qZA(),I.TgZ(140,"span",13),I._uU(141,";"),I.qZA(),I._uU(142,"\n  autoFocus"),I.TgZ(143,"span",30),I._uU(144,"?"),I.qZA(),I.TgZ(145,"span",13),I._uU(146,":"),I.qZA(),I._uU(147," "),I.TgZ(148,"span",12),I._uU(149,"boolean"),I.qZA(),I.TgZ(150,"span",13),I._uU(151,";"),I.qZA(),I._uU(152,"\n  sharedImages"),I.TgZ(153,"span",30),I._uU(154,"?"),I.qZA(),I.TgZ(155,"span",13),I._uU(156,":"),I.qZA(),I._uU(157," "),I.TgZ(158,"span",12),I._uU(159,"any"),I.qZA(),I.TgZ(160,"span",13),I._uU(161,";"),I.qZA(),I._uU(162,"\n  close"),I.TgZ(163,"span",30),I._uU(164,"?"),I.qZA(),I.TgZ(165,"span",13),I._uU(166,":"),I.qZA(),I._uU(167," "),I.TgZ(168,"span",13),I._uU(169,"("),I.qZA(),I.TgZ(170,"span",13),I._uU(171,")"),I.qZA(),I._uU(172," "),I.TgZ(173,"span",30),I._uU(174,"="),I.qZA(),I.TgZ(175,"span",30),I._uU(176,">"),I.qZA(),I._uU(177," "),I.TgZ(178,"span",12),I._uU(179,"void"),I.qZA(),I.TgZ(180,"span",13),I._uU(181,";"),I.qZA(),I._uU(182,"\n  baseUrl"),I.TgZ(183,"span",30),I._uU(184,"?"),I.qZA(),I.TgZ(185,"span",13),I._uU(186,":"),I.qZA(),I._uU(187," "),I.TgZ(188,"span",12),I._uU(189,"string"),I.qZA(),I.TgZ(190,"span",13),I._uU(191,";"),I.qZA(),I._uU(192,"\n  height"),I.TgZ(193,"span",30),I._uU(194,"?"),I.qZA(),I.TgZ(195,"span",13),I._uU(196,":"),I.qZA(),I._uU(197," "),I.TgZ(198,"span",12),I._uU(199,"string"),I.qZA(),I.TgZ(200,"span",13),I._uU(201,";"),I.qZA(),I._uU(202,"\n  wrapperClass"),I.TgZ(203,"span",30),I._uU(204,"?"),I.qZA(),I.TgZ(205,"span",13),I._uU(206,":"),I.qZA(),I._uU(207," "),I.TgZ(208,"span",12),I._uU(209,"string"),I.qZA(),I.TgZ(210,"span",13),I._uU(211,";"),I.qZA(),I._uU(212,"\n  resize"),I.TgZ(213,"span",30),I._uU(214,"?"),I.qZA(),I.TgZ(215,"span",13),I._uU(216,":"),I.qZA(),I._uU(217," "),I.TgZ(218,"span",12),I._uU(219,"boolean"),I.qZA(),I._uU(220," "),I.TgZ(221,"span",30),I._uU(222,"|"),I.qZA(),I._uU(223," "),I.TgZ(224,"span",14),I._uU(225,"'both'"),I.qZA(),I.TgZ(226,"span",13),I._uU(227,";"),I.qZA(),I._uU(228,"\n  statusbar"),I.TgZ(229,"span",30),I._uU(230,"?"),I.qZA(),I.TgZ(231,"span",13),I._uU(232,":"),I.qZA(),I._uU(233," "),I.TgZ(234,"span",12),I._uU(235,"boolean"),I.qZA(),I.TgZ(236,"span",13),I._uU(237,";"),I.qZA(),I._uU(238,"\n"),I.TgZ(239,"span",13),I._uU(240,"}"),I.qZA()()(),I.TgZ(241,"h3",31)(242,"span"),I._uU(243,"Usage and options"),I.qZA(),I.TgZ(244,"a",32),I._uU(245,"#"),I.qZA()(),I.TgZ(246,"p"),I._uU(247,"Since no model is provided as input for this component we need to specify attribute "),I.TgZ(248,"code"),I._uU(249,"formControlName"),I.qZA(),I._uU(250," in order to handle the value.\n"),I.TgZ(251,"code"),I._uU(252,"RichTextEditorOptions"),I.qZA(),I._uU(253," requires at least a baseUrl to be set in order to work properly as it's used to set some theme and style paths on bootstrap.\n"),I.TgZ(254,"strong"),I._uU(255,"For our application it should be set to "),I.TgZ(256,"code"),I._uU(257,"/assets/scales-library/tinymce/"),I.qZA()(),I._uU(258,".\n"),I.TgZ(259,"code"),I._uU(260,"height"),I.qZA(),I._uU(261," allows to set a fixed initial height for the textarea, "),I.TgZ(262,"code"),I._uU(263,"wrapperClass"),I.qZA(),I._uU(264," is useful to set class selectors and "),I.TgZ(265,"code"),I._uU(266,"resize"),I.qZA(),I._uU(267," allows to change editor's width and height, true allows\nvertical resizing, "),I.TgZ(268,"code"),I._uU(269,"both"),I.qZA(),I._uU(270," vertical and horizontal.\n"),I.TgZ(271,"strong"),I._uU(272,"NOTE"),I.qZA(),I._uU(273,": In order to allow resizing, "),I.TgZ(274,"code"),I._uU(275,"statusbar"),I.qZA(),I._uU(276," needs to be set to true as resizing icon is contained in it."),I.qZA(),I.fQ9(),I.qZA()()),2&g&&(I.xp6(1),I.Q6J("nzOffsetTop",16),I.xp6(1),I.Q6J("nzAffix",!1),I.xp6(38),I.Q6J("nzGutter",8),I.xp6(1),I.Q6J("nzSpan",24),I.xp6(1),I.Q6J("nzId","components-rich-text-editor-demo-basic")("nzLink","components-rich-text-editor-demo-basic")("nzIframeHeight",null)("nzHref","https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/rich-text-editor/demo/basic.md"))},dependencies:[at.G,ct.IT,ct.Fp,lt.$,Je.t3,Je.SK,S.Ls,b.xH,b.xw,h.w,a.Uo,a._C,a.Om,a.p0,a.$Z,c],encapsulation:2}),y})(),k=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275mod=I.oAB({type:y}),y.\u0275inj=I.cJS({imports:[ot.G,rt.F,st.Bz.forChild([{path:"en",component:v},{path:"zh",component:V}])]}),y})()}}]);